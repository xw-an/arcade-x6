{"remainingRequest":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/param/ToolParamConfig.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/param/ToolParamConfig.vue","mtime":1689428251193},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/babel.config.js","mtime":1667046646049},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js","mtime":1689430342224},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js","mtime":1689430342169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UtYWxsLmpzIjsKLy8g5Y+C5pWwdGFi6aG1CmltcG9ydCB7IHJlYWN0aXZlLCByZWYsIHdhdGNoRWZmZWN0IH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgZ2V0VG9vbERldGFpbCwgZ2V0VG9vbE5hbWVzLCBydW5Ub29sLCB1cGRhdGVOb2RlIH0gZnJvbSAiQC9hcGkvcmVxdWVzdCI7CmltcG9ydCB7IG1lc3NhZ2UgfSBmcm9tICJhbnQtZGVzaWduLXZ1ZSI7CmltcG9ydCB7IGpzb24gfSBmcm9tICJAY29kZW1pcnJvci9sYW5nLWpzb24iOwppbXBvcnQgeyBDb2RlbWlycm9yIH0gZnJvbSAidnVlLWNvZGVtaXJyb3IvZGlzdC92dWUtY29kZW1pcnJvci5lc20iOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICJ2dWUtcm91dGVyL2Rpc3QvdnVlLXJvdXRlciI7CmNvbnN0IHByb2Nlc3NJbnN0YW5jZUlkID0gcmVmKDApOwpjb25zdCBhdXRob3IgPSByZWYoJycpOwpjb25zdCB1c2VQYXJhbXNQYW5lbEVmZmVjdCA9IChwcm9wcywgY3R4KSA9PiB7CiAgY29uc3QgZm9ybVJ1bGUgPSByZWYoe30pOwogIGNvbnN0IGZvcm1Ob2RlUGFyYW0gPSByZWFjdGl2ZSh7CiAgICBkZXBhcnRtZW50OiBudWxsLAogICAgdG9vbElkOiBudWxsLAogICAgcmVxdWVzdEpzb246IG51bGwsCiAgICByZXNwb25zZVBhcmFtTmFtZTogbnVsbCwKICAgIHJlc3BvbnNlSnNvbjogbnVsbAogIH0pOwogIGNvbnN0IGRlcGFydG1lbnRPcHRpb25zID0gW3sKICAgIHZhbHVlOiAnTWlkZGxld2FyZVRvb2wnLAogICAgbGFiZWw6ICfkuK3pl7Tku7YnCiAgfSwgewogICAgdmFsdWU6ICdGb250VG9vbCcsCiAgICBsYWJlbDogJ+WJjeWPsCcKICB9LCB7CiAgICB2YWx1ZTogJ01pZGRsZVRvb2wnLAogICAgbGFiZWw6ICfkuK3lj7AnCiAgfSwgewogICAgdmFsdWU6ICdVc2VyVG9vbCcsCiAgICBsYWJlbDogJ+eUqOaItycKICB9LCB7CiAgICB2YWx1ZTogJ1V0aWxUb29sJywKICAgIGxhYmVsOiAn5YWs5YWxJwogIH1dOwogIGNvbnN0IHRvb2xOYW1lT3B0aW9ucyA9IHJlZihbXSk7CiAgY29uc3QgZ2V0TmFtZXMgPSBhc3luYyAoKSA9PiB7CiAgICBsZXQgcmVxID0gewogICAgICBkZXBhcnRtZW50OiBmb3JtTm9kZVBhcmFtLmRlcGFydG1lbnQKICAgIH07CiAgICBhd2FpdCBnZXRUb29sTmFtZXMocmVxKS50aGVuKHJlcyA9PiB7CiAgICAgIGlmIChyZXMuY29kZSA9PT0gMCAmJiByZXMuZGF0YSkgewogICAgICAgIHRvb2xOYW1lT3B0aW9ucy52YWx1ZSA9IHJlcy5kYXRhLm1hcChpdGVtID0+IHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkLAogICAgICAgICAgICBsYWJlbDogaXRlbS50b29sTmFtZS50cmltKCkKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH07CiAgY29uc3QgZmlsdGVyT3B0aW9uID0gKGlucHV0LCBvcHRpb24pID0+IHsKICAgIHJldHVybiBvcHRpb24ubGFiZWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKGlucHV0LnRvTG93ZXJDYXNlKCkpID49IDA7CiAgICAvLyByZXR1cm4gb3B0aW9uLnZhbHVlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwOwogIH07CgogIGNvbnN0IGdldFJlcXVlc3RKc29uID0gYXN5bmMgKCkgPT4gewogICAgbGV0IHJlcSA9IHsKICAgICAgdG9vbElkOiBmb3JtTm9kZVBhcmFtLnRvb2xJZAogICAgfTsKICAgIGdldFRvb2xEZXRhaWwocmVxKS50aGVuKHJlcyA9PiB7CiAgICAgIHZhciBfcmVzJGRhdGE7CiAgICAgIGlmIChyZXMuY29kZSA9PT0gMCAmJiAoX3JlcyRkYXRhID0gcmVzLmRhdGEpICE9PSBudWxsICYmIF9yZXMkZGF0YSAhPT0gdm9pZCAwICYmIF9yZXMkZGF0YS50ZXN0VG9vbERldGFpbCkgewogICAgICAgIHZhciBfcmVzJGRhdGEyLCBfcmVzJGRhdGEyJHRlc3RUb29sRGU7CiAgICAgICAgbGV0IG9iaiA9IEpTT04ucGFyc2UoKF9yZXMkZGF0YTIgPSByZXMuZGF0YSkgPT09IG51bGwgfHwgX3JlcyRkYXRhMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9yZXMkZGF0YTIkdGVzdFRvb2xEZSA9IF9yZXMkZGF0YTIudGVzdFRvb2xEZXRhaWwpID09PSBudWxsIHx8IF9yZXMkZGF0YTIkdGVzdFRvb2xEZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcyRkYXRhMiR0ZXN0VG9vbERlLnJlcXVlc3RQYXJhbSk7CiAgICAgICAgbGV0IHJlcXVlc3RKc29uID0ge307CiAgICAgICAgb2JqLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICByZXF1ZXN0SnNvbltpdGVtLm5hbWVdID0gaXRlbSA9PT0gbnVsbCB8fCBpdGVtID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVtLmRlZmF1bHRWYWx1ZTsKICAgICAgICB9KTsKICAgICAgICBmb3JtTm9kZVBhcmFtLnJlcXVlc3RKc29uID0gSlNPTi5zdHJpbmdpZnkocmVxdWVzdEpzb24sIG51bGwsICdcdCcpOwogICAgICB9IGVsc2UgewogICAgICAgIG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpOwogICAgICB9CiAgICB9KTsKICB9OwogIGNvbnN0IGV4dGVuc2lvbnNSZXF1ZXN0ID0gW2pzb24oKV07CiAgY29uc3QgZXh0ZW5zaW9uc1Jlc3BvbnNlID0gW2pzb24oKV07CiAgLy8g5rWL6K+V6K+35rGC77yM6I635Y+W57uT5p6cCiAgY29uc3QgdGVzdFJlcXVlc3QgPSBhc3luYyAoKSA9PiB7CiAgICAvLyDlhYjliKTmlq3kuIDkuIvlhaXlj4LmiqXmlofkuI3kuLrnqbrlnKjosIPnlKjmjqXlj6MKICAgIGlmIChmb3JtTm9kZVBhcmFtLnJlcXVlc3RKc29uICYmIGZvcm1Ob2RlUGFyYW0udG9vbElkKSB7CiAgICAgIC8vIOiwg+WQjuerr+aOpeWPo+i/kOihjOW3peWFtwogICAgICBsZXQgcmVxID0gewogICAgICAgIHRvb2xJZDogZm9ybU5vZGVQYXJhbS50b29sSWQsCiAgICAgICAgcmVxdWVzdFBhcmFtOiBmb3JtTm9kZVBhcmFtLnJlcXVlc3RKc29uLnRvU3RyaW5nKCkucmVwbGFjZUFsbCgnXHQnLCAnJykucmVwbGFjZUFsbCgnXG4nLCAnJyksCiAgICAgICAgb3BlcmF0b3I6ICJhbXkueHVlIiAvLyB0b2RvIOW9k+WJjeeZu+W9leeUqOaItwogICAgICB9OwoKICAgICAgYXdhaXQgcnVuVG9vbChyZXEpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICAgIGZvcm1Ob2RlUGFyYW0ucmVzcG9uc2VKc29uID0gSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEucmVzcG9uc2VQYXJhbSwgbnVsbCwgJ1x0Jyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoJ+W3peWFt+aJp+ihjOWksei0pe+8micgKyByZXMubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9OwogIGNvbnN0IHNhdmVQYXJhbXMgPSBhc3luYyBub2RlID0+IHsKICAgIGZvcm1SdWxlLnZhbHVlLnZhbGlkYXRlRmllbGRzKCkudGhlbihhc3luYyAoKSA9PiB7CiAgICAgIGxldCByZXEgPSB7CiAgICAgICAgInByb2Nlc3NOb2RlIjogewogICAgICAgICAgInZlcnNpb25JZCI6IHByb3BzLnZlcnNpb25JZCwKICAgICAgICAgICJwcm9jZXNzSW5zdGFuY2VJZCI6IHByb2Nlc3NJbnN0YW5jZUlkLnZhbHVlLAogICAgICAgICAgInV1aWQiOiBub2RlLmlkLAogICAgICAgICAgInVwZGF0ZWRCeSI6IGF1dGhvci52YWx1ZQogICAgICAgIH0sCiAgICAgICAgInByb2Nlc3NJbnN0YW5jZVBhcmFtZXRlciI6IFt7CiAgICAgICAgICAidmVyc2lvbklkIjogcHJvcHMudmVyc2lvbklkLAogICAgICAgICAgInBhcmFtZXRlclR5cGUiOiAi5Y+C5pWw5L+h5oGvIiwKICAgICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInBhcmFtcyIsCiAgICAgICAgICAicGFyYW1ldGVyVmFsdWUiOiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgIGRlcGFydG1lbnQ6IGZvcm1Ob2RlUGFyYW0gPT09IG51bGwgfHwgZm9ybU5vZGVQYXJhbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZm9ybU5vZGVQYXJhbS5kZXBhcnRtZW50LAogICAgICAgICAgICB0b29sSWQ6IGZvcm1Ob2RlUGFyYW0gPT09IG51bGwgfHwgZm9ybU5vZGVQYXJhbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZm9ybU5vZGVQYXJhbS50b29sSWQsCiAgICAgICAgICAgIHJlcXVlc3RKc29uOiBmb3JtTm9kZVBhcmFtID09PSBudWxsIHx8IGZvcm1Ob2RlUGFyYW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZvcm1Ob2RlUGFyYW0ucmVxdWVzdEpzb24udG9TdHJpbmcoKS5yZXBsYWNlQWxsKCdcdCcsICcnKS5yZXBsYWNlQWxsKCdcbicsICcnKSwKICAgICAgICAgICAgcmVzcG9uc2VQYXJhbU5hbWU6IGZvcm1Ob2RlUGFyYW0gPT09IG51bGwgfHwgZm9ybU5vZGVQYXJhbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZm9ybU5vZGVQYXJhbS5yZXNwb25zZVBhcmFtTmFtZQogICAgICAgICAgfSksCiAgICAgICAgICAidXBkYXRlZEJ5IjogYXV0aG9yLnZhbHVlCiAgICAgICAgfV0KICAgICAgfTsKICAgICAgYXdhaXQgdXBkYXRlTm9kZShyZXEpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICAgIG1lc3NhZ2Uuc3VjY2Vzcygi5Y+C5pWw5pu05paw5oiQ5YqfOyIgKyAiaWQ6IiArIG5vZGUuaWQpOwogICAgICAgICAgY3R4LmVtaXQoJ2Nsb3NlJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG1lc3NhZ2UuZXJyb3IoIuWPguaVsOabtOaWsOWksei0pe+8miIgKyByZXMubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpCiAgICAgIG1lc3NhZ2UuZXJyb3IoJ+ivt+Whq+WGmeWujOW/heWhq+mhuScpOwogICAgfSk7CiAgfTsKICB3YXRjaEVmZmVjdCgoKSA9PiB7CiAgICBpZiAocHJvcHMuYWN0aXZlS2V5ID09ICcxJyAmJiBwcm9wcy5ub2RlUGFyYW1zKSB7CiAgICAgIHZhciBfcHJvcHMkbm9kZVBhcmFtcyRwcm87CiAgICAgIGxldCBqc29uUGFyYW1zID0gKF9wcm9wcyRub2RlUGFyYW1zJHBybyA9IHByb3BzLm5vZGVQYXJhbXMucHJvY2Vzc0luc3RhbmNlUGFyYW1ldGVyKSAhPT0gbnVsbCAmJiBfcHJvcHMkbm9kZVBhcmFtcyRwcm8gIT09IHZvaWQgMCAmJiBfcHJvcHMkbm9kZVBhcmFtcyRwcm8ucGFyYW1ldGVyVmFsdWUgPyBKU09OLnBhcnNlKHByb3BzLm5vZGVQYXJhbXMucHJvY2Vzc0luc3RhbmNlUGFyYW1ldGVyLnBhcmFtZXRlclZhbHVlKSA6IG51bGw7CiAgICAgIGZvcm1Ob2RlUGFyYW0uZGVwYXJ0bWVudCA9IGpzb25QYXJhbXMgPyBqc29uUGFyYW1zID09PSBudWxsIHx8IGpzb25QYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGpzb25QYXJhbXMuZGVwYXJ0bWVudCA6IG51bGw7CiAgICAgIGZvcm1Ob2RlUGFyYW0udG9vbElkID0ganNvblBhcmFtcyA/IGpzb25QYXJhbXMgPT09IG51bGwgfHwganNvblBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDoganNvblBhcmFtcy50b29sSWQgOiBudWxsOwogICAgICBmb3JtTm9kZVBhcmFtLnJlcXVlc3RKc29uID0ganNvblBhcmFtcyA/IEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UoanNvblBhcmFtcyA9PT0gbnVsbCB8fCBqc29uUGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBqc29uUGFyYW1zLnJlcXVlc3RKc29uKSwgbnVsbCwgJ1x0JykgOiBudWxsOwogICAgICBmb3JtTm9kZVBhcmFtLnJlc3BvbnNlUGFyYW1OYW1lID0ganNvblBhcmFtcyA/IGpzb25QYXJhbXMgPT09IG51bGwgfHwganNvblBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDoganNvblBhcmFtcy5yZXNwb25zZVBhcmFtTmFtZSA6IG51bGw7CiAgICAgIGZvcm1Ob2RlUGFyYW0ucmVzcG9uc2VKc29uID0gbnVsbDsKICAgIH0KICB9KTsKICB3YXRjaEVmZmVjdCgoKSA9PiB7CiAgICBpZiAocHJvcHMuYWN0aXZlS2V5ID09ICcxJyAmJiBmb3JtTm9kZVBhcmFtLmRlcGFydG1lbnQpIHsKICAgICAgZ2V0TmFtZXMoKTsKICAgIH0KICAgIGlmIChwcm9wcy5hY3RpdmVLZXkgPT0gJzEnICYmIGZvcm1Ob2RlUGFyYW0udG9vbElkKSB7CiAgICAgIGdldFJlcXVlc3RKc29uKCk7CiAgICB9CiAgfSk7CiAgcmV0dXJuIHsKICAgIGZvcm1SdWxlLAogICAgZm9ybU5vZGVQYXJhbSwKICAgIGRlcGFydG1lbnRPcHRpb25zLAogICAgdG9vbE5hbWVPcHRpb25zLAogICAgZXh0ZW5zaW9uc1JlcXVlc3QsCiAgICBleHRlbnNpb25zUmVzcG9uc2UsCiAgICBmaWx0ZXJPcHRpb24sCiAgICBzYXZlUGFyYW1zLAogICAgdGVzdFJlcXVlc3QKICB9Owp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlRvb2xQYXJhbUNvbmZpZyIsCiAgcHJvcHM6IFsnbm9kZScsICdhY3RpdmVLZXknLCAnbm9kZVBhcmFtcycsICd2ZXJzaW9uSWQnXSwKICBlbWl0czogWydjbG9zZSddLAogIGNvbXBvbmVudHM6IHsKICAgIENvZGVtaXJyb3IKICB9LAogIHNldHVwKHByb3BzLCBjdHgpIHsKICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgcHJvY2Vzc0luc3RhbmNlSWQudmFsdWUgPSByb3V0ZXIuY3VycmVudFJvdXRlLnZhbHVlLnBhcmFtcy5wcm9jZXNzSW5zdGFuY2VJZDsKICAgIGF1dGhvci52YWx1ZSA9IHN0b3JlLnN0YXRlLnVzZXIuYWNjb3VudDsKICAgIGNvbnN0IHsKICAgICAgZm9ybVJ1bGUsCiAgICAgIGZvcm1Ob2RlUGFyYW0sCiAgICAgIGRlcGFydG1lbnRPcHRpb25zLAogICAgICB0b29sTmFtZU9wdGlvbnMsCiAgICAgIGV4dGVuc2lvbnNSZXF1ZXN0LAogICAgICBmaWx0ZXJPcHRpb24sCiAgICAgIHNhdmVQYXJhbXMsCiAgICAgIGV4dGVuc2lvbnNSZXNwb25zZSwKICAgICAgdGVzdFJlcXVlc3QKICAgIH0gPSB1c2VQYXJhbXNQYW5lbEVmZmVjdChwcm9wcywgY3R4KTsKICAgIHJldHVybiB7CiAgICAgIGZvcm1SdWxlLAogICAgICBmb3JtTm9kZVBhcmFtLAogICAgICBkZXBhcnRtZW50T3B0aW9ucywKICAgICAgdG9vbE5hbWVPcHRpb25zLAogICAgICBleHRlbnNpb25zUmVxdWVzdCwKICAgICAgZmlsdGVyT3B0aW9uLAogICAgICBzYXZlUGFyYW1zLAogICAgICBleHRlbnNpb25zUmVzcG9uc2UsCiAgICAgIHRlc3RSZXF1ZXN0CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":"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","names":["reactive","ref","watchEffect","getToolDetail","getToolNames","runTool","updateNode","message","json","Codemirror","useStore","useRouter","processInstanceId","author","useParamsPanelEffect","props","ctx","formRule","formNodeParam","department","toolId","requestJson","responseParamName","responseJson","departmentOptions","value","label","toolNameOptions","getNames","req","then","res","code","data","map","item","id","toolName","trim","filterOption","input","option","toLowerCase","indexOf","getRequestJson","testToolDetail","obj","JSON","parse","requestParam","forEach","name","defaultValue","stringify","error","extensionsRequest","extensionsResponse","testRequest","toString","replaceAll","operator","responseParam","saveParams","node","validateFields","versionId","success","emit","catch","activeKey","nodeParams","jsonParams","processInstanceParameter","parameterValue","emits","components","setup","router","store","currentRoute","params","state","user","account"],"sourceRoot":"","sources":["/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/param/ToolParamConfig.vue"],"sourcesContent":["<template>\n  <a-row style=\"width: 100%;text-align: right;padding-bottom: 5px\">\n    <a-col :span=\"24\">\n      <a-button size=\"small\" type=\"primary\" @click=\"testRequest\">测试请求</a-button>\n    </a-col>\n  </a-row>\n  <a-form ref=\"formRule\" :model=\"formNodeParam\" :label-col=\"{ span: 3 }\" :wrapper-col=\"{ span: 20,offset: 1  }\" style=\"margin-top: 5px;\">\n    <a-form-item label=\"部门\" name=\"department\" :rules=\"{required: true,message: '部门必选'}\">\n      <a-select v-model:value=\"formNodeParam.department\" :options=\"departmentOptions\"></a-select>\n    </a-form-item>\n    <a-form-item label=\"工具名\" name=\"toolId\" :rules=\"{required: true,message: '工具必选'}\">\n      <a-select\n          v-model:value=\"formNodeParam.toolId\"\n          :options=\"toolNameOptions\"\n          show-search\n          allow-clear\n          :filterOption=\"filterOption\"\n      >\n      </a-select>\n    </a-form-item>\n    <a-form-item label=\"请求json\" name=\"requestJson\" :rules=\"{required: true,message: '请求json必填'}\">\n      <codemirror v-model=\"formNodeParam.requestJson\" style=\"height: 260px;width:100%;\"\n                  :autofocus=\"true\"\n                  :indent-with-tab=\"true\"\n                  :tabSize=\"2\"\n                  :extensions=\"extensionsRequest\"/>\n    </a-form-item>\n    <a-form-item label=\"返回json\">\n      <codemirror v-model=\"formNodeParam.responseJson\" style=\"height: 260px;width:100%;\"\n                  :autofocus=\"true\"\n                  :indent-with-tab=\"true\"\n                  :tabSize=\"2\"\n                  :extensions=\"extensionsResponse\"/>\n    </a-form-item>\n    <a-form-item label=\"响应变量名\">\n      <a-input v-model:value=\"formNodeParam.responseParamName\"/>\n    </a-form-item>\n  </a-form>\n  <a-button type=\"primary\" style=\"bottom: 10px;right:25px;position: fixed\" @click=\"saveParams(node)\">保存</a-button>\n</template>\n\n<script>\n// 参数tab页\nimport {reactive, ref, watchEffect} from \"vue\";\nimport {getToolDetail, getToolNames, runTool, updateNode} from \"@/api/request\";\nimport {message} from \"ant-design-vue\";\nimport {json} from \"@codemirror/lang-json\";\nimport {Codemirror} from \"vue-codemirror/dist/vue-codemirror.esm\";\nimport {useStore} from \"vuex\";\nimport {useRouter} from \"vue-router/dist/vue-router\";\nconst processInstanceId = ref(0)\nconst author = ref('')\n\nconst useParamsPanelEffect = (props,ctx)=>{\n  const formRule = ref({})\n  const formNodeParam = reactive({\n    department: null,\n    toolId: null,\n    requestJson: null,\n    responseParamName: null,\n    responseJson: null\n  })\n  const departmentOptions = [\n    {value:'MiddlewareTool',label:'中间件'},\n    {value:'FontTool',label:'前台'},\n    {value:'MiddleTool',label:'中台'},\n    {value:'UserTool',label:'用户'},\n    {value:'UtilTool',label:'公共'}\n  ]\n  const toolNameOptions = ref([])\n  const getNames = async ()=>{\n    let req = {\n      department: formNodeParam.department\n    }\n    await getToolNames(req).then(res=>{\n      if(res.code === 0 && res.data){\n        toolNameOptions.value = res.data.map(item=>{\n          return {\n            value: item.id,\n            label: item.toolName.trim()\n          }\n        })\n      }\n    })\n  }\n  const filterOption = (input, option) => {\n    return option.label.toLowerCase().indexOf(input.toLowerCase()) >= 0\n    // return option.value.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n  }\n  const getRequestJson = async ()=>{\n    let req = {toolId: formNodeParam.toolId}\n    getToolDetail(req).then(res=>{\n      if(res.code === 0 && res.data?.testToolDetail) {\n        let obj = JSON.parse(res.data?.testToolDetail?.requestParam)\n        let requestJson = {}\n        obj.forEach(item=>{\n          requestJson[item.name] = item?.defaultValue\n        })\n        formNodeParam.requestJson = JSON.stringify(requestJson,null,'\\t')\n      }else{\n        message.error(res.message)\n      }\n    })\n  }\n  const extensionsRequest = [json()]\n  const extensionsResponse = [json()]\n  // 测试请求，获取结果\n  const testRequest = async()=>{\n    // 先判断一下入参报文不为空在调用接口\n    if (formNodeParam.requestJson && formNodeParam.toolId){\n      // 调后端接口运行工具\n      let req = {\n        toolId: formNodeParam.toolId,\n        requestParam: formNodeParam.requestJson.toString().replaceAll('\\t','').replaceAll('\\n',''),\n        operator: \"amy.xue\" // todo 当前登录用户\n      }\n      await runTool(req).then(res=>{\n        if (res.code === 0) {\n          formNodeParam.responseJson = JSON.stringify(res.data.responseParam,null, '\\t')\n        } else {\n          message.error('工具执行失败：'+res.message)\n        }\n      })\n    }\n  }\n  const saveParams = async(node)=>{\n    formRule.value.validateFields().then(async ()=>{\n      let req = {\n        \"processNode\": {\n          \"versionId\": props.versionId,\n          \"processInstanceId\": processInstanceId.value,\n          \"uuid\": node.id,\n          \"updatedBy\": author.value\n        },\n        \"processInstanceParameter\": [\n          {\n            \"versionId\": props.versionId,\n            \"parameterType\": \"参数信息\",\n            \"parameterName\": \"params\",\n            \"parameterValue\": JSON.stringify({\n              department: formNodeParam?.department,\n              toolId: formNodeParam?.toolId,\n              requestJson: formNodeParam?.requestJson.toString().replaceAll('\\t','').replaceAll('\\n',''),\n              responseParamName: formNodeParam?.responseParamName,\n            }),\n            \"updatedBy\": author.value\n          }]\n      }\n      await updateNode(req).then(res=>{\n        if(res.code === 0){\n          message.success(\"参数更新成功;\"+\"id:\"+node.id)\n          ctx.emit('close')\n        } else {\n          message.error(\"参数更新失败：\"+res.message)\n        }\n      })\n    }).catch(() => {\n      // console.log(error)\n      message.error('请填写完必填项')\n    })\n  }\n  watchEffect(()=>{\n    if(props.activeKey == '1' && props.nodeParams){\n      let jsonParams = props.nodeParams.processInstanceParameter?.parameterValue?JSON.parse(props.nodeParams.processInstanceParameter.parameterValue):null\n      formNodeParam.department = jsonParams?jsonParams?.department:null\n      formNodeParam.toolId = jsonParams?jsonParams?.toolId:null\n      formNodeParam.requestJson = jsonParams?JSON.stringify(JSON.parse(jsonParams?.requestJson),null, '\\t'):null\n      formNodeParam.responseParamName = jsonParams?jsonParams?.responseParamName:null\n      formNodeParam.responseJson = null\n    }\n  })\n  watchEffect(()=>{\n    if (props.activeKey == '1' && formNodeParam.department) {\n      getNames()\n    }\n    if (props.activeKey == '1' && formNodeParam.toolId) {\n      getRequestJson()\n    }\n  })\n  return {\n    formRule,\n    formNodeParam,\n    departmentOptions,\n    toolNameOptions,\n    extensionsRequest,\n    extensionsResponse,\n    filterOption,\n    saveParams,\n    testRequest\n  }\n}\nexport default {\n  name: \"ToolParamConfig\",\n  props: ['node','activeKey','nodeParams','versionId'],\n  emits: ['close'],\n  components: {Codemirror},\n  setup(props,ctx){\n    const router = useRouter()\n    const store = useStore()\n    processInstanceId.value = router.currentRoute.value.params.processInstanceId\n    author.value = store.state.user.account\n    const {formRule,formNodeParam, departmentOptions, toolNameOptions, extensionsRequest,filterOption,saveParams,extensionsResponse,testRequest} = useParamsPanelEffect(props,ctx)\n    return {formRule,formNodeParam, departmentOptions, toolNameOptions, extensionsRequest,filterOption,saveParams,extensionsResponse,testRequest}\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}