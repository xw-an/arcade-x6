{"remainingRequest":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/FlowDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/FlowDetail.vue","mtime":1689427370067},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/babel.config.js","mtime":1667046646049},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js","mtime":1689430342224},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js","mtime":1689430342169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSB9IGZyb20gInZ1ZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiOwppbXBvcnQgeyBHcmFwaCwgU2hhcGUsIEFkZG9uIH0gZnJvbSAnQGFudHYveDYnOwppbXBvcnQgJ0BhbnR2L3g2LXZ1ZS1zaGFwZSc7CmltcG9ydCBHcmFwaENvbmZpZ0NvbnRhaW5lciBmcm9tICJAL3ZpZXdzL2Zsb3dzL2NvbXBvbmVudHMvR3JhcGhDb25maWdDb250YWluZXIiOwppbXBvcnQgTm9kZUNvbmZpZ0NvbnRhaW5lciBmcm9tICJAL3ZpZXdzL2Zsb3dzL2NvbXBvbmVudHMvTm9kZUNvbmZpZ0NvbnRhaW5lciI7CmltcG9ydCBFZGdlQ29uZmlnQ29udGFpbmVyIGZyb20gIkAvdmlld3MvZmxvd3MvY29tcG9uZW50cy9FZGdlQ29uZmlnQ29udGFpbmVyIjsKaW1wb3J0IHsgcmVmLCBvbk1vdW50ZWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyBjcmVhdGVMaW5rLCBjcmVhdGVOb2RlLCBkZWxldGVMaW5rLCBkZWxldGVOb2RlLCBkZXRhaWxJbnN0YW5jZSwgdXBkYXRlTGlua1RhcmdldCwgdXBkYXRlTm9kZUNvb3JkaW5hdGUsIHVwZGF0ZU5vZGVTaXplIH0gZnJvbSAiQC9hcGkvcmVxdWVzdCI7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBtZXNzYWdlIH0gZnJvbSAiYW50LWRlc2lnbi12dWUiOwoKLy8g5Yid5aeL5YyW55S75biDCmxldCBncmFwaCA9IHt9OwpsZXQgY3VyTm9kZSA9IHJlZih7fSk7CmxldCBjdXJFZGdlID0gcmVmKHt9KTsKY29uc3QgaXNOb2RlID0gcmVmKHRydWUpOwpjb25zdCBwcm9jZXNzSW5zdGFuY2VJZCA9IHJlZigwKTsKY29uc3QgYXV0aG9yID0gcmVmKCcnKTsKLy8g55S75biD55u45YWz5pON5L2cCmNvbnN0IHVzZUdyYXBoRWZmZWN0ID0gKCkgPT4gewogIC8vIOWIneWni+WMlueUu+W4gwogIGNvbnN0IGluaXRHcmFwaCA9ICgpID0+IHsKICAgIC8vIOWIneWni+WMlueUu+W4gwogICAgZ3JhcGggPSBuZXcgR3JhcGgoewogICAgICBjb250YWluZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmFwaC1jb250YWluZXInKSwKICAgICAgZ3JpZDogdHJ1ZSwKICAgICAgbW91c2V3aGVlbDogewogICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgem9vbUF0TW91c2VQb3NpdGlvbjogdHJ1ZSwKICAgICAgICBtb2RpZmllcnM6ICdjdHJsJywKICAgICAgICBtaW5TY2FsZTogMC41LAogICAgICAgIG1heFNjYWxlOiAzCiAgICAgIH0sCiAgICAgIGNvbm5lY3Rpbmc6IHsKICAgICAgICByb3V0ZXI6IHsKICAgICAgICAgIG5hbWU6ICdtYW5oYXR0YW4nLAogICAgICAgICAgYXJnczogewogICAgICAgICAgICBwYWRkaW5nOiAxCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjb25uZWN0b3I6IHsKICAgICAgICAgIG5hbWU6ICdyb3VuZGVkJywKICAgICAgICAgIGFyZ3M6IHsKICAgICAgICAgICAgcmFkaXVzOiA4CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhbmNob3I6ICdjZW50ZXInLAogICAgICAgIGNvbm5lY3Rpb25Qb2ludDogJ2FuY2hvcicsCiAgICAgICAgYWxsb3dCbGFuazogdHJ1ZSwKICAgICAgICBzbmFwOiB7CiAgICAgICAgICByYWRpdXM6IDIwCiAgICAgICAgfSwKICAgICAgICBjcmVhdGVFZGdlKCkgewogICAgICAgICAgcmV0dXJuIG5ldyBTaGFwZS5FZGdlKHsKICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICBsaW5lOiB7CiAgICAgICAgICAgICAgICBzdHJva2U6ICcjNEE0QTRBJywKICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAyLAogICAgICAgICAgICAgICAgdGFyZ2V0TWFya2VyOiB7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdibG9jaycsCiAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMiwKICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA4CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB6SW5kZXg6IDAKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgdmFsaWRhdGVDb25uZWN0aW9uKHsKICAgICAgICAgIHRhcmdldE1hZ25ldAogICAgICAgIH0pIHsKICAgICAgICAgIHJldHVybiAhIXRhcmdldE1hZ25ldDsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGhpZ2hsaWdodGluZzogewogICAgICAgIG1hZ25ldEFkc29yYmVkOiB7CiAgICAgICAgICBuYW1lOiAnc3Ryb2tlJywKICAgICAgICAgIGFyZ3M6IHsKICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICBmaWxsOiAnIzVGOTVGRicsCiAgICAgICAgICAgICAgc3Ryb2tlOiAnIzVGOTVGRicKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVzaXppbmc6IHRydWUsCiAgICAgIHJvdGF0aW5nOiB0cnVlLAogICAgICAvLyBzZWxlY3Rpbmc6IHsKICAgICAgLy8gICBlbmFibGVkOiB0cnVlLAogICAgICAvLyAgIHJ1YmJlcmJhbmQ6IHRydWUsCiAgICAgIC8vICAgc2hvd05vZGVTZWxlY3Rpb25Cb3g6IHRydWUKICAgICAgLy8gfSwKICAgICAgc2VsZWN0aW5nOiB7CiAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICBwb2ludGVyRXZlbnRzOiAibm9uZSIsCiAgICAgICAgLy8g5paw5bGe5oCnCiAgICAgICAgc2hvd05vZGVTZWxlY3Rpb25Cb3g6IHRydWUKICAgICAgICAvLyBtdWx0aXBsZTogdHJ1ZSwKICAgICAgfSwKCiAgICAgIHNuYXBsaW5lOiB0cnVlLAogICAgICBrZXlib2FyZDogdHJ1ZSwKICAgICAgY2xpcGJvYXJkOiB0cnVlLAogICAgICBoaXN0b3J5OiB0cnVlLAogICAgICB0cmFuc2xhdGluZzogewogICAgICAgIHJlc3RyaWN0OiB0cnVlCiAgICAgIH0sCiAgICAgIHRyYW5zZm9ybWluZzogewogICAgICAgIGNsZWFyQWxsOiB0cnVlLAogICAgICAgIGNsZWFyT25CbGFua01vdXNlRG93bjogdHJ1ZQogICAgICB9LAogICAgICBwYW5uaW5nOiB7CiAgICAgICAgZW5hYmxlZDogdHJ1ZQogICAgICB9CiAgICB9KTsKICB9OwogIC8vIOeUu+W4g+e7keWumuebkeWQrOS6i+S7tgogIGNvbnN0IGdyYXBoT25FdmVudCA9ICgpID0+IHsKICAgIC8vIOaOp+WItui/nuaOpeahqeaYvuekui/pmpDol48KICAgIGNvbnN0IHNob3dQb3J0cyA9IChwb3J0cywgc2hvdykgPT4gewogICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcG9ydHMubGVuZ3RoOyBpIDwgbGVuOyBpID0gaSArIDEpIHsKICAgICAgICBwb3J0c1tpXS5zdHlsZS52aXNpYmlsaXR5ID0gc2hvdyA/ICd2aXNpYmxlJyA6ICdoaWRkZW4nOwogICAgICB9CiAgICB9OwogICAgZ3JhcGgub24oJ25vZGU6bW91c2VlbnRlcicsICgpID0+IHsKICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyYXBoLWNvbnRhaW5lcicpOwogICAgICBjb25zdCBwb3J0cyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcueDYtcG9ydC1ib2R5Jyk7CiAgICAgIHNob3dQb3J0cyhwb3J0cywgdHJ1ZSk7CiAgICB9KTsKICAgIGdyYXBoLm9uKCdub2RlOm1vdXNlbGVhdmUnLCAoKSA9PiB7CiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmFwaC1jb250YWluZXInKTsKICAgICAgY29uc3QgcG9ydHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLng2LXBvcnQtYm9keScpOwogICAgICBzaG93UG9ydHMocG9ydHMsIGZhbHNlKTsKICAgIH0pOwogICAgZ3JhcGgub24oJ2JsYW5rOmNsaWNrJywgKCkgPT4gewogICAgICBjb25zb2xlLmxvZygn55uR5ZCs5Yiw54K55Ye755S75biDJyk7CiAgICAgIC8vIOaUtue8qeWPs+S+p+mFjee9rumdouadvwogICAgICB1c2VDb25maWdQYW5lbCgpLmhhbmRsZUNsb3NlQ29uZmlnKCk7CiAgICB9KTsKICAgIC8vIOebkeWQrOiwg+iKguiKgueCueWkp+WwjwogICAgZ3JhcGgub24oJ25vZGU6cmVzaXplZCcsICh7CiAgICAgIG5vZGUKICAgIH0pID0+IHsKICAgICAgY3VyTm9kZS52YWx1ZSA9IG5vZGU7CiAgICAgIGlzTm9kZS52YWx1ZSA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKCfnm5HlkKzosIPmlbTlpKflsI/kuIDkuKrmjqfku7ZpZO+8micpOwogICAgICBjb25zdCBzaXplID0gbm9kZS5zaXplKCk7CiAgICAgIHVzZU5vZGVFZmZlY3QoKS51cGRhdGVTaXplKG5vZGUsIHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KTsKICAgIH0pOwogICAgLy8g55uR5ZCs56e75Yqo55S75biD55qE6IqC54K5CiAgICBncmFwaC5vbignbm9kZTptb3ZlZCcsICh7CiAgICAgIG5vZGUKICAgIH0pID0+IHsKICAgICAgY3VyTm9kZS52YWx1ZSA9IG5vZGU7CiAgICAgIGlzTm9kZS52YWx1ZSA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKCfnm5HlkKzliLDnp7vliqjkuIDkuKrmjqfku7ZpZO+8micgKyBub2RlLmlkKTsKICAgICAgaWYgKG5vZGUubGFiZWwgPT0gJ+W8gOWniycgfHwgbm9kZS5sYWJlbCA9PSAn57uT5p2fJykgewogICAgICAgIC8vIOaUtue8qeWPs+S+p+mFjee9rumdouadvwogICAgICAgIHVzZUNvbmZpZ1BhbmVsKCkuaGFuZGxlQ2xvc2VDb25maWcoKTsKICAgICAgfQogICAgICB1c2VOb2RlRWZmZWN0KCkudXBkYXRlWFkobm9kZSwgbm9kZS5wb3NpdGlvbigpLngsIG5vZGUucG9zaXRpb24oKS55KTsKICAgIH0pOwogICAgLy8g55uR5ZCs54K55Ye755S75biD55qE6IqC54K5CiAgICBncmFwaC5vbignbm9kZTpjbGljaycsICh7CiAgICAgIG5vZGUKICAgIH0pID0+IHsKICAgICAgY3VyTm9kZS52YWx1ZSA9IG5vZGU7CiAgICAgIGlzTm9kZS52YWx1ZSA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKCfnm5HlkKzliLDngrnlh7vkuIDkuKrmjqfku7ZpZO+8micgKyBub2RlLmlkKTsKICAgICAgaWYgKG5vZGUubGFiZWwgPT0gJ+W8gOWniycgfHwgbm9kZS5sYWJlbCA9PSAn57uT5p2fJykgewogICAgICAgIC8vIOaUtue8qeWPs+S+p+mFjee9rumdouadvwogICAgICAgIHVzZUNvbmZpZ1BhbmVsKCkuaGFuZGxlQ2xvc2VDb25maWcoKTsKICAgICAgICBtZXNzYWdlLmluZm8oJ+W8gOWniy/nu5PmnZ/oioLngrnkuI3lj6/phY3nva4nKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDmiZPlvIDlj7PkvqfphY3nva7pnaLmnb8KICAgICAgICB1c2VDb25maWdQYW5lbCgpLmhhbmRsZU9wZW5Db25maWcoKTsKICAgICAgfQogICAgICAvLyB1c2VDb25maWdQYW5lbCgpLmhhbmRsZU9wZW5Db25maWcoKQogICAgICAvLyBjb25zb2xlLmxvZyhlKQogICAgICAvLyBjb25zb2xlLmxvZyh4KQogICAgICAvLyBjb25zb2xlLmxvZyh5KQogICAgICAvLyBjb25zb2xlLmxvZyh2aWV3KQogICAgfSk7CiAgICAvLyDnm5HlkKznlLvluIPmt7vliqDoioLngrnliqjkvZwKICAgIGdyYXBoLm9uKCdub2RlOmFkZGVkJywgKHsKICAgICAgbm9kZQogICAgfSkgPT4gewogICAgICBjdXJOb2RlLnZhbHVlID0gbm9kZTsKICAgICAgaXNOb2RlLnZhbHVlID0gdHJ1ZTsKICAgICAgY29uc29sZS5sb2coJ+ebkeWQrOWIsOaLluWFpeS4gOS4quaOp+S7tmlk5byA5aeL77yaJyArIG5vZGUuaWQpOwogICAgICAvLyDmlLbnvKnlj7PkvqfphY3nva7pnaLmnb8KICAgICAgdXNlQ29uZmlnUGFuZWwoKS5oYW5kbGVDbG9zZUNvbmZpZygpOwogICAgICB1c2VOb2RlRWZmZWN0KCkuY3JlYXRlTm9kZUFwaShjdXJOb2RlLnZhbHVlKTsgLy8g6LCD55So5ZCO56uv5o6l5Y+j5Yib5bu66IqC54K5CiAgICAgIGNvbnNvbGUubG9nKCfnm5HlkKzliLDmi5blhaXkuIDkuKrmjqfku7ZpZOe7k+adn++8micgKyBub2RlLmlkKTsKICAgICAgLy8gY29uc29sZS5sb2coaW5kZXgpCiAgICAgIC8vIGNvbnNvbGUubG9nKG9wdGlvbnMpCiAgICB9KTsKICAgIC8vIOebkeWQrOeUu+W4g+enu+mZpOiKgueCueWKqOS9nAogICAgZ3JhcGgub24oJ25vZGU6cmVtb3ZlZCcsICh7CiAgICAgIG5vZGUKICAgIH0pID0+IHsKICAgICAgLy8gbGV0IG5hbWUgPSBub2RlLnNoYXBlPT09ImN1c3RvbS10ZXh0Ij9ub2RlLmF0dHJzLmxhYmVsPy50ZXh0Om5vZGUuYXR0cnMudGV4dD8udGV4dAogICAgICAvLyAvLyDlpoLmnpzmmK/lvIDlp4sv57uT5p2f6IqC54K55LiN6LCD5o6l5Y+j5Yig6ZmkCiAgICAgIC8vIGlmKG5hbWUgPT0gJ+W8gOWniyd8fG5hbWUgPT0gJ+e7k+adnycpewogICAgICAvLyAgIG1lc3NhZ2UuZXJyb3IoJ+W8gOWniy/nu5PmnZ/oioLngrnkuI3og73liKDpmaQnKQogICAgICAvLyAgIHJldHVybgogICAgICAvLyB9CiAgICAgIGN1ck5vZGUudmFsdWUgPSBub2RlOwogICAgICBjb25zb2xlLmxvZygn55uR5ZCs5Yiw56e76Zmk5LiA5Liq5o6n5Lu2aWTlvIDlp4vvvJonICsgbm9kZS5pZCk7CiAgICAgIC8vIOaUtue8qeWPs+S+p+mFjee9rumdouadvwogICAgICAvLyB1c2VDb25maWdQYW5lbCgpLmhhbmRsZUNsb3NlQ29uZmlnKCkKICAgICAgLy8gdXNlTm9kZUVmZmVjdCgpLmRlbGV0ZU5vZGVBcGkoY3VyTm9kZS52YWx1ZSkKICAgICAgY29uc29sZS5sb2coJ+ebkeWQrOWIsOenu+mZpOS4gOS4quaOp+S7tmlk57uT5p2f77yaJyArIG5vZGUuaWQpOwogICAgICAvLyBjb25zb2xlLmxvZyhpbmRleCkKICAgICAgLy8gY29uc29sZS5sb2cob3B0aW9ucykKICAgIH0pOwogICAgLy8g55uR5ZCs6IqC54K55LmL6Ze06L+e5o6l5Yqo5L2cCiAgICBncmFwaC5vbignZWRnZTphZGRlZCcsICh7CiAgICAgIGVkZ2UKICAgIH0pID0+IHsKICAgICAgaXNOb2RlLnZhbHVlID0gZmFsc2U7CiAgICAgIGN1ckVkZ2UudmFsdWUgPSBlZGdlOwogICAgICBjb25zb2xlLmxvZygn55uR5ZCs5Yiw6L+e5o6l57q/5Yqo5L2c5byA5aeL77yaJyArIGVkZ2UuaWQpOwogICAgICAvLyDmlLbnvKnlj7PkvqfphY3nva7pnaLmnb8KICAgICAgdXNlQ29uZmlnUGFuZWwoKS5oYW5kbGVDbG9zZUNvbmZpZygpOwogICAgICB1c2VOb2RlRWZmZWN0KCkuY3JlYXRlTGlua0FwaShjdXJFZGdlLnZhbHVlKTsKICAgICAgY29uc29sZS5sb2coJ+ebkeWQrOWIsOi/nuaOpee6v+WKqOS9nOe7k+adn++8micgKyBlZGdlLmlkKTsKICAgIH0pOwogICAgZ3JhcGgub24oJ2VkZ2U6Y2hhbmdlOnRhcmdldCcsICh7CiAgICAgIGNlbGwsCiAgICAgIGN1cnJlbnQKICAgIH0pID0+IHsKICAgICAgaXNOb2RlLnZhbHVlID0gZmFsc2U7CiAgICAgIGNvbnNvbGUubG9nKCfnm5HlkKzliLDov57mjqXnur9jaGFuZ2XliqjkvZzlvIDlp4vvvJonKTsKICAgICAgLy8gY29uc29sZS5sb2coY2VsbCkKICAgICAgLy8gY29uc29sZS5sb2coY3VycmVudCkKICAgICAgLy8gY29uc29sZS5sb2cocHJldmlvdXMpCiAgICAgIC8vIGNvbnNvbGUubG9nKG9wdGlvbnMpCiAgICAgIC8vIGNvbnNvbGUubG9nKGNlbGwuZ2V0U291cmNlUG9ydElkKCkpCiAgICAgIC8vIGNvbnNvbGUubG9nKGNlbGwuZ2V0VGFyZ2V0UG9ydElkKCkpCiAgICAgIGlmIChjZWxsLmlkICYmIGN1cnJlbnQuY2VsbCAmJiBjZWxsLmdldFRhcmdldFBvcnRJZCgpICYmIGNlbGwuZ2V0U291cmNlUG9ydElkKCkpIHsKICAgICAgICBjb25zdCBvYmogPSB7CiAgICAgICAgICBpZDogY2VsbC5pZCwKICAgICAgICAgIHRhcmdldE5vZGVJZDogY3VycmVudC5jZWxsLAogICAgICAgICAgdGFyZ2V0UG9ydElkOiBjZWxsLmdldFRhcmdldFBvcnRJZCgpLAogICAgICAgICAgc291cmNlUG9ydElkOiBjZWxsLmdldFNvdXJjZVBvcnRJZCgpCiAgICAgICAgfTsKICAgICAgICBjb25zb2xlLmxvZyhvYmopOwogICAgICAgIHVzZU5vZGVFZmZlY3QoKS51cGRhdGVUYXJnZXRBcGkob2JqKTsKICAgICAgfQogICAgICBjb25zb2xlLmxvZygn55uR5ZCs5Yiw6L+e5o6l57q/Y2hhbmdl5Yqo5L2c57uT5p2f77yaJyk7CiAgICB9KTsKICAgIC8vIOebkeWQrOeCueWHu+iKgueCueS5i+mXtOi/nuaOpeWKqOS9nAogICAgZ3JhcGgub24oJ2VkZ2U6Y2xpY2snLCAoewogICAgICBlZGdlCiAgICB9KSA9PiB7CiAgICAgIGlzTm9kZS52YWx1ZSA9IGZhbHNlOwogICAgICBjdXJFZGdlLnZhbHVlID0gZWRnZTsKICAgICAgY29uc29sZS5sb2coJ+ebkeWQrOWIsOeCueWHu+i/nuaOpee6v+WKqOS9nOW8gOWni++8micgKyBlZGdlLmlkKTsKICAgICAgLy8g5omT5byA5Y+z5L6n6YWN572u6Z2i5p2/CiAgICAgIHVzZUNvbmZpZ1BhbmVsKCkuaGFuZGxlT3BlbkNvbmZpZygpOwogICAgICAvLyBjb25zb2xlLmxvZyhlKQogICAgICAvLyBjb25zb2xlLmxvZyh4KQogICAgICAvLyBjb25zb2xlLmxvZyh5KQogICAgICAvLyBjb25zb2xlLmxvZyh2aWV3KQogICAgfSk7CiAgICAvLyDnm5HlkKzoioLngrnkuYvpl7Tnp7vpmaTov57mjqXliqjkvZwKICAgIGdyYXBoLm9uKCdlZGdlOnJlbW92ZWQnLCAoewogICAgICBlZGdlCiAgICB9KSA9PiB7CiAgICAgIGlzTm9kZS52YWx1ZSA9IGZhbHNlOwogICAgICBjdXJFZGdlLnZhbHVlID0gZWRnZTsKICAgICAgY29uc29sZS5sb2coJ+ebkeWQrOWIsOenu+mZpOi/nuaOpee6v+WKqOS9nOW8gOWni++8micgKyBlZGdlLmlkKTsKICAgICAgLy8g5pS257yp5Y+z5L6n6YWN572u6Z2i5p2/CiAgICAgIC8vIHVzZUNvbmZpZ1BhbmVsKCkuaGFuZGxlQ2xvc2VDb25maWcoKQogICAgICAvLyB1c2VOb2RlRWZmZWN0KCkuZGVsZXRlTGlua0FwaShjdXJFZGdlLnZhbHVlKQogICAgICBjb25zb2xlLmxvZygn55uR5ZCs5Yiw56e76Zmk6L+e5o6l57q/5Yqo5L2c57uT5p2f77yaJyArIGVkZ2UuaWQpOwogICAgICAvLyBjb25zb2xlLmxvZygnZWRnZTpyZW1vdmVkJykKICAgICAgLy8gY29uc29sZS5sb2coZWRnZSkKICAgICAgLy8gY29uc29sZS5sb2coaW5kZXgpCiAgICAgIC8vIGNvbnNvbGUubG9nKG9wdGlvbnMpCiAgICB9KTsKICB9OwogIC8vIOe7keWumueUu+W4g+W/q+aNt+mUrgogIGNvbnN0IGdyYXBoQmluZEtleSA9ICgpID0+IHsKICAgIC8vIHRvZG8g5pqC5pe25LiN55So77yM5Zug5Li65pKk5Zue5rKh5pyJ5a6e5pe25pu05paw5pWw5o2uCiAgICAvLyBncmFwaC5iaW5kS2V5KFsnbWV0YStjJywgJ2N0cmwrYyddLCAoKSA9PiB7CiAgICAvLyAgIGNvbnN0IGNlbGxzID0gZ3JhcGguZ2V0U2VsZWN0ZWRDZWxscygpCiAgICAvLyAgIGlmIChjZWxscy5sZW5ndGgpIHsKICAgIC8vICAgICBncmFwaC5jb3B5KGNlbGxzKQogICAgLy8gICB9CiAgICAvLyAgIHJldHVybiBmYWxzZQogICAgLy8gfSkKICAgIC8vIGdyYXBoLmJpbmRLZXkoWydtZXRhK3gnLCAnY3RybCt4J10sICgpID0+IHsKICAgIC8vICAgY29uc3QgY2VsbHMgPSBncmFwaC5nZXRTZWxlY3RlZENlbGxzKCkKICAgIC8vICAgaWYgKGNlbGxzLmxlbmd0aCkgewogICAgLy8gICAgIGdyYXBoLmN1dChjZWxscykKICAgIC8vICAgfQogICAgLy8gICByZXR1cm4gZmFsc2UKICAgIC8vIH0pCiAgICAvLyBncmFwaC5iaW5kS2V5KFsnbWV0YSt2JywgJ2N0cmwrdiddLCAoKSA9PiB7CiAgICAvLyAgIGlmICghZ3JhcGguaXNDbGlwYm9hcmRFbXB0eSgpKSB7CiAgICAvLyAgICAgY29uc3QgY2VsbHMgPSBncmFwaC5wYXN0ZSh7IG9mZnNldDogMzIgfSkKICAgIC8vICAgICBncmFwaC5jbGVhblNlbGVjdGlvbigpCiAgICAvLyAgICAgZ3JhcGguc2VsZWN0KGNlbGxzKQogICAgLy8gICB9CiAgICAvLyAgIHJldHVybiBmYWxzZQogICAgLy8gfSkKICAgIC8vIC8vIHVuZG8gcmVkbwogICAgLy8gZ3JhcGguYmluZEtleShbJ21ldGEreicsICdjdHJsK3onXSwgKCkgPT4gewogICAgLy8gICBpZiAoZ3JhcGguaGlzdG9yeS5jYW5VbmRvKCkpIHsKICAgIC8vICAgICBncmFwaC5oaXN0b3J5LnVuZG8oKQogICAgLy8gICB9CiAgICAvLyAgIHJldHVybiBmYWxzZQogICAgLy8gfSkKICAgIC8vIGdyYXBoLmJpbmRLZXkoWydtZXRhK3NoaWZ0K3onLCAnY3RybCtzaGlmdCt6J10sICgpID0+IHsKICAgIC8vICAgaWYgKGdyYXBoLmhpc3RvcnkuY2FuUmVkbygpKSB7CiAgICAvLyAgICAgZ3JhcGguaGlzdG9yeS5yZWRvKCkKICAgIC8vICAgfQogICAgLy8gICByZXR1cm4gZmFsc2UKICAgIC8vIH0pCiAgICAvLyBzZWxlY3QgYWxsCiAgICBncmFwaC5iaW5kS2V5KFsnbWV0YSthJywgJ2N0cmwrYSddLCAoKSA9PiB7CiAgICAgIGNvbnN0IG5vZGVzID0gZ3JhcGguZ2V0Tm9kZXMoKTsKICAgICAgaWYgKG5vZGVzKSB7CiAgICAgICAgZ3JhcGguc2VsZWN0KG5vZGVzKTsKICAgICAgfQogICAgfSk7CiAgICAvLyBkZWxldGUKICAgIGdyYXBoLmJpbmRLZXkoJ2JhY2tzcGFjZScsICgpID0+IHsKICAgICAgY29uc3QgY2VsbHMgPSBncmFwaC5nZXRTZWxlY3RlZENlbGxzKCk7CiAgICAgIGlmIChjZWxscy5sZW5ndGgpIHsKICAgICAgICAvLyDmlLbnvKnlj7PkvqfphY3nva7pnaLmnb8KICAgICAgICB1c2VDb25maWdQYW5lbCgpLmhhbmRsZUNsb3NlQ29uZmlnKCk7CiAgICAgICAgLy8g6LCD5o6l5Y+j5Yig6ZmkCiAgICAgICAgY2VsbHMuZm9yRWFjaChjZWxsID0+IHsKICAgICAgICAgIGlmIChjZWxsLmlzTm9kZSgpKSB7CiAgICAgICAgICAgIHVzZU5vZGVFZmZlY3QoKS5kZWxldGVOb2RlQXBpKGNlbGwpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdXNlTm9kZUVmZmVjdCgpLmRlbGV0ZUxpbmtBcGkoY2VsbCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgLy8gZ3JhcGgucmVtb3ZlQ2VsbHMoY2VsbHMpCiAgICAgIH0KICAgIH0pOwogICAgLy8gem9vbQogICAgZ3JhcGguYmluZEtleShbJ2N0cmwrMScsICdtZXRhKzEnXSwgKCkgPT4gewogICAgICBjb25zdCB6b29tID0gZ3JhcGguem9vbSgpOwogICAgICBpZiAoem9vbSA8IDEuNSkgewogICAgICAgIGdyYXBoLnpvb20oMC4xKTsKICAgICAgfQogICAgfSk7CiAgICBncmFwaC5iaW5kS2V5KFsnY3RybCsyJywgJ21ldGErMiddLCAoKSA9PiB7CiAgICAgIGNvbnN0IHpvb20gPSBncmFwaC56b29tKCk7CiAgICAgIGlmICh6b29tID4gMC41KSB7CiAgICAgICAgZ3JhcGguem9vbSgtMC4xKTsKICAgICAgfQogICAgfSk7CiAgfTsKICByZXR1cm4gewogICAgaW5pdEdyYXBoLAogICAgZ3JhcGhPbkV2ZW50LAogICAgZ3JhcGhCaW5kS2V5CiAgfTsKfTsKCi8vIOW3puS+p+aOp+S7tumdouadvwpjb25zdCB1c2VTdGVuY2lsRWZmZWN0ID0gKCkgPT4gewogIGxldCBzdGVuY2lsID0ge307CiAgLy8g5Yid5aeL5YyW5bem5L6n5rWB56iL5o6n5Lu26Z2i5p2/CiAgY29uc3QgaW5pdFN0ZW5jaWwgPSAoKSA9PiB7CiAgICBzdGVuY2lsID0gbmV3IEFkZG9uLlN0ZW5jaWwoewogICAgICB0aXRsZTogJ+a1geeoi+WbvicsCiAgICAgIHRhcmdldDogZ3JhcGgsCiAgICAgIHN0ZW5jaWxHcmFwaFdpZHRoOiAyNTAsCiAgICAgIHN0ZW5jaWxHcmFwaEhlaWdodDogMzIwLAogICAgICBjb2xsYXBzYWJsZTogdHJ1ZSwKICAgICAgbm90Rm91bmRUZXh0OiAn5pqC5pyq5Yy56YWN5Yiw57uT5p6cJywKICAgICAgc2VhcmNoOiAoY2VsbCwga2V5d29yZCwgZ3JvdXBOYW1lLCBzdGVuY2lsKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZ3JvdXBOYW1lKTsKICAgICAgICBjb25zb2xlLmxvZyhzdGVuY2lsKTsKICAgICAgICBpZiAoa2V5d29yZCkgewogICAgICAgICAgdmFyIF9jZWxsJGxhYmVsOwogICAgICAgICAgcmV0dXJuIGNlbGwgPT09IG51bGwgfHwgY2VsbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jZWxsJGxhYmVsID0gY2VsbC5sYWJlbCkgPT09IG51bGwgfHwgX2NlbGwkbGFiZWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jZWxsJGxhYmVsLmluY2x1ZGVzKGtleXdvcmQpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSwKICAgICAgZ3JvdXBzOiBbewogICAgICAgIHRpdGxlOiAn5Z+656GA6IqC54K5JywKICAgICAgICBuYW1lOiAnZ3JvdXAxJwogICAgICB9CiAgICAgIC8vIHsKICAgICAgLy8gICB0aXRsZTogJ+WbvueJh+iKgueCuScsCiAgICAgIC8vICAgbmFtZTogJ2dyb3VwMicsCiAgICAgIC8vICAgZ3JhcGhIZWlnaHQ6IDI1MCwKICAgICAgLy8gICBsYXlvdXRPcHRpb25zOiB7CiAgICAgIC8vICAgICByb3dIZWlnaHQ6IDcwCiAgICAgIC8vICAgfQogICAgICAvLyB9CiAgICAgIF0sCgogICAgICBsYXlvdXRPcHRpb25zOiB7CiAgICAgICAgY29sdW1uczogMiwKICAgICAgICBjb2x1bW5XaWR0aDogMTEwLAogICAgICAgIHJvd0hlaWdodDogNjAKICAgICAgfQogICAgfSk7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RlbmNpbCcpLmFwcGVuZENoaWxkKHN0ZW5jaWwuY29udGFpbmVyKTsKICB9OwogIC8vIOWIneWni+WMlumTvuaOpeahqQogIGxldCBwb3J0cyA9IHt9OwogIC8vIOWIneWni+WMlumTvuaOpeahqQogIGNvbnN0IGluaXRQb3J0cyA9ICgpID0+IHsKICAgIHBvcnRzID0gewogICAgICBncm91cHM6IHsKICAgICAgICB0b3A6IHsKICAgICAgICAgIHBvc2l0aW9uOiAndG9wJywKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIGNpcmNsZTogewogICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgbWFnbmV0OiB0cnVlLAogICAgICAgICAgICAgIHN0cm9rZTogJyNmZTZhMDAnLAogICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgIGZpbGw6ICcjZmZmJywKICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHJpZ2h0OiB7CiAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JywKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIGNpcmNsZTogewogICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgbWFnbmV0OiB0cnVlLAogICAgICAgICAgICAgIHN0cm9rZTogJyNmZTZhMDAnLAogICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgIGZpbGw6ICcjZmZmJywKICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGJvdHRvbTogewogICAgICAgICAgcG9zaXRpb246ICdib3R0b20nLAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgY2lyY2xlOiB7CiAgICAgICAgICAgICAgcjogNCwKICAgICAgICAgICAgICBtYWduZXQ6IHRydWUsCiAgICAgICAgICAgICAgc3Ryb2tlOiAnI2ZlNmEwMCcsCiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsCiAgICAgICAgICAgICAgZmlsbDogJyNmZmYnLAogICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbGVmdDogewogICAgICAgICAgcG9zaXRpb246ICdsZWZ0JywKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIGNpcmNsZTogewogICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgbWFnbmV0OiB0cnVlLAogICAgICAgICAgICAgIHN0cm9rZTogJyNmZTZhMDAnLAogICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgIGZpbGw6ICcjZmZmJywKICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGl0ZW1zOiBbewogICAgICAgIGdyb3VwOiAndG9wJwogICAgICB9LCB7CiAgICAgICAgZ3JvdXA6ICdyaWdodCcKICAgICAgfSwgewogICAgICAgIGdyb3VwOiAnYm90dG9tJwogICAgICB9LCB7CiAgICAgICAgZ3JvdXA6ICdsZWZ0JwogICAgICB9XQogICAgfTsKICB9OwogIC8vIOa4suafk+aJgOacieW3puS+p+aOp+S7tuWbvuW9ogogIGNvbnN0IGxvYWRTdGVuY2lsID0gKCkgPT4gewogICAgR3JhcGgucmVnaXN0ZXJOb2RlKCdjdXN0b20tcmVjdCcsIHsKICAgICAgaW5oZXJpdDogJ3JlY3QnLAogICAgICB3aWR0aDogODAsCiAgICAgIGhlaWdodDogMzYsCiAgICAgIGF0dHJzOiB7CiAgICAgICAgYm9keTogewogICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsCiAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgIGZpbGw6ICcjZmNmMGU2JwogICAgICAgIH0sCiAgICAgICAgdGV4dDogewogICAgICAgICAgZm9udFNpemU6IDEyLAogICAgICAgICAgZmlsbDogJyMyNjI2MjYnCiAgICAgICAgfQogICAgICB9LAogICAgICBwb3J0czogewogICAgICAgIC4uLnBvcnRzCiAgICAgIH0KICAgIH0sIHRydWUpOwogICAgR3JhcGgucmVnaXN0ZXJOb2RlKCdjdXN0b20tcG9seWdvbicsIHsKICAgICAgaW5oZXJpdDogJ3BvbHlnb24nLAogICAgICB3aWR0aDogODAsCiAgICAgIGhlaWdodDogMzgsCiAgICAgIGF0dHJzOiB7CiAgICAgICAgYm9keTogewogICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsCiAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgIGZpbGw6ICcjZmNmMGU2JwogICAgICAgIH0sCiAgICAgICAgdGV4dDogewogICAgICAgICAgZm9udFNpemU6IDEyLAogICAgICAgICAgZmlsbDogJyMyNjI2MjYnCiAgICAgICAgfQogICAgICB9LAogICAgICBwb3J0czogewogICAgICAgIC4uLnBvcnRzCiAgICAgIH0KICAgIH0sIHRydWUpOwogICAgR3JhcGgucmVnaXN0ZXJOb2RlKCdjdXN0b20tY2lyY2xlJywgewogICAgICBpbmhlcml0OiAnY2lyY2xlJywKICAgICAgd2lkdGg6IDQ4LAogICAgICBoZWlnaHQ6IDQ4LAogICAgICBhdHRyczogewogICAgICAgIGJvZHk6IHsKICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgc3Ryb2tlOiAnI2ZlNmEwMCcsCiAgICAgICAgICBmaWxsOiAnI2ZjZjBlNicKICAgICAgICB9LAogICAgICAgIHRleHQ6IHsKICAgICAgICAgIGZvbnRTaXplOiAxMiwKICAgICAgICAgIGZpbGw6ICcjMjYyNjI2JwogICAgICAgIH0KICAgICAgfSwKICAgICAgcG9ydHM6IHsKICAgICAgICAuLi5wb3J0cwogICAgICB9CiAgICB9LCB0cnVlKTsKICAgIEdyYXBoLnJlZ2lzdGVyTm9kZSgnY3VzdG9tLWN5bGluZGVyJywgewogICAgICBpbmhlcml0OiAnY3lsaW5kZXInLAogICAgICB3aWR0aDogNjIsCiAgICAgIGhlaWdodDogNDgsCiAgICAgIGF0dHJzOiB7CiAgICAgICAgYm9keTogewogICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsCiAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgIGZpbGw6ICcjZmNmMGU2JwogICAgICAgIH0sCiAgICAgICAgdGV4dDogewogICAgICAgICAgZm9udFNpemU6IDEyLAogICAgICAgICAgZmlsbDogJyMyNjI2MjYnLAogICAgICAgICAgcmVmWTogMzIKICAgICAgICB9LAogICAgICAgIHRvcDogewogICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsCiAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgIGZpbGw6ICcjZmNmMGU2JwogICAgICAgIH0KICAgICAgfSwKICAgICAgcG9ydHM6IHsKICAgICAgICAuLi5wb3J0cwogICAgICB9CiAgICB9LCB0cnVlKTsKICAgIEdyYXBoLnJlZ2lzdGVyTm9kZSgnY3VzdG9tLXRleHQnLCB7CiAgICAgIGluaGVyaXQ6ICd0ZXh0LWJsb2NrJywKICAgICAgd2lkdGg6IDYwLAogICAgICBoZWlnaHQ6IDM2LAogICAgICBhdHRyczogewogICAgICAgIGJvZHk6IHsKICAgICAgICAgIC8vIHN0cm9rZVdpZHRoOiAwLAogICAgICAgICAgcng6IDQsCiAgICAgICAgICByeTogNCwKICAgICAgICAgIGZpbGw6ICcjZmZmJywKICAgICAgICAgIHN0cm9rZTogJyNmZmYnCiAgICAgICAgfSwKICAgICAgICB0ZXh0OiB7CiAgICAgICAgICBmb250U2l6ZTogMTIsCiAgICAgICAgICBmaWxsOiAnIzAwMCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBvcnRzOiB7CiAgICAgICAgLi4ucG9ydHMKICAgICAgfQogICAgfSwgdHJ1ZSk7CiAgICBHcmFwaC5yZWdpc3Rlck5vZGUoJ2N1c3RvbS1wYXRoJywgewogICAgICBpbmhlcml0OiAncGF0aCcsCiAgICAgIHdpZHRoOiA2MCwKICAgICAgaGVpZ2h0OiAzNiwKICAgICAgYXR0cnM6IHsKICAgICAgICBib2R5OiB7CiAgICAgICAgICBzdHJva2VXaWR0aDogMSwKICAgICAgICAgIHN0cm9rZTogJyNmZTZhMDAnLAogICAgICAgICAgZmlsbDogJyNmY2YwZTYnCiAgICAgICAgfSwKICAgICAgICB0ZXh0OiB7CiAgICAgICAgICBmb250U2l6ZTogMTIsCiAgICAgICAgICBmaWxsOiAnIzI2MjYyNicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHBvcnRzOiB7CiAgICAgICAgLi4ucG9ydHMKICAgICAgfQogICAgfSwgdHJ1ZSk7CiAgICBHcmFwaC5yZWdpc3Rlck5vZGUoJ2N1c3RvbS1pbWFnZScsIHsKICAgICAgaW5oZXJpdDogJ3JlY3QnLAogICAgICB3aWR0aDogNTIsCiAgICAgIGhlaWdodDogNTIsCiAgICAgIG1hcmt1cDogW3sKICAgICAgICB0YWdOYW1lOiAncmVjdCcsCiAgICAgICAgc2VsZWN0b3I6ICdib2R5JwogICAgICB9LCB7CiAgICAgICAgdGFnTmFtZTogJ2ltYWdlJwogICAgICB9LCB7CiAgICAgICAgdGFnTmFtZTogJ3RleHQnLAogICAgICAgIHNlbGVjdG9yOiAnbGFiZWwnCiAgICAgIH1dLAogICAgICBhdHRyczogewogICAgICAgIGJvZHk6IHsKICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgc3Ryb2tlOiAnI2ZmODgzMycsCiAgICAgICAgICBmaWxsOiAnI2ZmODgzMycKICAgICAgICB9LAogICAgICAgIGltYWdlOiB7CiAgICAgICAgICB3aWR0aDogMjYsCiAgICAgICAgICBoZWlnaHQ6IDI2LAogICAgICAgICAgcmVmWDogMTMsCiAgICAgICAgICByZWZZOiAxNgogICAgICAgIH0sCiAgICAgICAgbGFiZWw6IHsKICAgICAgICAgIHJlZlg6IDMsCiAgICAgICAgICByZWZZOiAyLAogICAgICAgICAgdGV4dEFuY2hvcjogJ2xlZnQnLAogICAgICAgICAgdGV4dFZlcnRpY2FsQW5jaG9yOiAndG9wJywKICAgICAgICAgIGZvbnRTaXplOiAxMiwKICAgICAgICAgIGZpbGw6ICcjZmZmJwogICAgICAgIH0KICAgICAgfSwKICAgICAgcG9ydHM6IHsKICAgICAgICAuLi5wb3J0cwogICAgICB9CiAgICB9LCB0cnVlKTsKICAgIGNvbnN0IHIxID0gZ3JhcGguY3JlYXRlTm9kZSh7CiAgICAgIHNoYXBlOiAnY3VzdG9tLXJlY3QnLAogICAgICBhdHRyczogewogICAgICAgIGJvZHk6IHsKICAgICAgICAgIHJ4OiA2LAogICAgICAgICAgcnk6IDYKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxhYmVsOiAn5bel5YW357uE5Lu2JwogICAgfSk7CiAgICBjb25zdCByMiA9IGdyYXBoLmNyZWF0ZU5vZGUoewogICAgICBzaGFwZTogJ2N1c3RvbS1yZWN0JywKICAgICAgYXR0cnM6IHsKICAgICAgICBib2R5OiB7CiAgICAgICAgICByeDogNiwKICAgICAgICAgIHJ5OiA2CiAgICAgICAgfQogICAgICB9LAogICAgICBsYWJlbDogJ+aPkOWPlue7hOS7ticKICAgIH0pOwogICAgY29uc3QgcjMgPSBncmFwaC5jcmVhdGVOb2RlKHsKICAgICAgc2hhcGU6ICdjdXN0b20tcG9seWdvbicsCiAgICAgIGF0dHJzOiB7CiAgICAgICAgYm9keTogewogICAgICAgICAgcmVmUG9pbnRzOiAnMCwxMCAxMCwwIDIwLDEwIDEwLDIwJwogICAgICAgIH0KICAgICAgfSwKICAgICAgbGFiZWw6ICfmnaHku7YnCiAgICB9KTsKICAgIC8vIGNvbnN0IHI1ID0gZ3JhcGguY3JlYXRlTm9kZSh7CiAgICAvLyAgIHNoYXBlOiAnY3VzdG9tLXBvbHlnb24nLAogICAgLy8gICBhdHRyczogewogICAgLy8gICAgIGJvZHk6IHsKICAgIC8vICAgICAgIHJlZlBvaW50czogJzEwLDAgNDAsMCAzMCwyMCAwLDIwJwogICAgLy8gICAgIH0KICAgIC8vICAgfSwKICAgIC8vICAgbGFiZWw6ICfmlbDmja4nCiAgICAvLyB9KQogICAgLy8gY29uc3QgcjYgPSBncmFwaC5jcmVhdGVOb2RlKHsKICAgIC8vICAgc2hhcGU6ICdjdXN0b20tY2lyY2xlJywKICAgIC8vICAgbGFiZWw6ICfov57mjqUnCiAgICAvLyB9KQogICAgLy8gY29uc3QgcjcgPSBncmFwaC5jcmVhdGVOb2RlKHsKICAgIC8vICAgc2hhcGU6ICdjdXN0b20tY3lsaW5kZXInLAogICAgLy8gICBsYWJlbDogJ+aVsOaNruW6kycKICAgIC8vIH0pCiAgICAvLyBjb25zdCByOCA9IGdyYXBoLmNyZWF0ZU5vZGUoewogICAgLy8gICBzaGFwZTogJ2N1c3RvbS1wYXRoJywKICAgIC8vICAgbGFiZWw6ICfmlofmoaMnLAogICAgLy8gICBhdHRyczogewogICAgLy8gICAgIGJvZHk6IHsKICAgIC8vICAgICAgIHJlZkQ6ICdNIDAgMCAwIDQgQyAxMCA4IDE1IDIgMjUgNSBMIDI1IDAgWicKICAgIC8vICAgICB9CiAgICAvLyAgIH0KICAgIC8vIH0pCiAgICAvLyBjb25zdCByOSA9IGdyYXBoLmNyZWF0ZU5vZGUoewogICAgLy8gICBzaGFwZTogJ2N1c3RvbS1wYXRoJywKICAgIC8vICAgbGFiZWw6ICfmiYvliqjovpPlhaUnLAogICAgLy8gICBhdHRyczogewogICAgLy8gICAgIGJvZHk6IHsKICAgIC8vICAgICAgIHJlZkQ6ICdNIDAgNyAwIDE1IDE1IDE1IDE1IDUgWicKICAgIC8vICAgICB9CiAgICAvLyAgIH0KICAgIC8vIH0pCiAgICAvLyBjb25zdCByMTAgPSBncmFwaC5jcmVhdGVOb2RlKHsKICAgIC8vICAgc2hhcGU6ICdjdXN0b20tdGV4dCcsCiAgICAvLyAgIHRleHQ6ICfmlofmnKwnCiAgICAvLyB9KQogICAgLy8gc3RlbmNpbC5sb2FkKFtyMSwgcjIsIHIzLCByNCwgcjUsIHI2LCByNywgcjgsIHI5LCByMTBdLCAnZ3JvdXAxJykKICAgIHN0ZW5jaWwubG9hZChbcjEsIHIyLCByM10sICdncm91cDEnKTsKICAgIC8vIGNvbnN0IGltYWdlU2hhcGVzID0gWwogICAgLy8gICB7CiAgICAvLyAgICAgbGFiZWw6ICdDbGllbnQnLAogICAgLy8gICAgIGltYWdlOgogICAgLy8gICAgICAgICAnaHR0cHM6Ly9ndy5hbGlwYXlvYmplY3RzLmNvbS96b3MvYm13LXByb2QvNjg3YjZjYjktNGI5Ny00MmE2LTk2ZDAtMzRiMzA5OTEzM2FjLnN2ZycKICAgIC8vICAgfSwKICAgIC8vICAgewogICAgLy8gICAgIGxhYmVsOiAnSHR0cCcsCiAgICAvLyAgICAgaW1hZ2U6CiAgICAvLyAgICAgICAgICdodHRwczovL2d3LmFsaXBheW9iamVjdHMuY29tL3pvcy9ibXctcHJvZC9kYzFjZWQwNi00MTdkLTQ2NmYtOTI3Yi1iNGE0ZDMyNjU3OTEuc3ZnJwogICAgLy8gICB9LAogICAgLy8gICB7CiAgICAvLyAgICAgbGFiZWw6ICdBcGknLAogICAgLy8gICAgIGltYWdlOgogICAgLy8gICAgICAgICAnaHR0cHM6Ly9ndy5hbGlwYXlvYmplY3RzLmNvbS96b3MvYm13LXByb2QvYzU1ZDdhZTEtOGQyMC00NTg1LWJkOGYtY2EyMzY1M2E0NDg5LnN2ZycKICAgIC8vICAgfSwKICAgIC8vICAgewogICAgLy8gICAgIGxhYmVsOiAnU3FsJywKICAgIC8vICAgICBpbWFnZToKICAgIC8vICAgICAgICAgJ2h0dHBzOi8vZ3cuYWxpcGF5b2JqZWN0cy5jb20vem9zL2Jtdy1wcm9kLzZlYjcxNzY0LTE4ZWQtNDE0OS1iODY4LTUzYWQxNTQyYzQwNS5zdmcnCiAgICAvLyAgIH0sCiAgICAvLyAgIHsKICAgIC8vICAgICBsYWJlbDogJ0Nsb3VuZCcsCiAgICAvLyAgICAgaW1hZ2U6CiAgICAvLyAgICAgICAgICdodHRwczovL2d3LmFsaXBheW9iamVjdHMuY29tL3pvcy9ibXctcHJvZC9jMzZmZTdjYi1kYzI0LTQ4NTQtYWViNS04OGQ4ZGMzNmQ1MmUuc3ZnJwogICAgLy8gICB9LAogICAgLy8gICB7CiAgICAvLyAgICAgbGFiZWw6ICdNcScsCiAgICAvLyAgICAgaW1hZ2U6CiAgICAvLyAgICAgICAgICdodHRwczovL2d3LmFsaXBheW9iamVjdHMuY29tL3pvcy9ibXctcHJvZC8yMDEwYWM5Zi00MGU3LTQ5ZDQtOGM0YS00ZmNmMmY4MzAzM2Iuc3ZnJwogICAgLy8gICB9CiAgICAvLyBdCiAgICAvLyBjb25zdCBpbWFnZU5vZGVzID0gaW1hZ2VTaGFwZXMubWFwKChpdGVtKSA9PgogICAgLy8gICAgIGdyYXBoLmNyZWF0ZU5vZGUoewogICAgLy8gICAgICAgc2hhcGU6ICdjdXN0b20taW1hZ2UnLAogICAgLy8gICAgICAgbGFiZWw6IGl0ZW0ubGFiZWwsCiAgICAvLyAgICAgICBhdHRyczogewogICAgLy8gICAgICAgICBpbWFnZTogewogICAgLy8gICAgICAgICAgICd4bGluazpocmVmJzogaXRlbS5pbWFnZQogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgfSkKICAgIC8vICkKICAgIC8vIHN0ZW5jaWwubG9hZChpbWFnZU5vZGVzLCAnZ3JvdXAyJykKICB9OwoKICByZXR1cm4gewogICAgc3RlbmNpbCwKICAgIHBvcnRzLAogICAgaW5pdFN0ZW5jaWwsCiAgICBpbml0UG9ydHMsCiAgICBsb2FkU3RlbmNpbAogIH07Cn07CmNvbnN0IGNvbmZpZ1Zpc2libGUgPSByZWYoZmFsc2UpOwpjb25zdCBncmFwaENvbiA9IHJlZigpOwovLyDlj7PkvqfphY3nva7pnaLmnb8KY29uc3QgdXNlQ29uZmlnUGFuZWwgPSAoKSA9PiB7CiAgLy8g5pS257yp6YWN572u6Z2i5p2/CiAgY29uc3QgaGFuZGxlQ2xvc2VDb25maWcgPSAoKSA9PiB7CiAgICBjb25maWdWaXNpYmxlLnZhbHVlID0gZmFsc2U7CiAgICAvLyBncmFwaENvbi52YWx1ZS5zdHlsZS53aWR0aCA9ICdjYWxjKDEwMCUgLSAyNTBweCknCiAgfTsKICAvLyDlsZXlvIDphY3nva7pnaLmnb8KICBjb25zdCBoYW5kbGVPcGVuQ29uZmlnID0gKCkgPT4gewogICAgY29uZmlnVmlzaWJsZS52YWx1ZSA9IHRydWU7CiAgICAvLyBncmFwaENvbi52YWx1ZS5zdHlsZS53aWR0aCA9ICdjYWxjKDEwMCUgLSA2MDBweCAtIDI1MHB4KScKICB9OwoKICByZXR1cm4gewogICAgY29uZmlnVmlzaWJsZSwKICAgIGdyYXBoQ29uLAogICAgaGFuZGxlQ2xvc2VDb25maWcsCiAgICBoYW5kbGVPcGVuQ29uZmlnCiAgfTsKfTsKLy8g5b2T5YmN54mI5pysaWQKbGV0IGN1cnJlbnRWZXJzaW9uSWQgPSByZWYoMSk7Ci8vIOeUu+W4g+iKgueCueebuOWFs+aOpeWPowpjb25zdCB1c2VOb2RlRWZmZWN0ID0gKCkgPT4gewogIGNvbnN0IGlzRGlzYWJsZWQgPSByZWYoZmFsc2UpOwogIGxldCBwcm9jZXNzTm9kZSA9IHJlZihbXSk7CiAgbGV0IHByb2Nlc3NMaW5rID0gcmVmKFtdKTsKICBsZXQgZGF0YSA9IHsKICAgIG5vZGVzOiBbXSwKICAgIGVkZ2VzOiBbXQogIH07CiAgLy8g6LCD5ZCO56uv5Yib5bu66IqC54K55o6l5Y+jCiAgY29uc3QgY3JlYXRlTm9kZUFwaSA9IGFzeW5jIG5vZGUgPT4gewogICAgdmFyIF9ub2RlJGF0dHJzJGxhYmVsLCBfbm9kZSRhdHRycyR0ZXh0LCBfbm9kZSRhdHRycyR0ZXh0MiwgX25vZGUkYXR0cnMkdGV4dDMsIF9ub2RlJGF0dHJzJGJvZHk7CiAgICBjb25zdCBwb3MgPSBub2RlLnBvc2l0aW9uKCk7CiAgICBjb25zdCBuYW1lID0gbm9kZS5zaGFwZSA9PT0gImN1c3RvbS10ZXh0IiA/IChfbm9kZSRhdHRycyRsYWJlbCA9IG5vZGUuYXR0cnMubGFiZWwpID09PSBudWxsIHx8IF9ub2RlJGF0dHJzJGxhYmVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZSRhdHRycyRsYWJlbC50ZXh0IDogKF9ub2RlJGF0dHJzJHRleHQgPSBub2RlLmF0dHJzLnRleHQpID09PSBudWxsIHx8IF9ub2RlJGF0dHJzJHRleHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ub2RlJGF0dHJzJHRleHQudGV4dDsKICAgIGxldCByZXEgPSB7CiAgICAgICJwcm9jZXNzTm9kZSI6IHsKICAgICAgICAidmVyc2lvbklkIjogY3VycmVudFZlcnNpb25JZC52YWx1ZSwKICAgICAgICAicHJvY2Vzc0luc3RhbmNlSWQiOiBOdW1iZXIocHJvY2Vzc0luc3RhbmNlSWQudmFsdWUpLAogICAgICAgICJ1dWlkIjogbm9kZS5pZCwKICAgICAgICAibmFtZSI6IG5hbWUsCiAgICAgICAgInR5cGUiOiBub2RlLnNoYXBlLAogICAgICAgICJwb3J0cyI6IEpTT04uc3RyaW5naWZ5KG5vZGUuZ2V0UG9ydHMoKSksCiAgICAgICAgInBvc2l0aW9uIjogcG9zLnggKyAiLCIgKyBwb3MueSwKICAgICAgICAic2l6ZSI6IG5vZGUuc2l6ZSgpLndpZHRoICsgIiwiICsgbm9kZS5zaXplKCkuaGVpZ2h0LAogICAgICAgICJjcmVhdGVkQnkiOiBhdXRob3IudmFsdWUsCiAgICAgICAgInVwZGF0ZWRCeSI6IGF1dGhvci52YWx1ZQogICAgICB9LAogICAgICAicHJvY2Vzc0luc3RhbmNlUGFyYW1ldGVyIjogW3sKICAgICAgICAidmVyc2lvbklkIjogY3VycmVudFZlcnNpb25JZC52YWx1ZSwKICAgICAgICAicGFyYW1ldGVyVHlwZSI6ICLmoLflvI/kv6Hmga8iLAogICAgICAgICJwYXJhbWV0ZXJOYW1lIjogInN0eWxlIiwKICAgICAgICAicGFyYW1ldGVyVmFsdWUiOiAieyIgKyAiXCJsYWJlbFwiOiBcIiIgKyBuYW1lICsgIlwiLCAiICsgIlwiZm9udFNpemVcIjogXCIiICsgKChfbm9kZSRhdHRycyR0ZXh0MiA9IG5vZGUuYXR0cnMudGV4dCkgPT09IG51bGwgfHwgX25vZGUkYXR0cnMkdGV4dDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ub2RlJGF0dHJzJHRleHQyLmZvbnRTaXplKSArICJcIiwgIiArICJcInRleHRGaWxsXCI6IFwiIiArICgoX25vZGUkYXR0cnMkdGV4dDMgPSBub2RlLmF0dHJzLnRleHQpID09PSBudWxsIHx8IF9ub2RlJGF0dHJzJHRleHQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZSRhdHRycyR0ZXh0My5maWxsKSArICJcIiwgIiArICJcImJvZHlGaWxsXCI6IFwiIiArICgoX25vZGUkYXR0cnMkYm9keSA9IG5vZGUuYXR0cnMuYm9keSkgPT09IG51bGwgfHwgX25vZGUkYXR0cnMkYm9keSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGUkYXR0cnMkYm9keS5maWxsKSArICJcIn0iLAogICAgICAgICJjcmVhdGVkQnkiOiBhdXRob3IudmFsdWUsCiAgICAgICAgInVwZGF0ZWRCeSI6IGF1dGhvci52YWx1ZQogICAgICB9LCB7CiAgICAgICAgInZlcnNpb25JZCI6IGN1cnJlbnRWZXJzaW9uSWQudmFsdWUsCiAgICAgICAgInBhcmFtZXRlclR5cGUiOiAi5Y+C5pWw5L+h5oGvIiwKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJwYXJhbXMiLAogICAgICAgICJwYXJhbWV0ZXJWYWx1ZSI6IG51bGwsCiAgICAgICAgImNyZWF0ZWRCeSI6IGF1dGhvci52YWx1ZSwKICAgICAgICAidXBkYXRlZEJ5IjogYXV0aG9yLnZhbHVlCiAgICAgIH1dCiAgICB9OwogICAgYXdhaXQgY3JlYXRlTm9kZShyZXEpLnRoZW4ocmVzID0+IHsKICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7CiAgICAgICAgbWVzc2FnZS5zdWNjZXNzKCJbIiArIHJlcS5wcm9jZXNzTm9kZS5uYW1lICsgIl3oioLngrnliJvlu7rmiJDlip87IiArICJpZDoiICsgbm9kZS5pZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWVzc2FnZS5lcnJvcigiWyIgKyByZXEucHJvY2Vzc05vZGUubmFtZSArICJd6IqC54K55Yib5bu65aSx6LSl77yaIiArIHJlcy5tZXNzYWdlKTsKICAgICAgICBncmFwaC5yZW1vdmVOb2RlKG5vZGUpOwogICAgICB9CiAgICB9KTsKICB9OwogIC8vIOiwg+WQjuerr+WIoOmZpOiKgueCueaOpeWPowogIGNvbnN0IGRlbGV0ZU5vZGVBcGkgPSBhc3luYyBub2RlID0+IHsKICAgIGxldCByZXEgPSB7CiAgICAgIHZlcnNpb25JZDogTnVtYmVyKGN1cnJlbnRWZXJzaW9uSWQudmFsdWUpLAogICAgICBwcm9jZXNzSW5zdGFuY2VJZDogTnVtYmVyKHByb2Nlc3NJbnN0YW5jZUlkLnZhbHVlKSwKICAgICAgdXVpZDogbm9kZS5pZCwKICAgICAgdXBkYXRlZEJ5OiBhdXRob3IudmFsdWUKICAgIH07CiAgICBhd2FpdCBkZWxldGVOb2RlKHJlcSkudGhlbihyZXMgPT4gewogICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoIuiKgueCueWIoOmZpOaIkOWKnzsiICsgImlkOiIgKyBub2RlLmlkKTsKICAgICAgICBncmFwaC5yZW1vdmVOb2RlKG5vZGUpOwogICAgICAgIHVzZUNvbmZpZ1BhbmVsKCkuaGFuZGxlQ2xvc2VDb25maWcoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBtZXNzYWdlLmVycm9yKCLoioLngrnliKDpmaTlpLHotKU6IiArIHJlcy5tZXNzYWdlKTsKICAgICAgfQogICAgfSk7CiAgfTsKICAvLyDosIPlkI7nq6/mjqXlj6Pmm7TmlrBub2Rl5L2N572uCiAgY29uc3QgdXBkYXRlWFkgPSBhc3luYyAobm9kZSwgeCwgeSkgPT4gewogICAgbGV0IHJlcSA9IHsKICAgICAgdmVyc2lvbklkOiBOdW1iZXIoY3VycmVudFZlcnNpb25JZC52YWx1ZSksCiAgICAgIHByb2Nlc3NJbnN0YW5jZUlkOiBOdW1iZXIocHJvY2Vzc0luc3RhbmNlSWQudmFsdWUpLAogICAgICB1dWlkOiBub2RlLmlkLAogICAgICB1cGRhdGVkQnk6IGF1dGhvci52YWx1ZSwKICAgICAgcG9zaXRpb246IHggKyAiLCIgKyB5CiAgICB9OwogICAgYXdhaXQgdXBkYXRlTm9kZUNvb3JkaW5hdGUocmVxKS50aGVuKHJlcyA9PiB7CiAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgewogICAgICAgIGNvbnNvbGUubG9nKCLoioLngrnkvY3nva7mm7TmlrDmiJDlip87IiArICJpZDoiICsgbm9kZS5pZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWVzc2FnZS5lcnJvcigi6IqC54K55L2N572u5pu05paw5aSx6LSl77yaIiArIHJlcy5tZXNzYWdlKTsKICAgICAgfQogICAgfSk7CiAgfTsKICAvLyDosIPlkI7nq6/mjqXlj6Pmm7TmlrBub2Rl55qE5aSn5bCPCiAgY29uc3QgdXBkYXRlU2l6ZSA9IGFzeW5jIChub2RlLCB3aWR0aCwgaGVpZ2h0KSA9PiB7CiAgICBsZXQgcmVxID0gewogICAgICB2ZXJzaW9uSWQ6IE51bWJlcihjdXJyZW50VmVyc2lvbklkLnZhbHVlKSwKICAgICAgcHJvY2Vzc0luc3RhbmNlSWQ6IE51bWJlcihwcm9jZXNzSW5zdGFuY2VJZC52YWx1ZSksCiAgICAgIHV1aWQ6IG5vZGUuaWQsCiAgICAgIHVwZGF0ZWRCeTogYXV0aG9yLnZhbHVlLAogICAgICBzaXplOiB3aWR0aCArICIsIiArIGhlaWdodAogICAgfTsKICAgIGF3YWl0IHVwZGF0ZU5vZGVTaXplKHJlcSkudGhlbihyZXMgPT4gewogICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICBjb25zb2xlLmxvZygi6IqC54K55aSn5bCP5pu05paw5oiQ5YqfOyIgKyAiaWQ6IiArIG5vZGUuaWQpOwogICAgICB9IGVsc2UgewogICAgICAgIG1lc3NhZ2UuZXJyb3IoIuiKgueCueWkp+Wwj+abtOaWsOWksei0pToiICsgcmVzLm1lc3NhZ2UpOwogICAgICB9CiAgICB9KTsKICB9OwogIC8vIOiwg+WQjuerr+WIm+W7uui/nue6v+aOpeWPowogIGNvbnN0IGNyZWF0ZUxpbmtBcGkgPSBhc3luYyBlZGdlID0+IHsKICAgIHZhciBfZWRnZSRhdHRycywgX2VkZ2UkYXR0cnMkbGluZTsKICAgIGxldCByZXEgPSB7CiAgICAgICJzb3VyY2VOb2RlSWQiOiBlZGdlLmdldFNvdXJjZUNlbGxJZCgpLAogICAgICAidGFyZ2V0Tm9kZUlkIjogbnVsbCwKICAgICAgInByb2Nlc3NMaW5rIjogewogICAgICAgICJ2ZXJzaW9uSWQiOiBjdXJyZW50VmVyc2lvbklkLnZhbHVlLAogICAgICAgICJ0YXJnZXRQb3J0SWQiOiBlZGdlLmdldFRhcmdldFBvcnRJZCgpLAogICAgICAgICJzb3VyY2VQb3J0SWQiOiBlZGdlLmdldFNvdXJjZVBvcnRJZCgpLAogICAgICAgICJwcm9jZXNzSW5zdGFuY2VJZCI6IE51bWJlcihwcm9jZXNzSW5zdGFuY2VJZC52YWx1ZSksCiAgICAgICAgInV1aWQiOiBlZGdlLmlkLAogICAgICAgICJsaW5lQ29uZGl0aW9uIjogbnVsbCwKICAgICAgICAiY3JlYXRlZEJ5IjogYXV0aG9yLnZhbHVlLAogICAgICAgICJ1cGRhdGVkQnkiOiBhdXRob3IudmFsdWUKICAgICAgfSwKICAgICAgInByb2Nlc3NJbnN0YW5jZVBhcmFtZXRlciI6IFt7CiAgICAgICAgInZlcnNpb25JZCI6IGN1cnJlbnRWZXJzaW9uSWQudmFsdWUsCiAgICAgICAgInBhcmFtZXRlclR5cGUiOiAi5qC35byP5L+h5oGvIiwKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJzdHlsZSIsCiAgICAgICAgInBhcmFtZXRlclZhbHVlIjogInsiICsgIlwibGluZVwiOiBcIlwiLCAiICsgIlwiYXJyb3dcIjogXCIxXCIsICIgKyAiXCJjb2xvclwiOiBcIiIgKyAoZWRnZSA9PT0gbnVsbCB8fCBlZGdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2VkZ2UkYXR0cnMgPSBlZGdlLmF0dHJzKSA9PT0gbnVsbCB8fCBfZWRnZSRhdHRycyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9lZGdlJGF0dHJzJGxpbmUgPSBfZWRnZSRhdHRycy5saW5lKSA9PT0gbnVsbCB8fCBfZWRnZSRhdHRycyRsaW5lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZWRnZSRhdHRycyRsaW5lLnN0cm9rZSkgKyAiXCIsICIgKyAiXCJ0ZXh0XCI6IFwiXCIiICsgIn0iLAogICAgICAgICJjcmVhdGVkQnkiOiBhdXRob3IudmFsdWUsCiAgICAgICAgInVwZGF0ZWRCeSI6IGF1dGhvci52YWx1ZQogICAgICB9LCB7CiAgICAgICAgInZlcnNpb25JZCI6IGN1cnJlbnRWZXJzaW9uSWQudmFsdWUsCiAgICAgICAgInBhcmFtZXRlclR5cGUiOiAi5Y+C5pWw5L+h5oGvIiwKICAgICAgICAicGFyYW1ldGVyTmFtZSI6ICJwYXJhbXMiLAogICAgICAgICJwYXJhbWV0ZXJWYWx1ZSI6ICJ7fSIsCiAgICAgICAgImNyZWF0ZWRCeSI6IGF1dGhvci52YWx1ZSwKICAgICAgICAidXBkYXRlZEJ5IjogYXV0aG9yLnZhbHVlCiAgICAgIH1dCiAgICB9OwogICAgYXdhaXQgY3JlYXRlTGluayhyZXEpLnRoZW4ocmVzID0+IHsKICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7CiAgICAgICAgY29uc29sZS5sb2coIui/nue6v+WIm+W7uuaIkOWKnztpZDoiICsgZWRnZS5pZCk7CiAgICAgICAgLy8gbm9kZS5pZCA9IHJlcy5kYXRhLmlkCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWVzc2FnZS5lcnJvcigi6L+e57q/5Yib5bu65aSx6LSlOiIgKyByZXMubWVzc2FnZSk7CiAgICAgICAgZ3JhcGgucmVtb3ZlRWRnZShlZGdlKTsKICAgICAgfQogICAgfSk7CiAgfTsKICAvLyDosIPlkI7nq6/mm7TmlrDov57nur/nm67moIcKICBjb25zdCB1cGRhdGVUYXJnZXRBcGkgPSBhc3luYyBvYmogPT4gewogICAgbGV0IHJlcSA9IHsKICAgICAgInRhcmdldE5vZGVJZCI6IG9iai50YXJnZXROb2RlSWQsCiAgICAgICJwcm9jZXNzTGluayI6IHsKICAgICAgICAidmVyc2lvbklkIjogY3VycmVudFZlcnNpb25JZC52YWx1ZSwKICAgICAgICAicHJvY2Vzc0luc3RhbmNlSWQiOiBOdW1iZXIocHJvY2Vzc0luc3RhbmNlSWQudmFsdWUpLAogICAgICAgICJ0YXJnZXRQb3J0SWQiOiBvYmoudGFyZ2V0UG9ydElkLAogICAgICAgICJzb3VyY2VQb3J0SWQiOiBvYmouc291cmNlUG9ydElkLAogICAgICAgICJ1dWlkIjogb2JqLmlkLAogICAgICAgICJ1cGRhdGVkQnkiOiBhdXRob3IudmFsdWUKICAgICAgfQogICAgfTsKICAgIGF3YWl0IHVwZGF0ZUxpbmtUYXJnZXQocmVxKS50aGVuKHJlcyA9PiB7CiAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgewogICAgICAgIGNvbnNvbGUubG9nKCLov57nur/nm67moIfmm7TmlrDmiJDlip87aWQ6IiArIG9iai5pZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWVzc2FnZS5lcnJvcigi6L+e57q/55uu5qCH5pu05paw5aSx6LSlO2lkOiIgKyByZXMubWVzc2FnZSk7CiAgICAgICAgZ3JhcGgucmVtb3ZlRWRnZShvYmopOwogICAgICB9CiAgICB9KTsKICB9OwogIC8vIOiwg+WQjuerr+WIoOmZpOi/nue6v+aOpeWPowogIGNvbnN0IGRlbGV0ZUxpbmtBcGkgPSBhc3luYyBlZGdlID0+IHsKICAgIGxldCByZXEgPSB7CiAgICAgIHZlcnNpb25JZDogTnVtYmVyKGN1cnJlbnRWZXJzaW9uSWQudmFsdWUpLAogICAgICBwcm9jZXNzSW5zdGFuY2VJZDogTnVtYmVyKHByb2Nlc3NJbnN0YW5jZUlkLnZhbHVlKSwKICAgICAgdXVpZDogZWRnZS5pZCwKICAgICAgdXBkYXRlZEJ5OiBhdXRob3IudmFsdWUKICAgIH07CiAgICBhd2FpdCBkZWxldGVMaW5rKHJlcSkudGhlbihyZXMgPT4gewogICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoIui/nue6v+WIoOmZpOaIkOWKnzsiICsgImlkOiIgKyBlZGdlLmlkKTsKICAgICAgICBncmFwaC5yZW1vdmVFZGdlKGVkZ2UpOwogICAgICAgIHVzZUNvbmZpZ1BhbmVsKCkuaGFuZGxlQ2xvc2VDb25maWcoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBtZXNzYWdlLmVycm9yKCLov57nur/liKDpmaTlpLHotKU6IiArIHJlcy5tZXNzYWdlKTsKICAgICAgfQogICAgfSk7CiAgfTsKICAvLyDosIPlkI7nq6/mn6Xor6LnlLvluIPmjqXlj6MKICBjb25zdCBkZXRhaWxOb2RlTGluayA9IGFzeW5jIChncmFwaCwgdmVyc2lvbklkKSA9PiB7CiAgICBsZXQgY3VycmVudFZlcnNpb25TdGF0dXMgPSAwOwogICAgYXdhaXQgZGV0YWlsSW5zdGFuY2UodmVyc2lvbklkLCBOdW1iZXIocHJvY2Vzc0luc3RhbmNlSWQudmFsdWUpKS50aGVuKHJlcyA9PiB7CiAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgewogICAgICAgIHZhciBfcmVzJGRhdGE7CiAgICAgICAgZGF0YSA9IHsKICAgICAgICAgIG5vZGVzOiBbXSwKICAgICAgICAgIGVkZ2VzOiBbXQogICAgICAgIH07IC8vIOeUu+W4g+aVsOaNrgogICAgICAgIHByb2Nlc3NOb2RlLnZhbHVlID0gcmVzLmRhdGEucHJvY2Vzc05vZGVSZXNwb25zZTsKICAgICAgICBwcm9jZXNzTGluay52YWx1ZSA9IHJlcy5kYXRhLnByb2Nlc3NMaW5rUmVzcG9uc2U7CiAgICAgICAgY3VycmVudFZlcnNpb25JZC52YWx1ZSA9IHZlcnNpb25JZCA9PSAwID8gcmVzLmRhdGEudmVyc2lvbklkIDogdmVyc2lvbklkOyAvLyAw6KGo56S66aaW5qyh5Yqg6L29CiAgICAgICAgLy8g57uE6KOFbm9kZeiKgueCuQogICAgICAgIHByb2Nlc3NOb2RlLnZhbHVlLmZvckVhY2goY3VyTm9kZSA9PiB7CiAgICAgICAgICB2YXIgX2N1ck5vZGUkcHJvY2Vzc0luc3RhLCBfY3VyTm9kZSRwcm9jZXNzSW5zdGEyOwogICAgICAgICAgbGV0IHggPSBOdW1iZXIoY3VyTm9kZS5wcm9jZXNzTm9kZS5wb3NpdGlvbi5zcGxpdCgiLCIpWzBdKTsKICAgICAgICAgIGxldCB5ID0gTnVtYmVyKGN1ck5vZGUucHJvY2Vzc05vZGUucG9zaXRpb24uc3BsaXQoIiwiKVsxXSk7CiAgICAgICAgICBsZXQgdyA9IE51bWJlcihjdXJOb2RlLnByb2Nlc3NOb2RlLnNpemUuc3BsaXQoIiwiKVswXSk7CiAgICAgICAgICBsZXQgaCA9IE51bWJlcihjdXJOb2RlLnByb2Nlc3NOb2RlLnNpemUuc3BsaXQoIiwiKVsxXSk7CiAgICAgICAgICBsZXQgcGFyYW1ldGVyVmFsdWUgPSBjdXJOb2RlID09PSBudWxsIHx8IGN1ck5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfY3VyTm9kZSRwcm9jZXNzSW5zdGEgPSBjdXJOb2RlLnByb2Nlc3NJbnN0YW5jZVBhcmFtZXRlcnMpID09PSBudWxsIHx8IF9jdXJOb2RlJHByb2Nlc3NJbnN0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jdXJOb2RlJHByb2Nlc3NJbnN0YTIgPSBfY3VyTm9kZSRwcm9jZXNzSW5zdGEuZmluZChpdGVtID0+IGl0ZW0ucGFyYW1ldGVyTmFtZSA9PT0gInN0eWxlIikpID09PSBudWxsIHx8IF9jdXJOb2RlJHByb2Nlc3NJbnN0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jdXJOb2RlJHByb2Nlc3NJbnN0YTIucGFyYW1ldGVyVmFsdWU7CiAgICAgICAgICBsZXQgc3Ryb2tlQ29sb3IgPSBwYXJhbWV0ZXJWYWx1ZSA/IEpTT04ucGFyc2UocGFyYW1ldGVyVmFsdWUpLnN0cm9rZUNvbG9yIDogJyNmZTZhMDAnOwogICAgICAgICAgc3dpdGNoIChjdXJOb2RlLnByb2Nlc3NOb2RlLnR5cGUpIHsKICAgICAgICAgICAgY2FzZSAnc3RhcnQnOgogICAgICAgICAgICBjYXNlICdlbmQnOgogICAgICAgICAgICAgIGRhdGEubm9kZXMucHVzaCh7CiAgICAgICAgICAgICAgICBpZDogY3VyTm9kZS5wcm9jZXNzTm9kZS51dWlkLAogICAgICAgICAgICAgICAgLy8gU3RyaW5n77yM5Y+v6YCJ77yM6IqC54K555qE5ZSv5LiA5qCH6K+GCiAgICAgICAgICAgICAgICB4OiB4LAogICAgICAgICAgICAgICAgLy8gTnVtYmVy77yM5b+F6YCJ77yM6IqC54K55L2N572u55qEIHgg5YC8CiAgICAgICAgICAgICAgICB5OiB5LAogICAgICAgICAgICAgICAgLy8gTnVtYmVy77yM5b+F6YCJ77yM6IqC54K55L2N572u55qEIHkg5YC8CiAgICAgICAgICAgICAgICB3aWR0aDogdywKICAgICAgICAgICAgICAgIC8vIE51bWJlcu+8jOW/hemAie+8jOiKgueCueWkp+Wwj+eahCB3aWR0aCDlgLwKICAgICAgICAgICAgICAgIGhlaWdodDogaCwKICAgICAgICAgICAgICAgIC8vIE51bWJlcu+8jOW/hemAie+8jOiKgueCueWkp+Wwj+eahCBoZWlnaHQg5YC8CiAgICAgICAgICAgICAgICBsYWJlbDogY3VyTm9kZS5wcm9jZXNzTm9kZS5uYW1lLAogICAgICAgICAgICAgICAgLy8gU3RyaW5n77yM6IqC54K55qCH562+CiAgICAgICAgICAgICAgICBzaGFwZTogJ2N1c3RvbS1yZWN0JywKICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgIGJvZHk6IHsKICAgICAgICAgICAgICAgICAgICByeDogMTgsCiAgICAgICAgICAgICAgICAgICAgcnk6IDI2CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBwb3J0czogewogICAgICAgICAgICAgICAgICBncm91cHM6IHsKICAgICAgICAgICAgICAgICAgICB0b3A6IHsKICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wJywKICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFnbmV0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogJyNmZTZhMDAnLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjZmZmJywKICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB7CiAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JywKICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFnbmV0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogJyNmZTZhMDAnLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjZmZmJywKICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGJvdHRvbTogewogICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20nLAogICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcjogNCwKICAgICAgICAgICAgICAgICAgICAgICAgICBtYWduZXQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiAnI2ZlNmEwMCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJyNmZmYnLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgbGVmdDogewogICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdsZWZ0JywKICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFnbmV0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogJyNmZTZhMDAnLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjZmZmJywKICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGl0ZW1zOiBKU09OLnBhcnNlKGN1ck5vZGUucHJvY2Vzc05vZGUucG9ydHMpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ3Rvb2wnOgogICAgICAgICAgICBjYXNlICdleHRyYWN0JzoKICAgICAgICAgICAgY2FzZSAnYXV0byc6CiAgICAgICAgICAgIGNhc2UgJ2Zsb3cnOgogICAgICAgICAgICAgIGlmIChjdXJOb2RlLnByb2Nlc3NJbnN0YW5jZVBhcmFtZXRlcnMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBjdXJOb2RlLnByb2Nlc3NJbnN0YW5jZVBhcmFtZXRlcnMuZm9yRWFjaChwcyA9PiB7CiAgICAgICAgICAgICAgICAgIGlmIChwcy5wYXJhbWV0ZXJOYW1lID09PSAnc3R5bGUnKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHN0eWxlID0gSlNPTi5wYXJzZShwcy5wYXJhbWV0ZXJWYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgZGF0YS5ub2Rlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIGlkOiBjdXJOb2RlLnByb2Nlc3NOb2RlLnV1aWQsCiAgICAgICAgICAgICAgICAgICAgICAvLyBTdHJpbmfvvIzlj6/pgInvvIzoioLngrnnmoTllK/kuIDmoIfor4YKICAgICAgICAgICAgICAgICAgICAgIHg6IHgsCiAgICAgICAgICAgICAgICAgICAgICAvLyBOdW1iZXLvvIzlv4XpgInvvIzoioLngrnkvY3nva7nmoQgeCDlgLwKICAgICAgICAgICAgICAgICAgICAgIHk6IHksCiAgICAgICAgICAgICAgICAgICAgICAvLyBOdW1iZXLvvIzlv4XpgInvvIzoioLngrnkvY3nva7nmoQgeSDlgLwKICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB3LAogICAgICAgICAgICAgICAgICAgICAgLy8gTnVtYmVy77yM5b+F6YCJ77yM6IqC54K55aSn5bCP55qEIHdpZHRoIOWAvAogICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoLAogICAgICAgICAgICAgICAgICAgICAgLy8gTnVtYmVy77yM5b+F6YCJ77yM6IqC54K55aSn5bCP55qEIGhlaWdodCDlgLwKICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBjdXJOb2RlLnByb2Nlc3NOb2RlLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAvLyBTdHJpbmfvvIzoioLngrnmoIfnrb4KICAgICAgICAgICAgICAgICAgICAgIHNoYXBlOiAnY3VzdG9tLXJlY3QnLAogICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogewogICAgICAgICAgICAgICAgICAgICAgICAgIHJ4OiA2LAogICAgICAgICAgICAgICAgICAgICAgICAgIHJ5OiA2LAogICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IHN0eWxlLmJvZHlGaWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogc3Ryb2tlQ29sb3IKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogewogICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHN0eWxlLmxhYmVsLAogICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBzdHlsZS5mb250U2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiBzdHlsZS50ZXh0RmlsbAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgcG9ydHM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiA0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hZ25ldDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnI2ZmZicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyaWdodCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiA0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hZ25ldDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnI2ZmZicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFnbmV0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogJyNmZTZhMDAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjZmZmJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnbGVmdCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiA0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hZ25ldDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnI2ZmZicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogSlNPTi5wYXJzZShjdXJOb2RlLnByb2Nlc3NOb2RlLnBvcnRzKQogICAgICAgICAgICAgICAgICAgICAgfSAvLyBTdHJpbmfvvIzoioLngrnmoIfnrb4KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRhdGEubm9kZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBjdXJOb2RlLnByb2Nlc3NOb2RlLnV1aWQsCiAgICAgICAgICAgICAgICAgIC8vIFN0cmluZ++8jOWPr+mAie+8jOiKgueCueeahOWUr+S4gOagh+ivhgogICAgICAgICAgICAgICAgICB4OiB4LAogICAgICAgICAgICAgICAgICAvLyBOdW1iZXLvvIzlv4XpgInvvIzoioLngrnkvY3nva7nmoQgeCDlgLwKICAgICAgICAgICAgICAgICAgeTogeSwKICAgICAgICAgICAgICAgICAgLy8gTnVtYmVy77yM5b+F6YCJ77yM6IqC54K55L2N572u55qEIHkg5YC8CiAgICAgICAgICAgICAgICAgIHdpZHRoOiB3LAogICAgICAgICAgICAgICAgICAvLyBOdW1iZXLvvIzlv4XpgInvvIzoioLngrnlpKflsI/nmoQgd2lkdGgg5YC8CiAgICAgICAgICAgICAgICAgIGhlaWdodDogaCwKICAgICAgICAgICAgICAgICAgLy8gTnVtYmVy77yM5b+F6YCJ77yM6IqC54K55aSn5bCP55qEIGhlaWdodCDlgLwKICAgICAgICAgICAgICAgICAgbGFiZWw6IGN1ck5vZGUucHJvY2Vzc05vZGUubmFtZSwKICAgICAgICAgICAgICAgICAgLy8gU3RyaW5n77yM6IqC54K55qCH562+CiAgICAgICAgICAgICAgICAgIHNoYXBlOiAnY3VzdG9tLXJlY3QnLAogICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgIGJvZHk6IHsKICAgICAgICAgICAgICAgICAgICAgIHJ4OiA2LAogICAgICAgICAgICAgICAgICAgICAgcnk6IDYsCiAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6IHN0cm9rZUNvbG9yCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBwb3J0czogewogICAgICAgICAgICAgICAgICAgIGdyb3VwczogewogICAgICAgICAgICAgICAgICAgICAgdG9wOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wJywKICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWduZXQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJyNmZmYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICByaWdodDogewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JywKICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWduZXQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJyNmZmYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICBib3R0b206IHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20nLAogICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcjogNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hZ25ldDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogJyNmZTZhMDAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnI2ZmZicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdsZWZ0JywKICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWduZXQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJyNmZmYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBKU09OLnBhcnNlKGN1ck5vZGUucHJvY2Vzc05vZGUucG9ydHMpCiAgICAgICAgICAgICAgICAgIH0gLy8gU3RyaW5n77yM6IqC54K55qCH562+CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdkYXRhYmFzZSc6CiAgICAgICAgICAgICAgaWYgKGN1ck5vZGUucHJvY2Vzc0luc3RhbmNlUGFyYW1ldGVycy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIGN1ck5vZGUucHJvY2Vzc0luc3RhbmNlUGFyYW1ldGVycy5mb3JFYWNoKHBzID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKHBzLnBhcmFtZXRlck5hbWUgPT09ICdzdHlsZScpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgc3R5bGUgPSBKU09OLnBhcnNlKHBzLnBhcmFtZXRlclZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBkYXRhLm5vZGVzLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgaWQ6IGN1ck5vZGUucHJvY2Vzc05vZGUudXVpZCwKICAgICAgICAgICAgICAgICAgICAgIC8vIFN0cmluZ++8jOWPr+mAie+8jOiKgueCueeahOWUr+S4gOagh+ivhgogICAgICAgICAgICAgICAgICAgICAgeDogeCwKICAgICAgICAgICAgICAgICAgICAgIC8vIE51bWJlcu+8jOW/hemAie+8jOiKgueCueS9jee9rueahCB4IOWAvAogICAgICAgICAgICAgICAgICAgICAgeTogeSwKICAgICAgICAgICAgICAgICAgICAgIC8vIE51bWJlcu+8jOW/hemAie+8jOiKgueCueS9jee9rueahCB5IOWAvAogICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHcsCiAgICAgICAgICAgICAgICAgICAgICAvLyBOdW1iZXLvvIzlv4XpgInvvIzoioLngrnlpKflsI/nmoQgd2lkdGgg5YC8CiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGgsCiAgICAgICAgICAgICAgICAgICAgICAvLyBOdW1iZXLvvIzlv4XpgInvvIzoioLngrnlpKflsI/nmoQgaGVpZ2h0IOWAvAogICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGN1ck5vZGUucHJvY2Vzc05vZGUubmFtZSwKICAgICAgICAgICAgICAgICAgICAgIC8vIFN0cmluZ++8jOiKgueCueagh+etvgogICAgICAgICAgICAgICAgICAgICAgc2hhcGU6ICdjdXN0b20tY3lsaW5kZXInLAogICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogewogICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IHN0eWxlLmJvZHlGaWxsLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogc3Ryb2tlQ29sb3IKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogewogICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHN0eWxlLmxhYmVsLAogICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBzdHlsZS5mb250U2l6ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiBzdHlsZS50ZXh0RmlsbAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgcG9ydHM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiA0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hZ25ldDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnI2ZmZicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyaWdodCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiA0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hZ25ldDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnI2ZmZicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFnbmV0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogJyNmZTZhMDAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjZmZmJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnbGVmdCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiA0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hZ25ldDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnI2ZmZicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogSlNPTi5wYXJzZShjdXJOb2RlLnByb2Nlc3NOb2RlLnBvcnRzKQogICAgICAgICAgICAgICAgICAgICAgfSAvLyBTdHJpbmfvvIzoioLngrnmoIfnrb4KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRhdGEubm9kZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgIGlkOiBjdXJOb2RlLnByb2Nlc3NOb2RlLnV1aWQsCiAgICAgICAgICAgICAgICAgIC8vIFN0cmluZ++8jOWPr+mAie+8jOiKgueCueeahOWUr+S4gOagh+ivhgogICAgICAgICAgICAgICAgICB4OiB4LAogICAgICAgICAgICAgICAgICAvLyBOdW1iZXLvvIzlv4XpgInvvIzoioLngrnkvY3nva7nmoQgeCDlgLwKICAgICAgICAgICAgICAgICAgeTogeSwKICAgICAgICAgICAgICAgICAgLy8gTnVtYmVy77yM5b+F6YCJ77yM6IqC54K55L2N572u55qEIHkg5YC8CiAgICAgICAgICAgICAgICAgIHdpZHRoOiB3LAogICAgICAgICAgICAgICAgICAvLyBOdW1iZXLvvIzlv4XpgInvvIzoioLngrnlpKflsI/nmoQgd2lkdGgg5YC8CiAgICAgICAgICAgICAgICAgIGhlaWdodDogaCwKICAgICAgICAgICAgICAgICAgLy8gTnVtYmVy77yM5b+F6YCJ77yM6IqC54K55aSn5bCP55qEIGhlaWdodCDlgLwKICAgICAgICAgICAgICAgICAgbGFiZWw6IGN1ck5vZGUucHJvY2Vzc05vZGUubmFtZSwKICAgICAgICAgICAgICAgICAgLy8gU3RyaW5n77yM6IqC54K55qCH562+CiAgICAgICAgICAgICAgICAgIHNoYXBlOiAnY3VzdG9tLWN5bGluZGVyJywKICAgICAgICAgICAgICAgICAgcG9ydHM6IHsKICAgICAgICAgICAgICAgICAgICBncm91cHM6IHsKICAgICAgICAgICAgICAgICAgICAgIHRvcDogewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiA0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFnbmV0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiAnI2ZlNmEwMCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjZmZmJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyaWdodCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiA0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFnbmV0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiAnI2ZlNmEwMCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjZmZmJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYm90dG9tJywKICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWduZXQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJyNmZmYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnbGVmdCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiA0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFnbmV0OiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiAnI2ZlNmEwMCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICcjZmZmJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBpdGVtczogSlNPTi5wYXJzZShjdXJOb2RlLnByb2Nlc3NOb2RlLnBvcnRzKQogICAgICAgICAgICAgICAgICB9IC8vIFN0cmluZ++8jOiKgueCueagh+etvgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnY29uZGl0aW9uJzoKICAgICAgICAgICAgICBpZiAoY3VyTm9kZS5wcm9jZXNzSW5zdGFuY2VQYXJhbWV0ZXJzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgY3VyTm9kZS5wcm9jZXNzSW5zdGFuY2VQYXJhbWV0ZXJzLmZvckVhY2gocHMgPT4gewogICAgICAgICAgICAgICAgICBpZiAocHMucGFyYW1ldGVyTmFtZSA9PT0gJ3N0eWxlJykgewogICAgICAgICAgICAgICAgICAgIGxldCBzdHlsZSA9IEpTT04ucGFyc2UocHMucGFyYW1ldGVyVmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGRhdGEubm9kZXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBpZDogY3VyTm9kZS5wcm9jZXNzTm9kZS51dWlkLAogICAgICAgICAgICAgICAgICAgICAgLy8gU3RyaW5n77yM5Y+v6YCJ77yM6IqC54K555qE5ZSv5LiA5qCH6K+GCiAgICAgICAgICAgICAgICAgICAgICB4OiB4LAogICAgICAgICAgICAgICAgICAgICAgLy8gTnVtYmVy77yM5b+F6YCJ77yM6IqC54K55L2N572u55qEIHgg5YC8CiAgICAgICAgICAgICAgICAgICAgICB5OiB5LAogICAgICAgICAgICAgICAgICAgICAgLy8gTnVtYmVy77yM5b+F6YCJ77yM6IqC54K55L2N572u55qEIHkg5YC8CiAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdywKICAgICAgICAgICAgICAgICAgICAgIC8vIE51bWJlcu+8jOW/hemAie+8jOiKgueCueWkp+Wwj+eahCB3aWR0aCDlgLwKICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaCwKICAgICAgICAgICAgICAgICAgICAgIC8vIE51bWJlcu+8jOW/hemAie+8jOiKgueCueWkp+Wwj+eahCBoZWlnaHQg5YC8CiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogY3VyTm9kZS5wcm9jZXNzTm9kZS5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgLy8gU3RyaW5n77yM6IqC54K55qCH562+CiAgICAgICAgICAgICAgICAgICAgICBzaGFwZTogJ2N1c3RvbS1wb2x5Z29uJywKICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICByZWZQb2ludHM6ICcwLDEwIDEwLDAgMjAsMTAgMTAsMjAnLAogICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IHN0eWxlLmJvZHlGaWxsCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBzdHlsZS5sYWJlbCwKICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogc3R5bGUuZm9udFNpemUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogc3R5bGUudGV4dEZpbGwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIHBvcnRzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwczogewogICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcjogNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWduZXQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiAnI2ZlNmEwMCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJyNmZmYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmlnaHQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcjogNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWduZXQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiAnI2ZlNmEwMCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJyNmZmYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByOiA0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hZ25ldDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnI2ZmZicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2xlZnQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lyY2xlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcjogNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWduZXQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiAnI2ZlNmEwMCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJyNmZmYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IEpTT04ucGFyc2UoY3VyTm9kZS5wcm9jZXNzTm9kZS5wb3J0cykKICAgICAgICAgICAgICAgICAgICAgIH0gLy8gU3RyaW5n77yM6IqC54K55qCH562+CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkYXRhLm5vZGVzLnB1c2goewogICAgICAgICAgICAgICAgICBpZDogY3VyTm9kZS5wcm9jZXNzTm9kZS51dWlkLAogICAgICAgICAgICAgICAgICAvLyBTdHJpbmfvvIzlj6/pgInvvIzoioLngrnnmoTllK/kuIDmoIfor4YKICAgICAgICAgICAgICAgICAgeDogeCwKICAgICAgICAgICAgICAgICAgLy8gTnVtYmVy77yM5b+F6YCJ77yM6IqC54K55L2N572u55qEIHgg5YC8CiAgICAgICAgICAgICAgICAgIHk6IHksCiAgICAgICAgICAgICAgICAgIC8vIE51bWJlcu+8jOW/hemAie+8jOiKgueCueS9jee9rueahCB5IOWAvAogICAgICAgICAgICAgICAgICB3aWR0aDogdywKICAgICAgICAgICAgICAgICAgLy8gTnVtYmVy77yM5b+F6YCJ77yM6IqC54K55aSn5bCP55qEIHdpZHRoIOWAvAogICAgICAgICAgICAgICAgICBoZWlnaHQ6IGgsCiAgICAgICAgICAgICAgICAgIC8vIE51bWJlcu+8jOW/hemAie+8jOiKgueCueWkp+Wwj+eahCBoZWlnaHQg5YC8CiAgICAgICAgICAgICAgICAgIGxhYmVsOiBjdXJOb2RlLnByb2Nlc3NOb2RlLm5hbWUsCiAgICAgICAgICAgICAgICAgIC8vIFN0cmluZ++8jOiKgueCueagh+etvgogICAgICAgICAgICAgICAgICBzaGFwZTogJ2N1c3RvbS1wb2x5Z29uJywKICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICBib2R5OiB7CiAgICAgICAgICAgICAgICAgICAgICByZWZQb2ludHM6ICcwLDEwIDEwLDAgMjAsMTAgMTAsMjAnCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBwb3J0czogewogICAgICAgICAgICAgICAgICAgIGdyb3VwczogewogICAgICAgICAgICAgICAgICAgICAgdG9wOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wJywKICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWduZXQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJyNmZmYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICByaWdodDogewogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JywKICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWduZXQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJyNmZmYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICBib3R0b206IHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20nLAogICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgICAgICAgIGNpcmNsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcjogNCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hZ25ldDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogJyNmZTZhMDAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnI2ZmZicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdsZWZ0JywKICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHI6IDQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWduZXQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6ICcjZmU2YTAwJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJyNmZmYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBKU09OLnBhcnNlKGN1ck5vZGUucHJvY2Vzc05vZGUucG9ydHMpCiAgICAgICAgICAgICAgICAgIH0gLy8gU3RyaW5n77yM6IqC54K55qCH562+CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIC8vIOe7hOijhei/nue6v+iKgueCuQogICAgICAgIHByb2Nlc3NMaW5rLnZhbHVlLmZvckVhY2goY3VyTGluayA9PiB7CiAgICAgICAgICBpZiAoY3VyTGluay5wcm9jZXNzSW5zdGFuY2VQYXJhbWV0ZXJzLmxlbmd0aCkgewogICAgICAgICAgICBjdXJMaW5rLnByb2Nlc3NJbnN0YW5jZVBhcmFtZXRlcnMuZm9yRWFjaChwcyA9PiB7CiAgICAgICAgICAgICAgaWYgKHBzLnBhcmFtZXRlck5hbWUgPT09ICdzdHlsZScpIHsKICAgICAgICAgICAgICAgIGxldCBzdHlsZSA9IEpTT04ucGFyc2UocHMucGFyYW1ldGVyVmFsdWUpOwogICAgICAgICAgICAgICAgZGF0YS5lZGdlcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgc291cmNlOiB7CiAgICAgICAgICAgICAgICAgICAgY2VsbDogY3VyTGluay5zb3VyY2VVdWlkLAogICAgICAgICAgICAgICAgICAgIHBvcnQ6IGN1ckxpbmsucHJvY2Vzc0xpbmsuc291cmNlUG9ydElkCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHRhcmdldDogewogICAgICAgICAgICAgICAgICAgIGNlbGw6IGN1ckxpbmsudGFyZ2V0VXVpZCwKICAgICAgICAgICAgICAgICAgICBwb3J0OiBjdXJMaW5rLnByb2Nlc3NMaW5rLnRhcmdldFBvcnRJZAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBpZDogY3VyTGluay5wcm9jZXNzTGluay51dWlkLAogICAgICAgICAgICAgICAgICBsYWJlbDogY3VyTGluay5wcm9jZXNzTGluay5saW5lQ29uZGl0aW9uLAogICAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAgIHRleHQ6IHsKICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHN0eWxlLnRleHQKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGxpbmU6IHsKICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogc3R5bGUuY29sb3IKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgY3VycmVudFZlcnNpb25TdGF0dXMgPSAoX3JlcyRkYXRhID0gcmVzLmRhdGEpID09PSBudWxsIHx8IF9yZXMkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcyRkYXRhLnByb2Nlc3NJbnN0YW5jZVZlcnNpb25zLmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgPT09IGN1cnJlbnRWZXJzaW9uSWQudmFsdWUpWzBdLnN0YXR1czsKICAgICAgICBjb25zb2xlLmxvZygi55S75biD5Yqg6L295oiQ5YqfIik7CiAgICAgICAgZ3JhcGguZnJvbUpTT04oZGF0YSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWVzc2FnZS5lcnJvcigi55S75biD5Yqg6L295aSx6LSl77yb5aSx6LSl5Y6f5Zug77yaIiArIHJlcy5tZXNzYWdlKTsKICAgICAgfQogICAgICBpZiAoY3VycmVudFZlcnNpb25TdGF0dXMgPT09IDEgfHwgY3VycmVudFZlcnNpb25TdGF0dXMgPT09IDIpIHsKICAgICAgICBtZXNzYWdlLndhcm5pbmcoIuW9k+WJjeeJiOacrOW3sue7j+WPkeW4gy/kuIvnur/vvIzkuI3og73ov5vooYzkv67mlLkiKTsKICAgICAgICBpc0Rpc2FibGVkLnZhbHVlID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpc0Rpc2FibGVkLnZhbHVlID0gZmFsc2U7CiAgICAgIH0KICAgIH0pOwogIH07CiAgcmV0dXJuIHsKICAgIGNyZWF0ZU5vZGVBcGksCiAgICBkZWxldGVOb2RlQXBpLAogICAgY3JlYXRlTGlua0FwaSwKICAgIGRlbGV0ZUxpbmtBcGksCiAgICBkZXRhaWxOb2RlTGluaywKICAgIHVwZGF0ZVhZLAogICAgdXBkYXRlU2l6ZSwKICAgIHVwZGF0ZVRhcmdldEFwaSwKICAgIGlzRGlzYWJsZWQKICB9Owp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZsb3dEZXRhaWwiLAogIGNvbXBvbmVudHM6IHsKICAgIEdyYXBoQ29uZmlnQ29udGFpbmVyLAogICAgTm9kZUNvbmZpZ0NvbnRhaW5lciwKICAgIEVkZ2VDb25maWdDb250YWluZXIKICB9LAogIHNldHVwKCkgewogICAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBwcm9jZXNzSW5zdGFuY2VJZC52YWx1ZSA9IHJvdXRlci5jdXJyZW50Um91dGUudmFsdWUucGFyYW1zLnByb2Nlc3NJbnN0YW5jZUlkOwogICAgYXV0aG9yLnZhbHVlID0gc3RvcmUuc3RhdGUudXNlci5hY2NvdW50OwogICAgY29uc3QgewogICAgICBpbml0R3JhcGgsCiAgICAgIGdyYXBoT25FdmVudCwKICAgICAgZ3JhcGhCaW5kS2V5CiAgICB9ID0gdXNlR3JhcGhFZmZlY3QoKTsKICAgIGNvbnN0IHsKICAgICAgc3RlbmNpbCwKICAgICAgcG9ydHMsCiAgICAgIGluaXRTdGVuY2lsLAogICAgICBpbml0UG9ydHMsCiAgICAgIGxvYWRTdGVuY2lsCiAgICB9ID0gdXNlU3RlbmNpbEVmZmVjdCgpOwogICAgY29uc3QgewogICAgICBjb25maWdWaXNpYmxlLAogICAgICBncmFwaENvbiwKICAgICAgaGFuZGxlQ2xvc2VDb25maWcsCiAgICAgIGhhbmRsZU9wZW5Db25maWcKICAgIH0gPSB1c2VDb25maWdQYW5lbCgpOwogICAgY29uc3QgewogICAgICBjcmVhdGVOb2RlQXBpLAogICAgICBkZWxldGVOb2RlQXBpLAogICAgICBjcmVhdGVMaW5rQXBpLAogICAgICBkZWxldGVMaW5rQXBpLAogICAgICBkZXRhaWxOb2RlTGluaywKICAgICAgaXNEaXNhYmxlZAogICAgfSA9IHVzZU5vZGVFZmZlY3QoKTsKICAgIGNvbnN0IGdyYXBoQ29uZmlnID0gcmVmKCk7CiAgICBjb25maWdWaXNpYmxlLnZhbHVlID0gZmFsc2U7CiAgICBvbk1vdW50ZWQoKCkgPT4gewogICAgICAvLyDliJ3lp4vljJbnlLvluIMKICAgICAgaW5pdEdyYXBoKCk7CiAgICAgIC8vIOe7keWumueUu+W4g+W/q+aNt+mUrgogICAgICBncmFwaEJpbmRLZXkoKTsKICAgICAgLy8g55S75biD57uR5a6a55uR5ZCs5LqL5Lu2CiAgICAgIGdyYXBoT25FdmVudCgpOwogICAgICAvLyDliJ3lp4vljJbmtYHnqIvmjqfku7bpnaLmnb8KICAgICAgaW5pdFN0ZW5jaWwoKTsKICAgICAgLy8g5Yid5aeL5YyW6L+e5o6l5qGpCiAgICAgIGluaXRQb3J0cygpOwogICAgICAvLyDmuLLmn5PmiYDmnInlt6bkvqfmjqfku7blm77lvaIKICAgICAgbG9hZFN0ZW5jaWwoKTsKICAgICAgZ3JhcGhDb25maWcudmFsdWUgPSBncmFwaDsKICAgICAgLy8g6LCD5ZCO56uv5o6l5Y+j6I635Y+W5riy5p+T5pWw5o2uCiAgICAgIGRldGFpbE5vZGVMaW5rKGdyYXBoLCAwKTsKICAgIH0pOwogICAgY29uc3QgZm9vdGVyQ29udGVudCA9IF9jcmVhdGVWTm9kZSgiZGl2IiwgewogICAgICAic3R5bGUiOiAiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsgbWFyZ2luLXJpZ2h0OiA5MHB4OyIKICAgIH0sIFtfY3JlYXRlVk5vZGUoX3Jlc29sdmVDb21wb25lbnQoImEtYnV0dG9uIiksIHsKICAgICAgIm9uQ2xpY2siOiBoYW5kbGVDbG9zZUNvbmZpZwogICAgfSwgewogICAgICBkZWZhdWx0OiAoKSA9PiBbX2NyZWF0ZVRleHRWTm9kZSgiXHU1M0Q2XHU2RDg4IildCiAgICB9KV0pOwogICAgLy8g5pu05paw55S75biD55qE54mI5pys5Y+35Lul5Y+K54mI5pys5a+55bqU55qE5pWw5o2uCiAgICBjb25zdCBoYW5kbGVVcGRhdGVWZXJzaW9uID0gcmVjb3JkID0+IHsKICAgICAgY29uc29sZS5sb2coIuabtOaWsOeJiOacrOWPtyIgKyByZWNvcmQuaWQpOwogICAgICBjdXJyZW50VmVyc2lvbklkLnZhbHVlID0gcmVjb3JkLmlkOwogICAgICBkZXRhaWxOb2RlTGluayhncmFwaCwgY3VycmVudFZlcnNpb25JZC52YWx1ZSk7CiAgICAgIC8vIGlmIChyZWNvcmQuc3RhdHVzID09MSB8fCByZWNvcmQuc3RhdHVzID09Mil7CiAgICAgIC8vICAgbWVzc2FnZS53YXJuaW5nKCLlvZPliY3niYjmnKzlt7Lnu4/lj5HluIMv5LiL57q/77yM5LiN6IO96L+b6KGM5L+u5pS5IikKICAgICAgLy8gICBpc0Rpc2FibGVkLnZhbHVlID0gdHJ1ZQogICAgICAvLyB9IGVsc2UgewogICAgICAvLyAgIGlzRGlzYWJsZWQudmFsdWUgPSBmYWxzZQogICAgICAvLyB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGdyYXBoLAogICAgICBpbml0R3JhcGgsCiAgICAgIGdyYXBoT25FdmVudCwKICAgICAgZ3JhcGhCaW5kS2V5LAogICAgICBzdGVuY2lsLAogICAgICBpbml0U3RlbmNpbCwKICAgICAgcG9ydHMsCiAgICAgIGluaXRQb3J0cywKICAgICAgbG9hZFN0ZW5jaWwsCiAgICAgIGN1ck5vZGUsCiAgICAgIGN1ckVkZ2UsCiAgICAgIGlzTm9kZSwKICAgICAgZ3JhcGhDb24sCiAgICAgIGNvbmZpZ1Zpc2libGUsCiAgICAgIGhhbmRsZUNsb3NlQ29uZmlnLAogICAgICBoYW5kbGVPcGVuQ29uZmlnLAogICAgICBncmFwaENvbmZpZywKICAgICAgY3JlYXRlTm9kZUFwaSwKICAgICAgZGVsZXRlTm9kZUFwaSwKICAgICAgY3JlYXRlTGlua0FwaSwKICAgICAgZGVsZXRlTGlua0FwaSwKICAgICAgZGV0YWlsTm9kZUxpbmssCiAgICAgIGZvb3RlckNvbnRlbnQsCiAgICAgIGN1cnJlbnRWZXJzaW9uSWQsCiAgICAgIHByb2Nlc3NJbnN0YW5jZUlkLAogICAgICBoYW5kbGVVcGRhdGVWZXJzaW9uLAogICAgICBpc0Rpc2FibGVkCiAgICB9OwogIH0KfTs="},{"version":3,"mappings":"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","names":["Graph","Shape","Addon","GraphConfigContainer","NodeConfigContainer","EdgeConfigContainer","ref","onMounted","createLink","createNode","deleteLink","deleteNode","detailInstance","updateLinkTarget","updateNodeCoordinate","updateNodeSize","useRouter","useStore","message","graph","curNode","curEdge","isNode","processInstanceId","author","useGraphEffect","initGraph","container","document","getElementById","grid","mousewheel","enabled","zoomAtMousePosition","modifiers","minScale","maxScale","connecting","router","name","args","padding","connector","radius","anchor","connectionPoint","allowBlank","snap","createEdge","Edge","attrs","line","stroke","strokeWidth","targetMarker","width","height","zIndex","validateConnection","targetMagnet","highlighting","magnetAdsorbed","fill","resizing","rotating","selecting","pointerEvents","showNodeSelectionBox","snapline","keyboard","clipboard","history","translating","restrict","transforming","clearAll","clearOnBlankMouseDown","panning","graphOnEvent","showPorts","ports","show","i","len","length","style","visibility","on","querySelectorAll","console","log","useConfigPanel","handleCloseConfig","node","value","size","useNodeEffect","updateSize","id","label","updateXY","position","x","y","info","handleOpenConfig","createNodeApi","edge","createLinkApi","cell","current","getTargetPortId","getSourcePortId","obj","targetNodeId","targetPortId","sourcePortId","updateTargetApi","graphBindKey","bindKey","nodes","getNodes","select","cells","getSelectedCells","forEach","deleteNodeApi","deleteLinkApi","zoom","useStencilEffect","stencil","initStencil","Stencil","title","target","stencilGraphWidth","stencilGraphHeight","collapsable","notFoundText","search","keyword","groupName","includes","groups","layoutOptions","columns","columnWidth","rowHeight","appendChild","initPorts","top","circle","r","magnet","right","bottom","left","items","group","loadStencil","registerNode","inherit","body","text","fontSize","refY","rx","ry","markup","tagName","selector","image","refX","textAnchor","textVerticalAnchor","r1","shape","r2","r3","refPoints","load","configVisible","graphCon","currentVersionId","isDisabled","processNode","processLink","data","edges","pos","req","Number","JSON","stringify","getPorts","then","res","code","success","error","removeNode","versionId","uuid","updatedBy","getSourceCellId","removeEdge","detailNodeLink","currentVersionStatus","processNodeResponse","processLinkResponse","split","w","h","parameterValue","processInstanceParameters","find","item","parameterName","strokeColor","parse","type","push","ps","bodyFill","textFill","curLink","source","sourceUuid","port","targetUuid","lineCondition","color","processInstanceVersions","filter","status","fromJSON","warning","components","setup","store","currentRoute","params","state","user","account","graphConfig","footerContent","handleUpdateVersion","record"],"sourceRoot":"","sources":["/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/FlowDetail.vue"],"sourcesContent":["<template>\n<!--  <div class=\"shade\" v-if=\"configVisible\"></div>-->\n  <div class=\"flow-div\">\n    <graph-config-container :graphConfig=\"graphConfig\" :versionId=\"currentVersionId\" :processInstanceId=\"processInstanceId\" @updateVersion=\"handleUpdateVersion\"></graph-config-container>\n    <div id=\"container\">\n      <div id=\"stencil\" :class=\"{'disabled-item':isDisabled}\"></div>\n      <div id=\"graph-container\" ref=\"graphCon\"></div>\n      <a-drawer\n          placement=\"right\"\n          :closable=\"false\"\n          :visible=\"configVisible\"\n          @close=\"handleCloseConfig\"\n          :width=\"700\"\n          :footer=\"footerContent\"\n      >\n        <node-config-container :class=\"{'disabled-item':isDisabled}\" v-show=\"isNode\" :node=\"curNode\" :visible=\"configVisible\" :versionId=\"currentVersionId\" @delete=\"deleteNodeApi\" @close=\"handleCloseConfig\"></node-config-container>\n        <edge-config-container :class=\"{'disabled-item':isDisabled}\" v-show=\"!isNode\" :edge=\"curEdge\" :versionId=\"currentVersionId\" @delete=\"deleteLinkApi\"></edge-config-container>\n<!--        <span class=\"iconfont collpase-icon\" @click=\"handleCloseConfig\">&#xe68a;</span>-->\n      </a-drawer>\n<!--      <div v-if=\"configVisible\" id=\"config-container\">-->\n<!--        <node-config-container v-show=\"isNode\" :node=\"curNode\" :visible=\"configVisible\"></node-config-container>-->\n<!--        <edge-config-container v-show=\"!isNode\" :edge=\"curEdge\"></edge-config-container>-->\n<!--        <span class=\"iconfont collpase-icon\" @click=\"handleCloseConfig\">&#xe68a;</span>-->\n<!--      </div>-->\n<!--      <span v-if=\"!configVisible\" class=\"iconfont open-icon\" @click=\"handleOpenConfig\">&#xe689;</span>-->\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Graph, Shape, Addon } from '@antv/x6'\nimport '@antv/x6-vue-shape'\nimport GraphConfigContainer from \"@/views/flows/components/GraphConfigContainer\";\nimport NodeConfigContainer from \"@/views/flows/components/NodeConfigContainer\";\nimport EdgeConfigContainer from \"@/views/flows/components/EdgeConfigContainer\";\nimport {ref, onMounted} from \"vue\";\nimport {\n  createLink,\n  createNode,\n  deleteLink,\n  deleteNode,\n  detailInstance,\n  updateLinkTarget,\n  updateNodeCoordinate, updateNodeSize\n} from \"@/api/request\";\nimport {useRouter} from \"vue-router\";\nimport {useStore} from \"vuex\";\nimport {message} from \"ant-design-vue\";\n\n// 初始化画布\nlet graph = {}\nlet curNode = ref({})\nlet curEdge = ref({})\nconst isNode = ref(true)\nconst processInstanceId = ref(0)\nconst author = ref('')\n// 画布相关操作\nconst useGraphEffect = ()=>{\n  // 初始化画布\n  const initGraph = ()=>{\n    // 初始化画布\n    graph = new Graph({\n      container: document.getElementById('graph-container'),\n      grid: true,\n      mousewheel: {\n        enabled: true,\n        zoomAtMousePosition: true,\n        modifiers: 'ctrl',\n        minScale: 0.5,\n        maxScale: 3\n      },\n      connecting: {\n        router: {\n          name: 'manhattan',\n          args: {\n            padding: 1\n          }\n        },\n        connector: {\n          name: 'rounded',\n          args: {\n            radius: 8\n          }\n        },\n        anchor: 'center',\n        connectionPoint: 'anchor',\n        allowBlank: true,\n        snap: {\n          radius: 20\n        },\n        createEdge () {\n          return new Shape.Edge({\n            attrs: {\n              line: {\n                stroke: '#4A4A4A',\n                strokeWidth: 2,\n                targetMarker: {\n                  name: 'block',\n                  width: 12,\n                  height: 8\n                }\n              }\n            },\n            zIndex: 0\n          })\n        },\n        validateConnection ({ targetMagnet }) {\n          return !!targetMagnet\n        }\n      },\n      highlighting: {\n        magnetAdsorbed: {\n          name: 'stroke',\n          args: {\n            attrs: {\n              fill: '#5F95FF',\n              stroke: '#5F95FF'\n            }\n          }\n        }\n      },\n      resizing: true,\n      rotating: true,\n      // selecting: {\n      //   enabled: true,\n      //   rubberband: true,\n      //   showNodeSelectionBox: true\n      // },\n      selecting:{\n        enabled: true,\n        pointerEvents: \"none\", // 新属性\n        showNodeSelectionBox: true\n        // multiple: true,\n      },\n      snapline: true,\n      keyboard: true,\n      clipboard: true,\n      history: true,\n      translating: {\n        restrict: true,\n      },\n      transforming: {\n        clearAll: true,\n        clearOnBlankMouseDown: true,\n      },\n      panning: {\n        enabled: true,\n      }\n    })\n  }\n  // 画布绑定监听事件\n  const graphOnEvent = ()=> {\n    // 控制连接桩显示/隐藏\n    const showPorts = (ports, show) => {\n      for (let i = 0, len = ports.length; i < len; i = i + 1) {\n        ports[i].style.visibility = show ? 'visible' : 'hidden'\n      }\n    }\n    graph.on('node:mouseenter', () => {\n      const container = document.getElementById('graph-container')\n      const ports = container.querySelectorAll('.x6-port-body')\n      showPorts(ports, true)\n    })\n    graph.on('node:mouseleave', () => {\n      const container = document.getElementById('graph-container')\n      const ports = container.querySelectorAll('.x6-port-body')\n      showPorts(ports, false)\n    })\n    graph.on('blank:click', () => {\n      console.log('监听到点击画布')\n      // 收缩右侧配置面板\n      useConfigPanel().handleCloseConfig()\n    })\n    // 监听调节节点大小\n    graph.on('node:resized', ({ node }) => {\n      curNode.value = node\n      isNode.value = true\n      console.log('监听调整大小一个控件id：')\n      const size = node.size()\n      useNodeEffect().updateSize(node,size.width,size.height)\n    })\n    // 监听移动画布的节点\n    graph.on('node:moved', ({ node }) => {\n      curNode.value = node\n      isNode.value = true\n      console.log('监听到移动一个控件id：' + node.id)\n      if (node.label=='开始'||node.label=='结束') {\n        // 收缩右侧配置面板\n        useConfigPanel().handleCloseConfig()\n      }\n      useNodeEffect().updateXY(node,node.position().x,node.position().y)\n    })\n    // 监听点击画布的节点\n    graph.on('node:click', ({ node }) => {\n      curNode.value = node\n      isNode.value = true\n      console.log('监听到点击一个控件id：'+node.id)\n      if (node.label=='开始'||node.label=='结束') {\n        // 收缩右侧配置面板\n        useConfigPanel().handleCloseConfig()\n        message.info('开始/结束节点不可配置')\n      } else {\n        // 打开右侧配置面板\n        useConfigPanel().handleOpenConfig()\n      }\n      // useConfigPanel().handleOpenConfig()\n      // console.log(e)\n      // console.log(x)\n      // console.log(y)\n      // console.log(view)\n    })\n    // 监听画布添加节点动作\n    graph.on('node:added', ({ node}) => {\n      curNode.value = node\n      isNode.value = true\n      console.log('监听到拖入一个控件id开始：' + node.id)\n      // 收缩右侧配置面板\n      useConfigPanel().handleCloseConfig()\n      useNodeEffect().createNodeApi(curNode.value) // 调用后端接口创建节点\n      console.log('监听到拖入一个控件id结束：' + node.id)\n      // console.log(index)\n      // console.log(options)\n    })\n    // 监听画布移除节点动作\n    graph.on('node:removed', ({node}) => {\n      // let name = node.shape===\"custom-text\"?node.attrs.label?.text:node.attrs.text?.text\n      // // 如果是开始/结束节点不调接口删除\n      // if(name == '开始'||name == '结束'){\n      //   message.error('开始/结束节点不能删除')\n      //   return\n      // }\n      curNode.value = node\n      console.log('监听到移除一个控件id开始：' + node.id)\n      // 收缩右侧配置面板\n      // useConfigPanel().handleCloseConfig()\n      // useNodeEffect().deleteNodeApi(curNode.value)\n      console.log('监听到移除一个控件id结束：' + node.id)\n      // console.log(index)\n      // console.log(options)\n    })\n    // 监听节点之间连接动作\n    graph.on('edge:added', ({ edge}) => {\n      isNode.value = false\n      curEdge.value = edge\n      console.log('监听到连接线动作开始：' + edge.id)\n      // 收缩右侧配置面板\n      useConfigPanel().handleCloseConfig()\n      useNodeEffect().createLinkApi(curEdge.value)\n      console.log('监听到连接线动作结束：' + edge.id)\n    })\n    graph.on('edge:change:target', ({cell, current}) => {\n      isNode.value = false\n      console.log('监听到连接线change动作开始：')\n      // console.log(cell)\n      // console.log(current)\n      // console.log(previous)\n      // console.log(options)\n      // console.log(cell.getSourcePortId())\n      // console.log(cell.getTargetPortId())\n      if (cell.id && current.cell&&cell.getTargetPortId()&&cell.getSourcePortId()) {\n        const obj = {\n          id: cell.id,\n          targetNodeId: current.cell,\n          targetPortId: cell.getTargetPortId(),\n          sourcePortId: cell.getSourcePortId()\n        }\n        console.log(obj)\n        useNodeEffect().updateTargetApi(obj)\n      }\n      console.log('监听到连接线change动作结束：')\n    })\n    // 监听点击节点之间连接动作\n    graph.on('edge:click', ({ edge }) => {\n      isNode.value = false\n      curEdge.value = edge\n      console.log('监听到点击连接线动作开始：' + edge.id)\n      // 打开右侧配置面板\n      useConfigPanel().handleOpenConfig()\n      // console.log(e)\n      // console.log(x)\n      // console.log(y)\n      // console.log(view)\n    })\n    // 监听节点之间移除连接动作\n    graph.on('edge:removed', ({ edge}) => {\n      isNode.value = false\n      curEdge.value = edge\n      console.log('监听到移除连接线动作开始：' + edge.id)\n      // 收缩右侧配置面板\n      // useConfigPanel().handleCloseConfig()\n      // useNodeEffect().deleteLinkApi(curEdge.value)\n      console.log('监听到移除连接线动作结束：' + edge.id)\n      // console.log('edge:removed')\n      // console.log(edge)\n      // console.log(index)\n      // console.log(options)\n    })\n  }\n  // 绑定画布快捷键\n  const graphBindKey =() =>{\n    // todo 暂时不用，因为撤回没有实时更新数据\n    // graph.bindKey(['meta+c', 'ctrl+c'], () => {\n    //   const cells = graph.getSelectedCells()\n    //   if (cells.length) {\n    //     graph.copy(cells)\n    //   }\n    //   return false\n    // })\n    // graph.bindKey(['meta+x', 'ctrl+x'], () => {\n    //   const cells = graph.getSelectedCells()\n    //   if (cells.length) {\n    //     graph.cut(cells)\n    //   }\n    //   return false\n    // })\n    // graph.bindKey(['meta+v', 'ctrl+v'], () => {\n    //   if (!graph.isClipboardEmpty()) {\n    //     const cells = graph.paste({ offset: 32 })\n    //     graph.cleanSelection()\n    //     graph.select(cells)\n    //   }\n    //   return false\n    // })\n    // // undo redo\n    // graph.bindKey(['meta+z', 'ctrl+z'], () => {\n    //   if (graph.history.canUndo()) {\n    //     graph.history.undo()\n    //   }\n    //   return false\n    // })\n    // graph.bindKey(['meta+shift+z', 'ctrl+shift+z'], () => {\n    //   if (graph.history.canRedo()) {\n    //     graph.history.redo()\n    //   }\n    //   return false\n    // })\n    // select all\n    graph.bindKey(['meta+a', 'ctrl+a'], () => {\n      const nodes = graph.getNodes()\n      if (nodes) {\n        graph.select(nodes)\n      }\n    })\n    // delete\n    graph.bindKey('backspace', () => {\n      const cells = graph.getSelectedCells()\n      if (cells.length) {\n        // 收缩右侧配置面板\n        useConfigPanel().handleCloseConfig()\n        // 调接口删除\n        cells.forEach(cell=> {\n          if (cell.isNode()) {\n            useNodeEffect().deleteNodeApi(cell)\n          } else {\n            useNodeEffect().deleteLinkApi(cell)\n          }\n        })\n        // graph.removeCells(cells)\n      }\n    })\n    // zoom\n    graph.bindKey(['ctrl+1', 'meta+1'], () => {\n      const zoom = graph.zoom()\n      if (zoom < 1.5) {\n        graph.zoom(0.1)\n      }\n    })\n    graph.bindKey(['ctrl+2', 'meta+2'], () => {\n      const zoom = graph.zoom()\n      if (zoom > 0.5) {\n        graph.zoom(-0.1)\n      }\n    })\n  }\n  return {initGraph,graphOnEvent,graphBindKey}\n}\n\n// 左侧控件面板\nconst useStencilEffect = ()=>{\n  let stencil = {}\n  // 初始化左侧流程控件面板\n  const initStencil = () =>{\n    stencil = new Addon.Stencil({\n      title: '流程图',\n      target: graph,\n      stencilGraphWidth: 250,\n      stencilGraphHeight: 320,\n      collapsable: true,\n      notFoundText: '暂未匹配到结果',\n      search: (cell, keyword, groupName, stencil) => {\n        console.log(groupName)\n        console.log(stencil)\n        if (keyword) {\n          return cell?.label?.includes(keyword)\n        }\n        return true\n      },\n      groups: [\n        {\n          title: '基础节点',\n          name: 'group1'\n        },\n        // {\n        //   title: '图片节点',\n        //   name: 'group2',\n        //   graphHeight: 250,\n        //   layoutOptions: {\n        //     rowHeight: 70\n        //   }\n        // }\n      ],\n      layoutOptions: {\n        columns: 2,\n        columnWidth: 110,\n        rowHeight: 60\n      }\n    })\n    document.getElementById('stencil').appendChild(stencil.container)\n  }\n  // 初始化链接桩\n  let ports = {}\n  // 初始化链接桩\n  const initPorts = () => {\n    ports = {\n      groups: {\n        top: {\n          position: 'top',\n          attrs: {\n            circle: {\n              r: 4,\n              magnet: true,\n              stroke: '#fe6a00',\n              strokeWidth: 1,\n              fill: '#fff',\n              style: {\n                visibility: 'hidden'\n              }\n            }\n          }\n        },\n        right: {\n          position: 'right',\n          attrs: {\n            circle: {\n              r: 4,\n              magnet: true,\n              stroke: '#fe6a00',\n              strokeWidth: 1,\n              fill: '#fff',\n              style: {\n                visibility: 'hidden'\n              }\n            }\n          }\n        },\n        bottom: {\n          position: 'bottom',\n          attrs: {\n            circle: {\n              r: 4,\n              magnet: true,\n              stroke: '#fe6a00',\n              strokeWidth: 1,\n              fill: '#fff',\n              style: {\n                visibility: 'hidden'\n              }\n            }\n          }\n        },\n        left: {\n          position: 'left',\n          attrs: {\n            circle: {\n              r: 4,\n              magnet: true,\n              stroke: '#fe6a00',\n              strokeWidth: 1,\n              fill: '#fff',\n              style: {\n                visibility: 'hidden'\n              }\n            }\n          }\n        }\n      },\n      items: [\n        {\n          group: 'top'\n        },\n        {\n          group: 'right'\n        },\n        {\n          group: 'bottom'\n        },\n        {\n          group: 'left'\n        }\n      ]\n    }\n  }\n  // 渲染所有左侧控件图形\n  const loadStencil= ()=> {\n    Graph.registerNode(\n        'custom-rect',\n        {\n          inherit: 'rect',\n          width: 80,\n          height: 36,\n          attrs: {\n            body: {\n              strokeWidth: 1,\n              stroke: '#fe6a00',\n              fill: '#fcf0e6'\n            },\n            text: {\n              fontSize: 12,\n              fill: '#262626'\n            }\n          },\n          ports: { ...ports }\n        },\n        true\n    )\n\n    Graph.registerNode(\n        'custom-polygon',\n        {\n          inherit: 'polygon',\n          width: 80,\n          height: 38,\n          attrs: {\n            body: {\n              strokeWidth: 1,\n              stroke: '#fe6a00',\n              fill: '#fcf0e6'\n            },\n            text: {\n              fontSize: 12,\n              fill: '#262626'\n            }\n          },\n          ports: {...ports}\n        },\n        true\n    )\n\n    Graph.registerNode(\n        'custom-circle',\n        {\n          inherit: 'circle',\n          width: 48,\n          height: 48,\n          attrs: {\n            body: {\n              strokeWidth: 1,\n              stroke: '#fe6a00',\n              fill: '#fcf0e6'\n            },\n            text: {\n              fontSize: 12,\n              fill: '#262626'\n            }\n          },\n          ports: { ...ports }\n        },\n        true\n    )\n    Graph.registerNode(\n        'custom-cylinder',\n        {\n          inherit: 'cylinder',\n          width: 62,\n          height: 48,\n          attrs: {\n            body: {\n              strokeWidth: 1,\n              stroke: '#fe6a00',\n              fill: '#fcf0e6'\n            },\n            text: {\n              fontSize: 12,\n              fill: '#262626',\n              refY: 32\n            },\n            top: {\n              strokeWidth: 1,\n              stroke: '#fe6a00',\n              fill: '#fcf0e6'\n            }\n          },\n          ports: { ...ports }\n        },\n        true\n    )\n\n    Graph.registerNode(\n        'custom-text',\n        {\n          inherit: 'text-block',\n          width: 60,\n          height: 36,\n          attrs: {\n            body: {\n              // strokeWidth: 0,\n              rx: 4,\n              ry: 4,\n              fill: '#fff',\n              stroke: '#fff'\n            },\n            text: {\n              fontSize: 12,\n              fill: '#000'\n            }\n          },\n          ports: { ...ports }\n        },\n        true\n    )\n\n    Graph.registerNode(\n        'custom-path',\n        {\n          inherit: 'path',\n          width: 60,\n          height: 36,\n          attrs: {\n            body: {\n              strokeWidth: 1,\n              stroke: '#fe6a00',\n              fill: '#fcf0e6'\n            },\n            text: {\n              fontSize: 12,\n              fill: '#262626'\n            }\n          },\n          ports: { ...ports }\n        },\n        true\n    )\n    Graph.registerNode(\n        'custom-image',\n        {\n          inherit: 'rect',\n          width: 52,\n          height: 52,\n          markup: [\n            {\n              tagName: 'rect',\n              selector: 'body'\n            },\n            {\n              tagName: 'image'\n            },\n            {\n              tagName: 'text',\n              selector: 'label'\n            }\n          ],\n          attrs: {\n            body: {\n              strokeWidth: 1,\n              stroke: '#ff8833',\n              fill: '#ff8833'\n            },\n            image: {\n              width: 26,\n              height: 26,\n              refX: 13,\n              refY: 16\n            },\n            label: {\n              refX: 3,\n              refY: 2,\n              textAnchor: 'left',\n              textVerticalAnchor: 'top',\n              fontSize: 12,\n              fill: '#fff'\n            }\n          },\n          ports: { ...ports }\n        },\n        true\n    )\n\n    const r1 = graph.createNode({\n      shape: 'custom-rect',\n      attrs: {\n        body: {\n          rx: 6,\n          ry: 6\n        }\n      },\n      label: '工具组件'\n    })\n    const r2 = graph.createNode({\n      shape: 'custom-rect',\n      attrs: {\n        body: {\n          rx: 6,\n          ry: 6\n        }\n      },\n      label: '提取组件'\n    })\n    const r3 = graph.createNode({\n      shape: 'custom-polygon',\n      attrs: {\n        body: {\n          refPoints: '0,10 10,0 20,10 10,20'\n        }\n      },\n      label: '条件'\n    })\n    // const r5 = graph.createNode({\n    //   shape: 'custom-polygon',\n    //   attrs: {\n    //     body: {\n    //       refPoints: '10,0 40,0 30,20 0,20'\n    //     }\n    //   },\n    //   label: '数据'\n    // })\n    // const r6 = graph.createNode({\n    //   shape: 'custom-circle',\n    //   label: '连接'\n    // })\n    // const r7 = graph.createNode({\n    //   shape: 'custom-cylinder',\n    //   label: '数据库'\n    // })\n    // const r8 = graph.createNode({\n    //   shape: 'custom-path',\n    //   label: '文档',\n    //   attrs: {\n    //     body: {\n    //       refD: 'M 0 0 0 4 C 10 8 15 2 25 5 L 25 0 Z'\n    //     }\n    //   }\n    // })\n    // const r9 = graph.createNode({\n    //   shape: 'custom-path',\n    //   label: '手动输入',\n    //   attrs: {\n    //     body: {\n    //       refD: 'M 0 7 0 15 15 15 15 5 Z'\n    //     }\n    //   }\n    // })\n    // const r10 = graph.createNode({\n    //   shape: 'custom-text',\n    //   text: '文本'\n    // })\n    // stencil.load([r1, r2, r3, r4, r5, r6, r7, r8, r9, r10], 'group1')\n    stencil.load([ r1, r2, r3], 'group1')\n    // const imageShapes = [\n    //   {\n    //     label: 'Client',\n    //     image:\n    //         'https://gw.alipayobjects.com/zos/bmw-prod/687b6cb9-4b97-42a6-96d0-34b3099133ac.svg'\n    //   },\n    //   {\n    //     label: 'Http',\n    //     image:\n    //         'https://gw.alipayobjects.com/zos/bmw-prod/dc1ced06-417d-466f-927b-b4a4d3265791.svg'\n    //   },\n    //   {\n    //     label: 'Api',\n    //     image:\n    //         'https://gw.alipayobjects.com/zos/bmw-prod/c55d7ae1-8d20-4585-bd8f-ca23653a4489.svg'\n    //   },\n    //   {\n    //     label: 'Sql',\n    //     image:\n    //         'https://gw.alipayobjects.com/zos/bmw-prod/6eb71764-18ed-4149-b868-53ad1542c405.svg'\n    //   },\n    //   {\n    //     label: 'Clound',\n    //     image:\n    //         'https://gw.alipayobjects.com/zos/bmw-prod/c36fe7cb-dc24-4854-aeb5-88d8dc36d52e.svg'\n    //   },\n    //   {\n    //     label: 'Mq',\n    //     image:\n    //         'https://gw.alipayobjects.com/zos/bmw-prod/2010ac9f-40e7-49d4-8c4a-4fcf2f83033b.svg'\n    //   }\n    // ]\n    // const imageNodes = imageShapes.map((item) =>\n    //     graph.createNode({\n    //       shape: 'custom-image',\n    //       label: item.label,\n    //       attrs: {\n    //         image: {\n    //           'xlink:href': item.image\n    //         }\n    //       }\n    //     })\n    // )\n    // stencil.load(imageNodes, 'group2')\n  }\n  return  {stencil,ports,initStencil,initPorts,loadStencil}\n}\nconst configVisible = ref(false)\nconst graphCon = ref()\n// 右侧配置面板\nconst useConfigPanel = ()=> {\n  // 收缩配置面板\n  const handleCloseConfig = () =>{\n    configVisible.value = false\n    // graphCon.value.style.width = 'calc(100% - 250px)'\n  }\n  // 展开配置面板\n  const handleOpenConfig = ()=> {\n    configVisible.value = true\n    // graphCon.value.style.width = 'calc(100% - 600px - 250px)'\n  }\n  return {configVisible,graphCon,handleCloseConfig,handleOpenConfig}\n}\n// 当前版本id\nlet currentVersionId = ref(1)\n// 画布节点相关接口\nconst useNodeEffect = ()=>{\n  const isDisabled = ref(false)\n  let processNode = ref([])\n  let processLink = ref([])\n  let data = {nodes:[],edges:[]}\n  // 调后端创建节点接口\n  const createNodeApi = async(node)=>{\n    const pos = node.position()\n    const name = node.shape===\"custom-text\"?node.attrs.label?.text:node.attrs.text?.text\n    let req = {\n      \"processNode\": {\n        \"versionId\": currentVersionId.value,\n        \"processInstanceId\": Number(processInstanceId.value),\n        \"uuid\": node.id,\n        \"name\": name,\n        \"type\": node.shape,\n        \"ports\": JSON.stringify(node.getPorts()),\n        \"position\": pos.x+\",\"+pos.y,\n        \"size\": node.size().width+\",\"+node.size().height,\n        \"createdBy\": author.value,\n        \"updatedBy\": author.value,\n      },\n      \"processInstanceParameter\": [\n        {\n          \"versionId\": currentVersionId.value,\n          \"parameterType\": \"样式信息\",\n          \"parameterName\": \"style\",\n          \"parameterValue\": \"{\" +\n              \"\\\"label\\\": \\\"\"+name+\"\\\", \" +\n              \"\\\"fontSize\\\": \\\"\"+node.attrs.text?.fontSize+\"\\\", \" +\n              \"\\\"textFill\\\": \\\"\"+node.attrs.text?.fill+\"\\\", \" +\n              \"\\\"bodyFill\\\": \\\"\"+node.attrs.body?.fill+\"\\\"}\",\n          \"createdBy\": author.value,\n          \"updatedBy\": author.value,\n        },\n        {\n          \"versionId\": currentVersionId.value,\n          \"parameterType\": \"参数信息\",\n          \"parameterName\": \"params\",\n          \"parameterValue\": null,\n          \"createdBy\": author.value,\n          \"updatedBy\": author.value,\n        }\n      ]\n    }\n    await createNode(req).then(res=>{\n      if(res.code === 0){\n        message.success(\"[\"+req.processNode.name+\"]节点创建成功;\"+\"id:\"+node.id)\n      } else {\n        message.error(\"[\"+req.processNode.name+\"]节点创建失败：\"+res.message)\n        graph.removeNode(node)\n      }\n    })\n  }\n  // 调后端删除节点接口\n  const deleteNodeApi = async(node)=>{\n    let req = {\n      versionId: Number(currentVersionId.value),\n      processInstanceId: Number(processInstanceId.value),\n      uuid: node.id,\n      updatedBy: author.value\n    }\n    await deleteNode(req).then(res=>{\n      if (res.code === 0){\n        message.success(\"节点删除成功;\"+\"id:\"+node.id)\n        graph.removeNode(node)\n        useConfigPanel().handleCloseConfig()\n      } else {\n        message.error(\"节点删除失败:\"+res.message)\n      }\n    })\n  }\n  // 调后端接口更新node位置\n  const updateXY = async(node,x,y)=>{\n    let req = {\n      versionId: Number(currentVersionId.value),\n      processInstanceId: Number(processInstanceId.value),\n      uuid: node.id,\n      updatedBy: author.value,\n      position: x+\",\"+y\n    }\n    await updateNodeCoordinate(req).then(res=>{\n      if(res.code === 0){\n        console.log(\"节点位置更新成功;\"+\"id:\"+node.id)\n      } else {\n        message.error(\"节点位置更新失败：\"+res.message)\n      }\n    })\n  }\n  // 调后端接口更新node的大小\n  const updateSize = async(node,width,height)=>{\n    let req = {\n      versionId: Number(currentVersionId.value),\n      processInstanceId: Number(processInstanceId.value),\n      uuid: node.id,\n      updatedBy: author.value,\n      size: width+\",\"+height\n    }\n    await updateNodeSize(req).then(res=>{\n      if(res.code === 0){\n        console.log(\"节点大小更新成功;\"+\"id:\"+node.id)\n      } else {\n        message.error(\"节点大小更新失败:\"+res.message)\n      }\n    })\n  }\n  // 调后端创建连线接口\n  const createLinkApi = async(edge)=>{\n    let req = {\n      \"sourceNodeId\": edge.getSourceCellId(),\n      \"targetNodeId\": null,\n      \"processLink\": {\n        \"versionId\": currentVersionId.value,\n        \"targetPortId\": edge.getTargetPortId(),\n        \"sourcePortId\": edge.getSourcePortId(),\n        \"processInstanceId\": Number(processInstanceId.value),\n        \"uuid\": edge.id,\n        \"lineCondition\": null,\n        \"createdBy\": author.value,\n        \"updatedBy\": author.value,\n      },\n      \"processInstanceParameter\": [\n        {\n          \"versionId\": currentVersionId.value,\n          \"parameterType\": \"样式信息\",\n          \"parameterName\": \"style\",\n          \"parameterValue\": \"{\" +\n              \"\\\"line\\\": \\\"\\\", \" +\n              \"\\\"arrow\\\": \\\"1\\\", \" +\n              \"\\\"color\\\": \\\"\"+edge?.attrs?.line?.stroke+\"\\\", \" +\n              \"\\\"text\\\": \\\"\\\"\" +\n              \"}\",\n          \"createdBy\": author.value,\n          \"updatedBy\": author.value\n        },\n        {\n          \"versionId\": currentVersionId.value,\n          \"parameterType\": \"参数信息\",\n          \"parameterName\": \"params\",\n          \"parameterValue\": \"{}\",\n          \"createdBy\": author.value,\n          \"updatedBy\": author.value\n        }\n      ]\n    }\n    await createLink(req).then(res=>{\n      if(res.code === 0){\n        console.log(\"连线创建成功;id:\"+edge.id)\n        // node.id = res.data.id\n      } else {\n        message.error(\"连线创建失败:\"+res.message)\n        graph.removeEdge(edge)\n      }\n    })\n  }\n  // 调后端更新连线目标\n  const updateTargetApi = async(obj)=>{\n    let req = {\n      \"targetNodeId\": obj.targetNodeId,\n      \"processLink\": {\n        \"versionId\": currentVersionId.value,\n        \"processInstanceId\": Number(processInstanceId.value),\n        \"targetPortId\": obj.targetPortId,\n        \"sourcePortId\": obj.sourcePortId,\n        \"uuid\": obj.id,\n        \"updatedBy\": author.value,\n      }\n    }\n    await updateLinkTarget(req).then(res=>{\n      if(res.code === 0){\n        console.log(\"连线目标更新成功;id:\"+obj.id)\n      } else {\n        message.error(\"连线目标更新失败;id:\"+res.message)\n        graph.removeEdge(obj)\n      }\n    })\n  }\n  // 调后端删除连线接口\n  const deleteLinkApi = async(edge)=>{\n    let req = {\n      versionId: Number(currentVersionId.value),\n      processInstanceId: Number(processInstanceId.value),\n      uuid: edge.id,\n      updatedBy: author.value\n    }\n    await deleteLink(req).then(res=>{\n      if(res.code === 0){\n        message.success(\"连线删除成功;\"+\"id:\"+edge.id)\n        graph.removeEdge(edge)\n        useConfigPanel().handleCloseConfig()\n      } else {\n        message.error(\"连线删除失败:\"+res.message)\n      }\n    })\n  }\n  // 调后端查询画布接口\n  const detailNodeLink = async(graph,versionId)=>{\n    let currentVersionStatus = 0\n    await detailInstance(versionId,Number(processInstanceId.value)).then(res=>{\n      if(res.code === 0){\n        data = {nodes:[],edges:[]} // 画布数据\n        processNode.value = res.data.processNodeResponse\n        processLink.value = res.data.processLinkResponse\n        currentVersionId.value = versionId==0?res.data.versionId:versionId // 0表示首次加载\n        // 组装node节点\n        processNode.value.forEach(curNode => {\n          let x = Number(curNode.processNode.position.split(\",\")[0])\n          let y = Number(curNode.processNode.position.split(\",\")[1])\n          let w = Number(curNode.processNode.size.split(\",\")[0])\n          let h = Number(curNode.processNode.size.split(\",\")[1])\n          let parameterValue = curNode?.processInstanceParameters?.find(item=>item.parameterName === \"style\")?.parameterValue\n          let strokeColor = parameterValue?JSON.parse(parameterValue).strokeColor:'#fe6a00'\n          switch (curNode.processNode.type){\n            case 'start':\n            case 'end':\n              data.nodes.push({\n                id: curNode.processNode.uuid, // String，可选，节点的唯一标识\n                x: x,       // Number，必选，节点位置的 x 值\n                y: y,       // Number，必选，节点位置的 y 值\n                width: w,  // Number，必选，节点大小的 width 值\n                height: h, // Number，必选，节点大小的 height 值\n                label: curNode.processNode.name , // String，节点标签\n                shape: 'custom-rect',\n                attrs: {\n                  body: {\n                    rx: 18,\n                    ry: 26\n                  }\n                },\n                ports: {\n                  groups: {\n                    top: {\n                      position: 'top',\n                      attrs: {\n                        circle: {\n                          r: 4,\n                          magnet: true,\n                          stroke: '#fe6a00',\n                          strokeWidth: 1,\n                          fill: '#fff',\n                          style: {\n                            visibility: 'hidden'\n                          }\n                        }\n                      }\n                    },\n                    right: {\n                      position: 'right',\n                      attrs: {\n                        circle: {\n                          r: 4,\n                          magnet: true,\n                          stroke: '#fe6a00',\n                          strokeWidth: 1,\n                          fill: '#fff',\n                          style: {\n                            visibility: 'hidden'\n                          }\n                        }\n                      }\n                    },\n                    bottom: {\n                      position: 'bottom',\n                      attrs: {\n                        circle: {\n                          r: 4,\n                          magnet: true,\n                          stroke: '#fe6a00',\n                          strokeWidth: 1,\n                          fill: '#fff',\n                          style: {\n                            visibility: 'hidden'\n                          }\n                        }\n                      }\n                    },\n                    left: {\n                      position: 'left',\n                      attrs: {\n                        circle: {\n                          r: 4,\n                          magnet: true,\n                          stroke: '#fe6a00',\n                          strokeWidth: 1,\n                          fill: '#fff',\n                          style: {\n                            visibility: 'hidden'\n                          }\n                        }\n                      }\n                    }\n                  },\n                  items: JSON.parse(curNode.processNode.ports)\n                }\n              })\n              break;\n            case 'tool':\n            case 'extract':\n            case 'auto':\n            case 'flow':\n              if (curNode.processInstanceParameters.length) {\n                curNode.processInstanceParameters.forEach(ps=>{\n                  if (ps.parameterName ==='style'){\n                    let style = JSON.parse(ps.parameterValue)\n                    data.nodes.push({\n                      id: curNode.processNode.uuid, // String，可选，节点的唯一标识\n                      x: x,       // Number，必选，节点位置的 x 值\n                      y: y,       // Number，必选，节点位置的 y 值\n                      width: w,  // Number，必选，节点大小的 width 值\n                      height: h, // Number，必选，节点大小的 height 值\n                      label: curNode.processNode.name , // String，节点标签\n                      shape: 'custom-rect',\n                      attrs: {\n                        body: {\n                          rx: 6,\n                          ry: 6,\n                          fill: style.bodyFill,\n                          stroke: strokeColor\n                        },\n                        text: {\n                          text: style.label,\n                          fontSize: style.fontSize,\n                          fill: style.textFill\n                        }\n                      },\n                      ports: {\n                        groups: {\n                          top: {\n                            position: 'top',\n                            attrs: {\n                              circle: {\n                                r: 4,\n                                magnet: true,\n                                stroke: '#fe6a00',\n                                strokeWidth: 1,\n                                fill: '#fff',\n                                style: {\n                                  visibility: 'hidden'\n                                }\n                              }\n                            }\n                          },\n                          right: {\n                            position: 'right',\n                            attrs: {\n                              circle: {\n                                r: 4,\n                                magnet: true,\n                                stroke: '#fe6a00',\n                                strokeWidth: 1,\n                                fill: '#fff',\n                                style: {\n                                  visibility: 'hidden'\n                                }\n                              }\n                            }\n                          },\n                          bottom: {\n                            position: 'bottom',\n                            attrs: {\n                              circle: {\n                                r: 4,\n                                magnet: true,\n                                stroke: '#fe6a00',\n                                strokeWidth: 1,\n                                fill: '#fff',\n                                style: {\n                                  visibility: 'hidden'\n                                }\n                              }\n                            }\n                          },\n                          left: {\n                            position: 'left',\n                            attrs: {\n                              circle: {\n                                r: 4,\n                                magnet: true,\n                                stroke: '#fe6a00',\n                                strokeWidth: 1,\n                                fill: '#fff',\n                                style: {\n                                  visibility: 'hidden'\n                                }\n                              }\n                            }\n                          }\n                        },\n                        items: JSON.parse(curNode.processNode.ports)\n                      }// String，节点标签\n                    })\n                  }\n                })\n              }\n              else {\n                data.nodes.push({\n                  id: curNode.processNode.uuid, // String，可选，节点的唯一标识\n                  x: x,       // Number，必选，节点位置的 x 值\n                  y: y,       // Number，必选，节点位置的 y 值\n                  width: w,  // Number，必选，节点大小的 width 值\n                  height: h, // Number，必选，节点大小的 height 值\n                  label: curNode.processNode.name , // String，节点标签\n                  shape: 'custom-rect',\n                  attrs: {\n                    body: {\n                      rx: 6,\n                      ry: 6,\n                      stroke: strokeColor\n                    }\n                  },\n                  ports: {\n                    groups: {\n                      top: {\n                        position: 'top',\n                        attrs: {\n                          circle: {\n                            r: 4,\n                            magnet: true,\n                            stroke: '#fe6a00',\n                            strokeWidth: 1,\n                            fill: '#fff',\n                            style: {\n                              visibility: 'hidden'\n                            }\n                          }\n                        }\n                      },\n                      right: {\n                        position: 'right',\n                        attrs: {\n                          circle: {\n                            r: 4,\n                            magnet: true,\n                            stroke: '#fe6a00',\n                            strokeWidth: 1,\n                            fill: '#fff',\n                            style: {\n                              visibility: 'hidden'\n                            }\n                          }\n                        }\n                      },\n                      bottom: {\n                        position: 'bottom',\n                        attrs: {\n                          circle: {\n                            r: 4,\n                            magnet: true,\n                            stroke: '#fe6a00',\n                            strokeWidth: 1,\n                            fill: '#fff',\n                            style: {\n                              visibility: 'hidden'\n                            }\n                          }\n                        }\n                      },\n                      left: {\n                        position: 'left',\n                        attrs: {\n                          circle: {\n                            r: 4,\n                            magnet: true,\n                            stroke: '#fe6a00',\n                            strokeWidth: 1,\n                            fill: '#fff',\n                            style: {\n                              visibility: 'hidden'\n                            }\n                          }\n                        }\n                      }\n                    },\n                    items: JSON.parse(curNode.processNode.ports)\n                  }// String，节点标签\n                })\n              }\n              break;\n            case 'database':\n              if (curNode.processInstanceParameters.length) {\n                curNode.processInstanceParameters.forEach(ps=>{\n                  if (ps.parameterName ==='style'){\n                    let style = JSON.parse(ps.parameterValue)\n                    data.nodes.push({\n                      id: curNode.processNode.uuid, // String，可选，节点的唯一标识\n                      x: x,       // Number，必选，节点位置的 x 值\n                      y: y,       // Number，必选，节点位置的 y 值\n                      width: w,  // Number，必选，节点大小的 width 值\n                      height: h, // Number，必选，节点大小的 height 值\n                      label: curNode.processNode.name , // String，节点标签\n                      shape: 'custom-cylinder',\n                      attrs: {\n                        body: {\n                          fill: style.bodyFill,\n                          stroke: strokeColor\n                        },\n                        text: {\n                          text: style.label,\n                          fontSize: style.fontSize,\n                          fill: style.textFill\n                        }\n                      },\n                      ports: {\n                        groups: {\n                          top: {\n                            position: 'top',\n                            attrs: {\n                              circle: {\n                                r: 4,\n                                magnet: true,\n                                stroke: '#fe6a00',\n                                strokeWidth: 1,\n                                fill: '#fff',\n                                style: {\n                                  visibility: 'hidden'\n                                }\n                              }\n                            }\n                          },\n                          right: {\n                            position: 'right',\n                            attrs: {\n                              circle: {\n                                r: 4,\n                                magnet: true,\n                                stroke: '#fe6a00',\n                                strokeWidth: 1,\n                                fill: '#fff',\n                                style: {\n                                  visibility: 'hidden'\n                                }\n                              }\n                            }\n                          },\n                          bottom: {\n                            position: 'bottom',\n                            attrs: {\n                              circle: {\n                                r: 4,\n                                magnet: true,\n                                stroke: '#fe6a00',\n                                strokeWidth: 1,\n                                fill: '#fff',\n                                style: {\n                                  visibility: 'hidden'\n                                }\n                              }\n                            }\n                          },\n                          left: {\n                            position: 'left',\n                            attrs: {\n                              circle: {\n                                r: 4,\n                                magnet: true,\n                                stroke: '#fe6a00',\n                                strokeWidth: 1,\n                                fill: '#fff',\n                                style: {\n                                  visibility: 'hidden'\n                                }\n                              }\n                            }\n                          }\n                        },\n                        items: JSON.parse(curNode.processNode.ports)\n                      }// String，节点标签\n                    })\n                  }\n                })\n              }\n              else {\n                data.nodes.push({\n                  id: curNode.processNode.uuid, // String，可选，节点的唯一标识\n                  x: x,       // Number，必选，节点位置的 x 值\n                  y: y,       // Number，必选，节点位置的 y 值\n                  width: w,  // Number，必选，节点大小的 width 值\n                  height: h, // Number，必选，节点大小的 height 值\n                  label: curNode.processNode.name , // String，节点标签\n                  shape: 'custom-cylinder',\n                  ports: {\n                    groups: {\n                      top: {\n                        position: 'top',\n                        attrs: {\n                          circle: {\n                            r: 4,\n                            magnet: true,\n                            stroke: '#fe6a00',\n                            strokeWidth: 1,\n                            fill: '#fff',\n                            style: {\n                              visibility: 'hidden'\n                            }\n                          }\n                        }\n                      },\n                      right: {\n                        position: 'right',\n                        attrs: {\n                          circle: {\n                            r: 4,\n                            magnet: true,\n                            stroke: '#fe6a00',\n                            strokeWidth: 1,\n                            fill: '#fff',\n                            style: {\n                              visibility: 'hidden'\n                            }\n                          }\n                        }\n                      },\n                      bottom: {\n                        position: 'bottom',\n                        attrs: {\n                          circle: {\n                            r: 4,\n                            magnet: true,\n                            stroke: '#fe6a00',\n                            strokeWidth: 1,\n                            fill: '#fff',\n                            style: {\n                              visibility: 'hidden'\n                            }\n                          }\n                        }\n                      },\n                      left: {\n                        position: 'left',\n                        attrs: {\n                          circle: {\n                            r: 4,\n                            magnet: true,\n                            stroke: '#fe6a00',\n                            strokeWidth: 1,\n                            fill: '#fff',\n                            style: {\n                              visibility: 'hidden'\n                            }\n                          }\n                        }\n                      }\n                    },\n                    items: JSON.parse(curNode.processNode.ports)\n                  }// String，节点标签\n                })\n              }\n              break;\n            case 'condition':\n              if (curNode.processInstanceParameters.length) {\n                curNode.processInstanceParameters.forEach(ps=>{\n                  if (ps.parameterName ==='style'){\n                    let style = JSON.parse(ps.parameterValue)\n                    data.nodes.push({\n                      id: curNode.processNode.uuid, // String，可选，节点的唯一标识\n                      x: x,       // Number，必选，节点位置的 x 值\n                      y: y,       // Number，必选，节点位置的 y 值\n                      width: w,  // Number，必选，节点大小的 width 值\n                      height: h, // Number，必选，节点大小的 height 值\n                      label: curNode.processNode.name , // String，节点标签\n                      shape: 'custom-polygon',\n                      attrs: {\n                        body: {\n                          refPoints: '0,10 10,0 20,10 10,20',\n                          fill: style.bodyFill\n                        },\n                        text: {\n                          text: style.label,\n                          fontSize: style.fontSize,\n                          fill: style.textFill\n                        }\n                      },\n                      ports: {\n                        groups: {\n                          top: {\n                            position: 'top',\n                            attrs: {\n                              circle: {\n                                r: 4,\n                                magnet: true,\n                                stroke: '#fe6a00',\n                                strokeWidth: 1,\n                                fill: '#fff',\n                                style: {\n                                  visibility: 'hidden'\n                                }\n                              }\n                            }\n                          },\n                          right: {\n                            position: 'right',\n                            attrs: {\n                              circle: {\n                                r: 4,\n                                magnet: true,\n                                stroke: '#fe6a00',\n                                strokeWidth: 1,\n                                fill: '#fff',\n                                style: {\n                                  visibility: 'hidden'\n                                }\n                              }\n                            }\n                          },\n                          bottom: {\n                            position: 'bottom',\n                            attrs: {\n                              circle: {\n                                r: 4,\n                                magnet: true,\n                                stroke: '#fe6a00',\n                                strokeWidth: 1,\n                                fill: '#fff',\n                                style: {\n                                  visibility: 'hidden'\n                                }\n                              }\n                            }\n                          },\n                          left: {\n                            position: 'left',\n                            attrs: {\n                              circle: {\n                                r: 4,\n                                magnet: true,\n                                stroke: '#fe6a00',\n                                strokeWidth: 1,\n                                fill: '#fff',\n                                style: {\n                                  visibility: 'hidden'\n                                }\n                              }\n                            }\n                          }\n                        },\n                        items: JSON.parse(curNode.processNode.ports)\n                      }// String，节点标签\n                    })\n                  }\n                })\n              }\n              else {\n                data.nodes.push({\n                  id: curNode.processNode.uuid, // String，可选，节点的唯一标识\n                  x: x,       // Number，必选，节点位置的 x 值\n                  y: y,       // Number，必选，节点位置的 y 值\n                  width: w,  // Number，必选，节点大小的 width 值\n                  height: h, // Number，必选，节点大小的 height 值\n                  label: curNode.processNode.name , // String，节点标签\n                  shape: 'custom-polygon',\n                  attrs: {\n                    body: {\n                      refPoints: '0,10 10,0 20,10 10,20'\n                    }\n                  },\n                  ports: {\n                    groups: {\n                      top: {\n                        position: 'top',\n                        attrs: {\n                          circle: {\n                            r: 4,\n                            magnet: true,\n                            stroke: '#fe6a00',\n                            strokeWidth: 1,\n                            fill: '#fff',\n                            style: {\n                              visibility: 'hidden'\n                            }\n                          }\n                        }\n                      },\n                      right: {\n                        position: 'right',\n                        attrs: {\n                          circle: {\n                            r: 4,\n                            magnet: true,\n                            stroke: '#fe6a00',\n                            strokeWidth: 1,\n                            fill: '#fff',\n                            style: {\n                              visibility: 'hidden'\n                            }\n                          }\n                        }\n                      },\n                      bottom: {\n                        position: 'bottom',\n                        attrs: {\n                          circle: {\n                            r: 4,\n                            magnet: true,\n                            stroke: '#fe6a00',\n                            strokeWidth: 1,\n                            fill: '#fff',\n                            style: {\n                              visibility: 'hidden'\n                            }\n                          }\n                        }\n                      },\n                      left: {\n                        position: 'left',\n                        attrs: {\n                          circle: {\n                            r: 4,\n                            magnet: true,\n                            stroke: '#fe6a00',\n                            strokeWidth: 1,\n                            fill: '#fff',\n                            style: {\n                              visibility: 'hidden'\n                            }\n                          }\n                        }\n                      }\n                    },\n                    items: JSON.parse(curNode.processNode.ports)\n                  }// String，节点标签\n                })\n              }\n              break;\n          }\n        })\n        // 组装连线节点\n        processLink.value.forEach(curLink=>{\n          if (curLink.processInstanceParameters.length){\n            curLink.processInstanceParameters.forEach(ps=>{\n              if (ps.parameterName ==='style'){\n                let style = JSON.parse(ps.parameterValue)\n                data.edges.push({\n                  source: { cell: curLink.sourceUuid, port: curLink.processLink.sourcePortId },\n                  target: { cell: curLink.targetUuid, port: curLink.processLink.targetPortId },\n                  id: curLink.processLink.uuid,\n                  label: curLink.processLink.lineCondition,\n                  attrs: {\n                    text: {\n                      text: style.text\n                    },\n                    line: {\n                      stroke: style.color\n                    }\n                  }\n                })\n              }\n            })\n          }\n        })\n        currentVersionStatus = res.data?.processInstanceVersions.filter(item=>item.id === currentVersionId.value)[0].status\n        console.log(\"画布加载成功\")\n        graph.fromJSON(data)\n      } else {\n        message.error(\"画布加载失败；失败原因：\"+res.message)\n      }\n      if (currentVersionStatus === 1 || currentVersionStatus=== 2){\n        message.warning(\"当前版本已经发布/下线，不能进行修改\")\n        isDisabled.value = true\n      } else {\n        isDisabled.value = false\n      }\n    })\n  }\n  return {createNodeApi,deleteNodeApi,createLinkApi,deleteLinkApi,detailNodeLink,updateXY,updateSize,updateTargetApi,isDisabled}\n}\n\nexport default {\n  name: \"FlowDetail\",\n  components: {GraphConfigContainer,NodeConfigContainer,EdgeConfigContainer},\n  setup() {\n    const router = useRouter()\n    const store = useStore()\n    processInstanceId.value = router.currentRoute.value.params.processInstanceId\n    author.value = store.state.user.account\n    const {initGraph,graphOnEvent,graphBindKey} = useGraphEffect()\n    const {stencil,ports,initStencil,initPorts,loadStencil} = useStencilEffect()\n    const {configVisible,graphCon,handleCloseConfig,handleOpenConfig} = useConfigPanel()\n    const {createNodeApi,deleteNodeApi,createLinkApi,deleteLinkApi,detailNodeLink,isDisabled} = useNodeEffect()\n    const graphConfig = ref()\n    configVisible.value = false\n    onMounted(()=>{\n      // 初始化画布\n      initGraph()\n      // 绑定画布快捷键\n      graphBindKey()\n      // 画布绑定监听事件\n      graphOnEvent()\n      // 初始化流程控件面板\n      initStencil()\n      // 初始化连接桩\n      initPorts()\n      // 渲染所有左侧控件图形\n      loadStencil()\n      graphConfig.value = graph\n      // 调后端接口获取渲染数据\n      detailNodeLink(graph,0)\n    })\n    const footerContent = (\n      <div style=\"display: flex; justify-content: flex-end; margin-right: 90px;\">\n        <a-button onClick={handleCloseConfig}>取消</a-button>\n      </div>\n    )\n    // 更新画布的版本号以及版本对应的数据\n    const handleUpdateVersion = (record) =>{\n      console.log(\"更新版本号\"+record.id)\n      currentVersionId.value = record.id\n      detailNodeLink(graph,currentVersionId.value)\n      // if (record.status ==1 || record.status ==2){\n      //   message.warning(\"当前版本已经发布/下线，不能进行修改\")\n      //   isDisabled.value = true\n      // } else {\n      //   isDisabled.value = false\n      // }\n    }\n    return {\n      graph,initGraph,graphOnEvent,graphBindKey,\n      stencil,initStencil,\n      ports,initPorts,loadStencil,\n      curNode,curEdge,isNode,\n      graphCon,configVisible,handleCloseConfig,handleOpenConfig,\n      graphConfig,\n      createNodeApi,deleteNodeApi,createLinkApi,deleteLinkApi,detailNodeLink,\n      footerContent,\n      currentVersionId,\n      processInstanceId,\n      handleUpdateVersion,\n      isDisabled\n    }\n  }\n}\n</script>\n\n<style scoped>\n/*.shade {*/\n/*  position: fixed;*/\n/*  top: 0;*/\n/*  left: 0;*/\n/*  z-index: 1;*/\n/*  width: 100%;*/\n/*  height: 100%;*/\n/*  background-color: rgba(0, 0, 0, 0.5);*/\n/*}*/\n.flow-div {\n  position: fixed;\n  overflow: auto;\n  top: 64px;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background-color: #fff;\n  border: 0;\n  border-radius: 0px;\n  padding:0;\n  margin:0;\n  height: auto;\n}\n#container {\n  display: flex;\n  border: 1px solid #dfe3e8;\n  height: 100%;\n  width: 100%;\n}\n#stencil {\n  width: 250px;\n  height: 100%;\n  position: relative;\n  border-right: 1px solid #dfe3e8;\n}\n#graph-container {\n  /*width: calc(100% - 500px);*/\n  width: 100%;\n  height: 100%;\n  /*background-color: #fffbe6*/\n}\n#config-container {\n  z-index: 2;\n  position: relative;\n  width: 600px;\n  height: 100%;\n  border-left: 1px solid #dfe3e8;\n}\n.collpase-icon {\n  position: absolute;\n  top: 30px;\n  left: -8px;\n  color: #ff7c34;\n  background-color: #fff;\n  cursor: pointer;\n  font-size: 22px;\n}\n.open-icon{\n  position: relative;\n  top: 30px;\n  right: 8px;\n  color: #ff7c34;\n  background-color: #fff;\n  cursor: pointer;\n  font-size: 22px;\n}\n.drawer-iconfont{\n  position: absolute;\n  top: 100px;\n  left: 100px;\n}\n.color-container {\n  width: 24px;\n  height: 24px;\n  padding: 4px;\n  border: 1px solid #dfe3e8;\n  border-radius: 2px;\n}\n.edit-color {\n  cursor: pointer;\n  height: 100%;\n}\n/deep/ .x6-widget-stencil  {\n  background-color: #fff;\n}\n/deep/ .x6-widget-stencil-title {\n  background-color: rgba(0,0,0,.03)\n}\n/deep/ .x6-widget-stencil-group-title {\n  background-color: rgba(0,0,0,.03)\n}\n.x6-widget-transform {\n  margin: -1px 0 0 -1px;\n  padding: 0px;\n  border: 1px solid #239edd;\n}\n.x6-widget-transform > div {\n  border: 1px solid #239edd;\n}\n.x6-widget-transform > div:hover {\n  background-color: #3dafe4;\n}\n.x6-widget-transform-active-handle {\n  background-color: #3dafe4;\n}\n.x6-widget-transform-resize {\n  border-radius: 0;\n}\n.x6-widget-selection-inner {\n  border: 1px solid #239edd;\n}\n.x6-widget-selection-box {\n  opacity: 0;\n}\n.disabled-item {\n  pointer-events: none;\n  opacity: 0.6;\n}\n</style>\n"]}]}