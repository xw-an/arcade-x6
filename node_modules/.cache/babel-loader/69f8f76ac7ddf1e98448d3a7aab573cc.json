{"remainingRequest":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/param/ExtractParamConfig.vue?vue&type=template&id=03887075","dependencies":[{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/param/ExtractParamConfig.vue","mtime":1688896323629},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js","mtime":1689430342224},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1689430343293},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js","mtime":1689430342169},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/babel.config.js","mtime":1667046646049},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js","mtime":1689430342224},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1689430343293},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js","mtime":1689430342169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSB9IGZyb20gInZ1ZSI7CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgY29uc3QgX2NvbXBvbmVudF9hX2NvbCA9IF9yZXNvbHZlQ29tcG9uZW50KCJhLWNvbCIpOwogIGNvbnN0IF9jb21wb25lbnRfTWludXNDaXJjbGVPdXRsaW5lZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJNaW51c0NpcmNsZU91dGxpbmVkIik7CiAgY29uc3QgX2NvbXBvbmVudF9hX3JvdyA9IF9yZXNvbHZlQ29tcG9uZW50KCJhLXJvdyIpOwogIGNvbnN0IF9jb21wb25lbnRfYV9zZWxlY3QgPSBfcmVzb2x2ZUNvbXBvbmVudCgiYS1zZWxlY3QiKTsKICBjb25zdCBfY29tcG9uZW50X2FfZm9ybV9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoImEtZm9ybS1pdGVtIik7CiAgY29uc3QgX2NvbXBvbmVudF9hX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImEtaW5wdXQiKTsKICBjb25zdCBfY29tcG9uZW50X2FfY2FyZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJhLWNhcmQiKTsKICBjb25zdCBfY29tcG9uZW50X2FfZm9ybSA9IF9yZXNvbHZlQ29tcG9uZW50KCJhLWZvcm0iKTsKICBjb25zdCBfY29tcG9uZW50X1BsdXNPdXRsaW5lZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJQbHVzT3V0bGluZWQiKTsKICBjb25zdCBfY29tcG9uZW50X2FfYnV0dG9uID0gX3Jlc29sdmVDb21wb25lbnQoImEtYnV0dG9uIik7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2Zvcm0sIHsKICAgIHJlZjogImZvcm1SdWxlIiwKICAgIG1vZGVsOiAkc2V0dXAuZm9ybUV4dHJhY3RQYXJhbSwKICAgICJsYWJlbC1jb2wiOiB7CiAgICAgIHNwYW46IDQKICAgIH0sCiAgICAid3JhcHBlci1jb2wiOiB7CiAgICAgIHNwYW46IDE5LAogICAgICBvZmZzZXQ6IDEKICAgIH0sCiAgICBzdHlsZTogewogICAgICAib3ZlcmZsb3ciOiAiYXV0byIKICAgIH0KICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuZm9ybUV4dHJhY3RQYXJhbS5leHRyYWN0TGlzdCwgKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2FfY2FyZCwgewogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAibWFyZ2luLWxlZnQiOiAiMTBweCIsCiAgICAgICAgICAibWFyZ2luLXJpZ2h0IjogIjEwcHgiLAogICAgICAgICAgIm1hcmdpbi10b3AiOiAiMTVweCIKICAgICAgICB9LAogICAgICAgIGtleTogaW5kZXgKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX3JvdywgewogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgIndpZHRoIjogIjEwMCUiCiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2FfY29sLCB7CiAgICAgICAgICAgIHNwYW46IDIzCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV9jb2wsIHsKICAgICAgICAgICAgc3BhbjogMSwKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAidGV4dC1hbGlnbiI6ICJyaWdodCIsCiAgICAgICAgICAgICAgIm1hcmdpbi1ib3R0b20iOiAiMTBweCIKICAgICAgICAgICAgfQogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfTWludXNDaXJjbGVPdXRsaW5lZCwgewogICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAiY29sb3IiOiAiIzE4OTBmZiIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9uQ2xpY2s6ICRldmVudCA9PiAkc2V0dXAucmVtb3ZlQ29uZGl0aW9uKGl0ZW0pCiAgICAgICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsib25DbGljayJdKV0pLAogICAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICAgIH0sIDEwMjQgLyogRFlOQU1JQ19TTE9UUyAqLyldKSwKCiAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICB9LCAxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi8pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2Zvcm1faXRlbSwgewogICAgICAgICAgbGFiZWw6ICLljp/lj5jph48iLAogICAgICAgICAgbmFtZTogWydleHRyYWN0TGlzdCcsIGluZGV4LCAnb2xkVmFyaWFibGVOYW1lJ10sCiAgICAgICAgICBydWxlczogewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ+WOn+WPmOmHj+W/hemAiScKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV9zZWxlY3QsIHsKICAgICAgICAgICAgdmFsdWU6IGl0ZW0ub2xkVmFyaWFibGVOYW1lLAogICAgICAgICAgICAib25VcGRhdGU6dmFsdWUiOiAkZXZlbnQgPT4gaXRlbS5vbGRWYXJpYWJsZU5hbWUgPSAkZXZlbnQsCiAgICAgICAgICAgIG9wdGlvbnM6ICRzZXR1cC52YXJpYWJsZU9wdGlvbnMKICAgICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsidmFsdWUiLCAib25VcGRhdGU6dmFsdWUiLCAib3B0aW9ucyJdKV0pLAogICAgICAgICAgXzogMiAvKiBEWU5BTUlDICovCiAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgWyJuYW1lIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2Zvcm1faXRlbSwgewogICAgICAgICAgbGFiZWw6ICJqc29u6KGo6L6+5byPIiwKICAgICAgICAgIG5hbWU6IFsnZXh0cmFjdExpc3QnLCBpbmRleCwgJ2V4cHJlc3Npb24nXSwKICAgICAgICAgIHJ1bGVzOiB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAn6KGo6L6+5byP5b+F5aGrJwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2lucHV0LCB7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmV4cHJlc3Npb24sCiAgICAgICAgICAgICJvblVwZGF0ZTp2YWx1ZSI6ICRldmVudCA9PiBpdGVtLmV4cHJlc3Npb24gPSAkZXZlbnQsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiSnNvblBhdGjooajovr7lvI8iCiAgICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbInZhbHVlIiwgIm9uVXBkYXRlOnZhbHVlIl0pXSksCiAgICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbIm5hbWUiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2FfZm9ybV9pdGVtLCB7CiAgICAgICAgICBsYWJlbDogIuaWsOWPmOmHj+WQjSIsCiAgICAgICAgICBuYW1lOiBbJ2V4dHJhY3RMaXN0JywgaW5kZXgsICduZXdWYXJpYWJsZU5hbWUnXSwKICAgICAgICAgIHJ1bGVzOiB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAn5paw5Y+Y6YeP5ZCN5b+F5aGrJwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2lucHV0LCB7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLm5ld1ZhcmlhYmxlTmFtZSwKICAgICAgICAgICAgIm9uVXBkYXRlOnZhbHVlIjogJGV2ZW50ID0+IGl0ZW0ubmV3VmFyaWFibGVOYW1lID0gJGV2ZW50LAogICAgICAgICAgICBwbGFjZWhvbGRlcjogIuS/neWtmOe7k+aenOeahOWPmOmHj+WQjSIKICAgICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsidmFsdWUiLCAib25VcGRhdGU6dmFsdWUiXSldKSwKICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICAgIH0sIDEwMzIgLyogUFJPUFMsIERZTkFNSUNfU0xPVFMgKi8sIFsibmFtZSJdKV0pLAogICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICB9LCAxMDI0IC8qIERZTkFNSUNfU0xPVFMgKi8pOwogICAgfSksIDEyOCAvKiBLRVlFRF9GUkFHTUVOVCAqLykpXSksCgogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9LCA4IC8qIFBST1BTICovLCBbIm1vZGVsIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX3JvdywgewogICAgc3R5bGU6IHsKICAgICAgIndpZHRoIjogIjEwMCUiLAogICAgICAibWFyZ2luLXRvcCI6ICIxNXB4IgogICAgfQogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2J1dHRvbiwgewogICAgICB0eXBlOiAiZGFzaGVkIiwKICAgICAgYmxvY2s6ICIiLAogICAgICBzdHlsZTogewogICAgICAgICJjb2xvciI6ICIjZmY2YTAwIiwKICAgICAgICAibWFyZ2luLWxlZnQiOiAiMTBweCIsCiAgICAgICAgIm1hcmdpbi1yaWdodCI6ICIxMHB4IgogICAgICB9LAogICAgICBvbkNsaWNrOiAkc2V0dXAuYWRkQ29uZGl0aW9uCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9QbHVzT3V0bGluZWQpLCBfY3JlYXRlVGV4dFZOb2RlKCLmt7vliqDmnaHku7YiKV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSwgOCAvKiBQUk9QUyAqLywgWyJvbkNsaWNrIl0pXSksCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2J1dHRvbiwgewogICAgdHlwZTogInByaW1hcnkiLAogICAgc3R5bGU6IHsKICAgICAgImJvdHRvbSI6ICIxMHB4IiwKICAgICAgInJpZ2h0IjogIjI1cHgiLAogICAgICAicG9zaXRpb24iOiAiZml4ZWQiCiAgICB9LAogICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAkZXZlbnQgPT4gJHNldHVwLnNhdmVQYXJhbXMoJHByb3BzLm5vZGUpKQogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVGV4dFZOb2RlKCLkv53lrZgiKV0pLAogICAgXzogMSAvKiBTVEFCTEUgKi8KICB9KV0sIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLyk7Cn0="},{"version":3,"mappings":";;;;;;;;;;;;6DACEA,aAkBSC;IAlBDC,GAAG,EAAC,UAAU;IAAEC,KAAK,EAAEC,uBAAgB;IAAG,WAAS,EAAE;MAAAC;IAAA,CAAS;IAAG,aAAW,EAAE;MAAAA;MAAAC;IAAA,CAAoB;IAAEC,KAAsB,EAAtB;MAAA;IAAA;;sBACpC,MAAoD,oBAA1HC,oBAgBSC,6BAhBoFL,uBAAgB,CAACM,WAAW,GAA3CC,IAAI,EAACC,KAAK;2BAAxFC,aAgBSC;QAhBDP,KAA6D,EAA7D;UAAA;UAAA;UAAA;QAAA,CAA6D;QAAuDQ,GAAG,EAAEH;;0BAC/H,MAKQ,CALRZ,aAKQgB;UALDT,KAAoB,EAApB;YAAA;UAAA;QAAoB;4BACzB,MAA0B,CAA1BP,aAA0BiB;YAAlBZ,IAAI,EAAE;UAAE,IAChBL,aAEQiB;YAFAZ,IAAI,EAAE,CAAC;YAAEE,KAA6C,EAA7C;cAAA;cAAA;YAAA;;8BACf,MAA4E,CAA5EP,aAA4EkB;cAAvDX,KAAsB,EAAtB;gBAAA;cAAA,CAAsB;cAAEY,OAAK,YAAEf,sBAAe,CAACO,IAAI;;;;;;sCAG5EX,aAEcoB;UAFDC,KAAK,EAAC,KAAK;UAAEC,IAAI,kBAAiBV,KAAK;UAAsBW,KAAK,EAAE;YAAAC;YAAAC;UAAA;;4BAC/E,MAAqF,CAArFzB,aAAqF0B;YAAnEC,KAAK,EAAEhB,IAAI,CAACiB,eAAe;wCAApBjB,IAAI,CAACiB,eAAe;YAAGC,OAAO,EAAEzB;;;uDAE3DJ,aAEcoB;UAFDC,KAAK,EAAC,SAAS;UAAEC,IAAI,kBAAiBV,KAAK;UAAkBW,KAAK,EAAE;YAAAC;YAAAC;UAAA;;4BAC/E,MAA6E,CAA7EzB,aAA6E8B;YAA5DH,KAAK,EAAEhB,IAAI,CAACoB,UAAU;wCAAfpB,IAAI,CAACoB,UAAU;YAAEC,WAAW,EAAC;;;uDAEvDhC,aAEcoB;UAFDC,KAAK,EAAC,MAAM;UAAEC,IAAI,kBAAiBV,KAAK;UAAsBW,KAAK,EAAE;YAAAC;YAAAC;UAAA;;4BAChF,MAA+E,CAA/EzB,aAA+E8B;YAA9DH,KAAK,EAAEhB,IAAI,CAACsB,eAAe;wCAApBtB,IAAI,CAACsB,eAAe;YAAED,WAAW,EAAC;;;;;;;;;gCAIhEhC,aAEQgB;IAFDT,KAAqC,EAArC;MAAA;MAAA;IAAA;EAAqC;sBAC1C,MAA8I,CAA9IP,aAA8IkC;MAApIC,IAAI,EAAC,QAAQ;MAACC,KAAK,EAAL,EAAK;MAAC7B,KAA2D,EAA3D;QAAA;QAAA;QAAA;MAAA,CAA2D;MAAEY,OAAK,EAAEf;;wBAAc,MAAe,CAAfJ,aAAeqC,iDAAI;;;;MAErIrC,aAAgHkC;IAAtGC,IAAI,EAAC,SAAS;IAAC5B,KAA+C,EAA/C;MAAA;MAAA;MAAA;IAAA,CAA+C;IAAEY,OAAK,sCAAEf,iBAAU,CAACkC,WAAI;;sBAAG,MAAE,kBAAF,IAAE","names":["_createVNode","_component_a_form","ref","model","$setup","span","offset","style","_createElementBlock","_Fragment","extractList","item","index","_createBlock","_component_a_card","key","_component_a_row","_component_a_col","_component_MinusCircleOutlined","onClick","_component_a_form_item","label","name","rules","required","message","_component_a_select","value","oldVariableName","options","_component_a_input","expression","placeholder","newVariableName","_component_a_button","type","block","_component_PlusOutlined","$props"],"sourceRoot":"","sources":["/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/param/ExtractParamConfig.vue"],"sourcesContent":["<template>\n  <a-form ref=\"formRule\" :model=\"formExtractParam\" :label-col=\"{span: 4}\" :wrapper-col=\"{span: 19,offset: 1}\" style=\"overflow: auto\">\n    <a-card style=\"margin-left: 10px;margin-right: 10px;margin-top:15px;\" v-for=\"(item,index) in formExtractParam.extractList\" :key=\"index\">\n      <a-row style=\"width: 100%;\">\n        <a-col :span=\"23\"></a-col>\n        <a-col :span=\"1\" style=\"text-align: right;margin-bottom: 10px\">\n          <MinusCircleOutlined style=\"color: #1890ff\" @click=\"removeCondition(item)\"/>\n        </a-col>\n      </a-row>\n      <a-form-item label=\"原变量\" :name=\"['extractList',index,'oldVariableName']\" :rules=\"{required: true,message: '原变量必选'}\">\n        <a-select v-model:value=\"item.oldVariableName\" :options=\"variableOptions\"></a-select>\n      </a-form-item>\n      <a-form-item label=\"json表达式\" :name=\"['extractList',index,'expression']\"  :rules=\"{required: true,message: '表达式必填'}\">\n        <a-input v-model:value=\"item.expression\" placeholder=\"JsonPath表达式\"></a-input>\n      </a-form-item>\n      <a-form-item label=\"新变量名\" :name=\"['extractList',index,'newVariableName']\" :rules=\"{required: true,message: '新变量名必填'}\">\n        <a-input v-model:value=\"item.newVariableName\" placeholder=\"保存结果的变量名\"></a-input>\n      </a-form-item>\n    </a-card>\n  </a-form>\n  <a-row style=\"width: 100%;margin-top: 15px;\">\n    <a-button type=\"dashed\" block style=\"color: #ff6a00;margin-left: 10px;margin-right: 10px\" @click=\"addCondition\"><PlusOutlined/>添加条件</a-button>\n  </a-row>\n  <a-button type=\"primary\" style=\"bottom: 10px;right:25px;position: fixed\" @click=\"saveParams(node)\">保存</a-button>\n</template>\n\n<script>\nimport {reactive, ref, watchEffect} from \"vue\"\nimport {queryVariables, updateNode} from \"@/api/request\";\nimport {useRouter} from \"vue-router/dist/vue-router\";\nimport {useStore} from \"vuex\";\nimport {message} from \"ant-design-vue\";\nconst processInstanceId = ref(0)\nconst author = ref('')\n\n// 提取变量名选择器\nconst useVariableNameEffect = (props)=>{\n  const variableOptions = ref([])\n  const queryVariablesList = async ()=>{\n    await queryVariables(props.versionId,processInstanceId.value).then(res=>{\n      if (res.code===0 && res.data){\n        res.data.forEach(item=>{\n          variableOptions.value.push({\n            value: item,\n            label: item\n          })\n        })\n      }\n    })\n  }\n  watchEffect(()=>{\n    if (props.activeKey == '1') {\n      queryVariablesList()\n    }\n  })\n  return {variableOptions}\n}\n\n// 提取组件\nconst useVariableEffect = (props,ctx)=>{\n  const formRule = ref({})\n  const formExtractParam = reactive({extractList: [{oldVariableName:'',expression:'',newVariableName:''}]})\n  watchEffect(()=>{\n    if(props.activeKey == '1' && props.nodeParams){\n      let jsonParams = props.nodeParams.processInstanceParameter.parameterValue?JSON.parse(props.nodeParams.processInstanceParameter.parameterValue):null\n      formExtractParam.extractList = jsonParams?jsonParams.extractList:[{oldVariableName:'',expression:'',newVariableName:''}]\n    }\n  })\n  const addCondition = ()=>{\n    formExtractParam.extractList.push({oldVariableName:'',expression:'',newVariableName:''})\n  }\n  const removeCondition = (item)=>{\n    let index = formExtractParam.extractList.indexOf(item)\n    if (index !== -1) {\n      formExtractParam.extractList.splice(index, 1);\n    }\n  }\n  const saveParams = async(node)=>{\n    formRule.value.validateFields().then(async ()=>{\n      let req = {\n        \"processNode\": {\n          \"versionId\": props.versionId,\n          \"processInstanceId\": processInstanceId.value,\n          \"uuid\": node.id,\n          \"updatedBy\": author.value\n        },\n        \"processInstanceParameter\": [\n          {\n            \"versionId\": props.versionId,\n            \"parameterType\": \"参数信息\",\n            \"parameterName\": \"params\",\n            \"parameterValue\": JSON.stringify({\n              extractList: formExtractParam.extractList\n            }),\n            \"updatedBy\": author.value\n          }]\n      }\n      await updateNode(req).then(res=>{\n        if(res.code === 0){\n          message.success(\"参数更新成功;\"+\"id:\"+node.id)\n          ctx.emit('close')\n        } else {\n          message.error(\"参数更新失败;\"+res.message)\n        }\n      })\n    }).catch(()=>{\n      message.error('请填写完必填项')\n    })\n  }\n  return {formRule,formExtractParam, addCondition, removeCondition,saveParams}\n}\nexport default {\n  name: \"ExtractParamConfig\",\n  props: ['node','activeKey','nodeParams','versionId'],\n  emits: ['close'],\n  setup(props,ctx){\n    const router = useRouter()\n    const store = useStore()\n    processInstanceId.value = router.currentRoute.value.params.processInstanceId\n    author.value = store.state.user.account\n    const {variableOptions} = useVariableNameEffect(props)\n    const {formRule,formExtractParam,addCondition, removeCondition,saveParams} = useVariableEffect(props,ctx)\n    return {\n      formRule,\n      formExtractParam,\n      variableOptions,\n      addCondition,\n      removeCondition,\n      saveParams\n    }\n  }\n\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}