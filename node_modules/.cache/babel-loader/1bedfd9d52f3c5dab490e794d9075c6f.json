{"remainingRequest":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/thread-loader/dist/cjs.js!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/xuewei/Desktop/开源项目/arcade-x6/src/layouts/components/Menu.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/src/layouts/components/Menu.vue","mtime":1687006595995},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/babel.config.js","mtime":1667046646049},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/thread-loader/dist/cjs.js","mtime":1689430340741},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js","mtime":1689430342224},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js","mtime":1689430342169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVJvdXRlciwgdXNlUm91dGUgfSBmcm9tICd2dWUtcm91dGVyJzsKCi8vIOWvuW1lbnXnmoTlpITnkIbpgLvovpEKY29uc3QgdXNlTWVudUVmZmVjdCA9ICgpID0+IHsKICBjb25zdCByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgY29uc3QgbWVudUxpc3QgPSBbewogICAgaWQ6IDEsCiAgICBpY29uOiAnVG9vbE91dGxpbmVkJywKICAgIG5hbWU6ICflt6XlhbfliJfooagnLAogICAgcGF0aDogJy90b29scycKICB9LCB7CiAgICBpZDogMiwKICAgIGljb246ICdDbHVzdGVyT3V0bGluZWQnLAogICAgbmFtZTogJ+a1geeoi+WIl+ihqCcsCiAgICBwYXRoOiAnL2Zsb3dzJwogIH0sIHsKICAgIGlkOiAzLAogICAgaWNvbjogJ0JhcnNPdXRsaW5lZCcsCiAgICBuYW1lOiAn5Lu75Yqh566h55CGJywKICAgIHBhdGg6ICcvdGFzaycKICB9CiAgLy8gewogIC8vICAgaWQ6IDMsCiAgLy8gICBpY29uOiAnUXJjb2RlT3V0bGluZWQnLAogIC8vICAgbmFtZTogJ+a1gemHj+euoeeQhicsCiAgLy8gICBjaGlsZHJlbkxpc3Q6CiAgLy8gICBbewogIC8vICAgICBpZDogMzEsCiAgLy8gICAgIGljb246ICdQbGF5U3F1YXJlT3V0bGluZWQnLAogIC8vICAgICBuYW1lOiAn5b2V5Yi25rWB6YePJywKICAvLyAgICAgcGF0aDogJy90cmFmZmljL3JlY29yZCcKICAvLyAgIH0sCiAgLy8gICB7CiAgLy8gICAgIGlkOiAzMiwKICAvLyAgICAgaWNvbjogJ1ZpZGVvQ2FtZXJhT3V0bGluZWQnLAogIC8vICAgICBuYW1lOiAn5Zue5pS+5rWB6YePJywKICAvLyAgICAgcGF0aDogJy90cmFmZmljL3BsYXliYWNrJwogIC8vICAgfV0KICAvLyB9CiAgXTsKCiAgY29uc3Qgc2VsZWN0ZWRLZXlzID0gcmVmKFtdKTsKICBjb25zdCBvcGVuS2V5cyA9IHJlZihbXSk7CiAgY29uc3Qgcm9vdFN1Ym1lbnVLZXlzID0gW107CiAgY29uc3QgaGFuZGxlTWVudUl0ZW0gPSAocGF0aCwgaWQpID0+IHsKICAgIHNlbGVjdGVkS2V5cy52YWx1ZSA9IFtpZF07CiAgICByb3V0ZXIucHVzaCh7CiAgICAgIHBhdGg6IHBhdGgKICAgIH0pOwogIH07CiAgY29uc3QgY3VyU2VsZWN0S2V5ID0gKCkgPT4gewogICAgbGV0IHBhdGggPSByb3V0ZS5wYXRoLnRvU3RyaW5nKCk7CiAgICBsZXQgaWQgPSAxOwogICAgc2VsZWN0ZWRLZXlzLnZhbHVlID0gW2lkXTsKICAgIG1lbnVMaXN0LmZvckVhY2gob2JqID0+IHsKICAgICAgaWYgKG9iai5wYXRoKSB7CiAgICAgICAgaWYgKHBhdGguaW5kZXhPZihvYmoucGF0aCkgIT0gLTEpIHsKICAgICAgICAgIC8vIGlmIChvYmoucGF0aC5pbmNsdWRlcyhwYXRoKSkgewogICAgICAgICAgaWQgPSBvYmouaWQ7CiAgICAgICAgICBzZWxlY3RlZEtleXMudmFsdWUgPSBbaWRdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBvYmouY2hpbGRyZW5MaXN0LmZvckVhY2goY2hpbGQgPT4gewogICAgICAgICAgaWYgKHBhdGguaW5kZXhPZihjaGlsZC5wYXRoKSAhPSAtMSkgewogICAgICAgICAgICAvLyBpZiAoY2hpbGQucGF0aC5pbmNsdWRlcyhwYXRoKSkgewogICAgICAgICAgICBpZCA9IGNoaWxkLmlkOwogICAgICAgICAgICBzZWxlY3RlZEtleXMudmFsdWUgPSBbaWRdOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9OwogIGNvbnN0IGN1ck9wZW5LZXkgPSAoKSA9PiB7CiAgICBsZXQgcGF0aCA9IHJvdXRlLnBhdGgudG9TdHJpbmcoKS5zcGxpdCgnLycpWzFdOwogICAgbGV0IGlkID0gMTsKICAgIG9wZW5LZXlzLnZhbHVlID0gW107CiAgICBtZW51TGlzdC5mb3JFYWNoKG9iaiA9PiB7CiAgICAgIGlmIChvYmoucGF0aCkgewogICAgICAgIGlmIChwYXRoLmluZGV4T2Yob2JqLnBhdGgpICE9IC0xKSB7CiAgICAgICAgICBpZCA9IG9iai5pZDsKICAgICAgICAgIG9wZW5LZXlzLnZhbHVlID0gW2lkXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqLmNoaWxkcmVuTGlzdC5mb3JFYWNoKGNoaWxkID0+IHsKICAgICAgICAgIGlmIChwYXRoLmluZGV4T2YoY2hpbGQucGF0aCkgIT0gLTEpIHsKICAgICAgICAgICAgaWQgPSBvYmouaWQ7CiAgICAgICAgICAgIG9wZW5LZXlzLnZhbHVlID0gW2lkXTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfTsKICBjb25zdCBvbk9wZW5DaGFuZ2UgPSBvcGVuS2V5cyA9PiB7CiAgICBjb25zdCBsYXRlc3RPcGVuS2V5ID0gb3BlbktleXMuZmluZChrZXkgPT4gb3BlbktleXMuaW5kZXhPZihrZXkpID09PSAtMSk7CiAgICBpZiAocm9vdFN1Ym1lbnVLZXlzLmluZGV4T2YobGF0ZXN0T3BlbktleSkgPT09IC0xKSB7CiAgICAgIG9wZW5LZXlzLnZhbHVlID0gb3BlbktleXM7CiAgICB9IGVsc2UgewogICAgICBvcGVuS2V5cy52YWx1ZSA9IGxhdGVzdE9wZW5LZXkgPyBbbGF0ZXN0T3BlbktleV0gOiBbXTsKICAgIH0KICB9OwogIHJldHVybiB7CiAgICBtZW51TGlzdCwKICAgIG9wZW5LZXlzLAogICAgc2VsZWN0ZWRLZXlzLAogICAgaGFuZGxlTWVudUl0ZW0sCiAgICBvbk9wZW5DaGFuZ2UsCiAgICBjdXJTZWxlY3RLZXksCiAgICBjdXJPcGVuS2V5CiAgfTsKfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCYXNlTWVudScsCiAgc2V0dXAoKSB7CiAgICBjb25zdCB7CiAgICAgIG1lbnVMaXN0LAogICAgICBvcGVuS2V5cywKICAgICAgc2VsZWN0ZWRLZXlzLAogICAgICBoYW5kbGVNZW51SXRlbSwKICAgICAgb25PcGVuQ2hhbmdlLAogICAgICBjdXJTZWxlY3RLZXksCiAgICAgIGN1ck9wZW5LZXkKICAgIH0gPSB1c2VNZW51RWZmZWN0KCk7CiAgICBjdXJTZWxlY3RLZXkoKTsKICAgIGN1ck9wZW5LZXkoKTsKICAgIHJldHVybiB7CiAgICAgIG1lbnVMaXN0LAogICAgICBvcGVuS2V5cywKICAgICAgc2VsZWN0ZWRLZXlzLAogICAgICBoYW5kbGVNZW51SXRlbSwKICAgICAgb25PcGVuQ2hhbmdlCiAgICB9OwogIH0KfTs="},{"version":3,"mappings":"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","names":["ref","useRouter","useRoute","useMenuEffect","route","router","menuList","id","icon","name","path","selectedKeys","openKeys","rootSubmenuKeys","handleMenuItem","value","push","curSelectKey","toString","forEach","obj","indexOf","childrenList","child","curOpenKey","split","onOpenChange","latestOpenKey","find","key","setup"],"sourceRoot":"","sources":["/Users/xuewei/Desktop/开源项目/arcade-x6/src/layouts/components/Menu.vue"],"sourcesContent":["<template>\n  <a-menu mode=\"horizontal\"\n          :open-keys=\"openKeys\"\n          :selectedKeys=\"selectedKeys\"\n          @openChange=\"onOpenChange\"\n  >\n    <template v-for=\"item of menuList\">\n      <!-- 存在children子菜单情况 -->\n      <a-sub-menu v-if=\"item.childrenList\" :key=\"item.id\">\n        <template #icon>\n          <component :is=\"$icons[item.icon]\" />\n        </template>\n        <template #title>\n          <span>{{ item.name }}</span>\n        </template>\n        <!-- 子菜单 -->\n        <a-menu-item :key=\"child.id\" v-for=\"child of item.childrenList\"\n                     @click=\"handleMenuItem(child.path, child.id)\"\n        >\n          <component :is=\"$icons[child.icon]\" />\n          <span>{{ child.name }}</span>\n        </a-menu-item>\n      </a-sub-menu>\n      <!-- 不存在子菜单情况 -->\n      <a-menu-item v-else @click=\"handleMenuItem(item.path, item.id)\" :key=\"item.id\" >\n        <component :is=\"$icons[item.icon]\" />\n        <span>{{ item.name }}</span>\n      </a-menu-item>\n    </template>\n  </a-menu>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter,useRoute } from 'vue-router'\n\n// 对menu的处理逻辑\nconst useMenuEffect = () =>{\n  const route = useRoute()\n  const router = useRouter()\n  const menuList = [\n    {\n      id: 1,\n      icon: 'ToolOutlined',\n      name: '工具列表',\n      path: '/tools'\n    },\n    {\n      id: 2,\n      icon: 'ClusterOutlined',\n      name: '流程列表',\n      path: '/flows'\n    },\n    {\n      id: 3,\n      icon: 'BarsOutlined',\n      name: '任务管理',\n      path: '/task',\n    },\n    // {\n    //   id: 3,\n    //   icon: 'QrcodeOutlined',\n    //   name: '流量管理',\n    //   childrenList:\n    //   [{\n    //     id: 31,\n    //     icon: 'PlaySquareOutlined',\n    //     name: '录制流量',\n    //     path: '/traffic/record'\n    //   },\n    //   {\n    //     id: 32,\n    //     icon: 'VideoCameraOutlined',\n    //     name: '回放流量',\n    //     path: '/traffic/playback'\n    //   }]\n    // }\n  ]\n  const selectedKeys = ref([])\n  const openKeys = ref([])\n  const rootSubmenuKeys = []\n  const handleMenuItem = (path, id) =>{\n    selectedKeys.value = [id]\n    router.push({path: path})\n  }\n  const curSelectKey = () =>{\n    let path = route.path.toString()\n    let id = 1\n    selectedKeys.value = [id]\n    menuList.forEach(obj => {\n      if (obj.path) {\n        if (path.indexOf(obj.path) != -1) {\n        // if (obj.path.includes(path)) {\n          id = obj.id\n          selectedKeys.value = [id]\n        }\n      } else {\n        obj.childrenList.forEach(child => {\n          if (path.indexOf(child.path) != -1) {\n          // if (child.path.includes(path)) {\n            id = child.id\n            selectedKeys.value = [id]\n          }\n        })\n      }\n    })\n\n  }\n  const curOpenKey = () => {\n    let path = route.path.toString().split('/')[1]\n    let id = 1\n    openKeys.value = []\n    menuList.forEach(obj => {\n      if (obj.path) {\n        if (path.indexOf(obj.path) != -1) {\n          id = obj.id\n          openKeys.value = [id]\n        }\n      } else {\n        obj.childrenList.forEach(child => {\n          if (path.indexOf(child.path) != -1) {\n            id = obj.id\n            openKeys.value = [id]\n          }\n        })\n      }\n    })\n  }\n  const onOpenChange = (openKeys) =>{\n    const latestOpenKey = openKeys.find(key => openKeys.indexOf(key) === -1)\n    if (rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n      openKeys.value = openKeys\n    } else {\n      openKeys.value = latestOpenKey ? [latestOpenKey] : []\n    }\n  }\n  return { menuList, openKeys,selectedKeys,handleMenuItem, onOpenChange,curSelectKey, curOpenKey }\n}\n\nexport default {\n  name: 'BaseMenu',\n  setup() {\n    const { menuList, openKeys,selectedKeys,handleMenuItem, onOpenChange,curSelectKey, curOpenKey } = useMenuEffect()\n    curSelectKey()\n    curOpenKey()\n    return { menuList, openKeys,selectedKeys,handleMenuItem, onOpenChange }\n  }\n}\n</script>\n\n<style scoped>\n/*.ant-menu-item-selected {*/\n/*  background-color: #ff6f22 !important;*/\n/*  color: white !important;*/\n/*}*/\n\n</style>\n"]}]}