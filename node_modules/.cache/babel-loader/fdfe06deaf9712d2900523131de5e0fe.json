{"remainingRequest":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/NodeConfigContainer.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/NodeConfigContainer.vue","mtime":1688889388255},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/babel.config.js","mtime":1667046646049},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js","mtime":1689430342224},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js","mtime":1689430342169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCB3YXRjaEVmZmVjdCB9IGZyb20gInZ1ZSI7CmltcG9ydCBUb29sUGFyYW1Db25maWcgZnJvbSAiQC92aWV3cy9mbG93cy9jb21wb25lbnRzL3BhcmFtL1Rvb2xQYXJhbUNvbmZpZyI7CmltcG9ydCBUb29sU3R5bGVDb25maWcgZnJvbSAiQC92aWV3cy9mbG93cy9jb21wb25lbnRzL1Rvb2xTdHlsZUNvbmZpZyI7CmltcG9ydCB7IHF1ZXJ5UGFyYW1ldGVyIH0gZnJvbSAiQC9hcGkvcmVxdWVzdCI7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gInZ1ZS1yb3V0ZXIvZGlzdC92dWUtcm91dGVyIjsKaW1wb3J0IHsgbWVzc2FnZSB9IGZyb20gImFudC1kZXNpZ24tdnVlIjsKaW1wb3J0IENvbmRpdGlvblBhcmFtQ29uZmlnIGZyb20gIkAvdmlld3MvZmxvd3MvY29tcG9uZW50cy9wYXJhbS9Db25kaXRpb25QYXJhbUNvbmZpZyI7CmltcG9ydCBFeHRyYWN0UGFyYW1Db25maWcgZnJvbSAiQC92aWV3cy9mbG93cy9jb21wb25lbnRzL3BhcmFtL0V4dHJhY3RQYXJhbUNvbmZpZyI7CmNvbnN0IGFjdGl2ZUtleSA9IHJlZignMScpOwpjb25zdCBwcm9jZXNzSW5zdGFuY2VJZCA9IHJlZigwKTsKCi8vIOWPs+S+p+mdouadv+WIoOmZpOaTjeS9nApjb25zdCB1c2VQYXJhbXNFZmZlY3QgPSAocHJvcHMsIGN0eCkgPT4gewogIC8vIOWIoOmZpOiKgueCuQogIGNvbnN0IGRlbGV0ZU5vZGUgPSBub2RlID0+IHsKICAgIC8vIG5vZGUucmVtb3ZlKCkKICAgIGN0eC5lbWl0KCdkZWxldGUnLCBub2RlKTsKICB9OwogIC8vIOe7hOS7tuexu+WeiwogIGNvbnN0IHR5cGUgPSByZWYoJycpOwogIC8vIOWPguaVsOaVsOaNrgogIGNvbnN0IG5vZGVQYXJhbXMgPSByZWYoKTsKICAvLyDojrflj5blj4LmlbB0YWLmlbDmja4KICBjb25zdCBnZXRUb29sUGFyYW0gPSBhc3luYyBub2RlID0+IHsKICAgIGxldCByZXEgPSB7CiAgICAgICJwcm9jZXNzSW5zdGFuY2VJZCI6IE51bWJlcihwcm9jZXNzSW5zdGFuY2VJZC52YWx1ZSksCiAgICAgICJwcm9jZXNzTm9kZVV1aWQiOiBub2RlLmlkLAogICAgICAicGFyYW1ldGVyVHlwZSI6ICLlj4LmlbDkv6Hmga8iCiAgICB9OwogICAgYXdhaXQgcXVlcnlQYXJhbWV0ZXIocmVxKS50aGVuKHJlcyA9PiB7CiAgICAgIGlmIChyZXMuY29kZSA9PT0gMCkgewogICAgICAgIHR5cGUudmFsdWUgPSByZXMuZGF0YS50eXBlOwogICAgICAgIG5vZGVQYXJhbXMudmFsdWUgPSByZXMuZGF0YTsKICAgICAgfSBlbHNlIHsKICAgICAgICBtZXNzYWdlLmVycm9yKCLlj4LmlbDojrflj5blpLHotKU7IiArIHJlcy5tZXNzYWdlKTsKICAgICAgfQogICAgfSk7CiAgfTsKICB3YXRjaEVmZmVjdCgoKSA9PiB7CiAgICBpZiAocHJvcHMudmlzaWJsZSkgewogICAgICBhY3RpdmVLZXkudmFsdWUgPSAnMSc7CiAgICAgIGdldFRvb2xQYXJhbShwcm9wcy5ub2RlKTsKICAgIH0KICB9KTsKICB3YXRjaEVmZmVjdCgoKSA9PiB7CiAgICBpZiAodHlwZS52YWx1ZSA9PT0gJ3N0YXJ0JyB8fCB0eXBlLnZhbHVlID09PSAnZW5kJykgewogICAgICBhY3RpdmVLZXkudmFsdWUgPSAnMic7CiAgICB9CiAgfSk7CiAgcmV0dXJuIHsKICAgIGRlbGV0ZU5vZGUsCiAgICBnZXRUb29sUGFyYW0sCiAgICB0eXBlLAogICAgbm9kZVBhcmFtcwogIH07Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTm9kZUNvbmZpZ0NvbnRhaW5lcicsCiAgcHJvcHM6IFsnbm9kZScsICd2aXNpYmxlJywgJ3ZlcnNpb25JZCddLAogIGVtaXRzOiBbJ2RlbGV0ZScsICdjbG9zZSddLAogIGNvbXBvbmVudHM6IHsKICAgIEV4dHJhY3RQYXJhbUNvbmZpZywKICAgIENvbmRpdGlvblBhcmFtQ29uZmlnLAogICAgVG9vbFN0eWxlQ29uZmlnLAogICAgVG9vbFBhcmFtQ29uZmlnCiAgfSwKICBzZXR1cChwcm9wcywgY3R4KSB7CiAgICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKICAgIHByb2Nlc3NJbnN0YW5jZUlkLnZhbHVlID0gcm91dGVyLmN1cnJlbnRSb3V0ZS52YWx1ZS5wYXJhbXMucHJvY2Vzc0luc3RhbmNlSWQ7CiAgICBjb25zdCB7CiAgICAgIGRlbGV0ZU5vZGUsCiAgICAgIHR5cGUsCiAgICAgIG5vZGVQYXJhbXMKICAgIH0gPSB1c2VQYXJhbXNFZmZlY3QocHJvcHMsIGN0eCk7CiAgICByZXR1cm4gewogICAgICBhY3RpdmVLZXksCiAgICAgIGRlbGV0ZU5vZGUsCiAgICAgIHR5cGUsCiAgICAgIG5vZGVQYXJhbXMKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":"AA0BA,SAAQA,GAAG,EAAEC,WAAW,QAAO,KAAK;AACpC,OAAOC,eAAc,MAAO,gDAAgD;AAC5E,OAAOC,eAAc,MAAO,0CAA0C;AACtE,SAAQC,cAAc,QAAO,eAAe;AAC5C,SAAQC,SAAS,QAAO,4BAA4B;AACpD,SAAQC,OAAO,QAAO,gBAAgB;AACtC,OAAOC,oBAAmB,MAAO,qDAAqD;AACtF,OAAOC,kBAAiB,MAAO,mDAAmD;AAElF,MAAMC,SAAQ,GAAIT,GAAG,CAAC,GAAG;AACzB,MAAMU,iBAAgB,GAAIV,GAAG,CAAC,CAAC;;AAE/B;AACA,MAAMW,eAAc,GAAI,CAACC,KAAK,EAACC,GAAG,KAAG;EACnC;EACA,MAAMC,UAAS,GAAKC,IAAI,IAAG;IACzB;IACAF,GAAG,CAACG,IAAI,CAAC,QAAQ,EAACD,IAAI;EACxB;EACA;EACA,MAAME,IAAG,GAAIjB,GAAG,CAAC,EAAE;EACnB;EACA,MAAMkB,UAAS,GAAIlB,GAAG,EAAC;EACvB;EACA,MAAMmB,YAAW,GAAK,MAAOJ,IAAI,IAAG;IAClC,IAAIK,GAAE,GAAI;MACR,mBAAmB,EAAEC,MAAM,CAACX,iBAAiB,CAACY,KAAK,CAAC;MACpD,iBAAiB,EAAEP,IAAI,CAACQ,EAAE;MAC1B,eAAe,EAAE;IACnB;IACA,MAAMnB,cAAc,CAACgB,GAAG,CAAC,CAACI,IAAI,CAACC,GAAG,IAAE;MAClC,IAAGA,GAAG,CAACC,IAAG,KAAM,CAAC,EAAC;QAChBT,IAAI,CAACK,KAAI,GAAIG,GAAG,CAACE,IAAI,CAACV,IAAG;QACzBC,UAAU,CAACI,KAAI,GAAIG,GAAG,CAACE,IAAG;MAC5B,OAAO;QACLrB,OAAO,CAACsB,KAAK,CAAC,SAAS,GAACH,GAAG,CAACnB,OAAO;MACrC;IACF,CAAC;EACH;EACAL,WAAW,CAAC,MAAI;IACd,IAAGW,KAAK,CAACiB,OAAO,EAAC;MACfpB,SAAS,CAACa,KAAI,GAAI,GAAE;MACpBH,YAAY,CAACP,KAAK,CAACG,IAAI;IACzB;EACF,CAAC;EACDd,WAAW,CAAC,MAAI;IACd,IAAIgB,IAAI,CAACK,KAAI,KAAK,OAAM,IAAKL,IAAI,CAACK,KAAI,KAAK,KAAK,EAAE;MAChDb,SAAS,CAACa,KAAI,GAAI,GAAE;IACtB;EACF,CAAC;EACD,OAAO;IACLR,UAAU;IACVK,YAAY;IACZF,IAAI;IACJC;EACF;AACF;AAEA,eAAe;EACbY,IAAI,EAAE,qBAAqB;EAC3BlB,KAAK,EAAE,CAAC,MAAM,EAAC,SAAS,EAAC,WAAW,CAAC;EACrCmB,KAAK,EAAE,CAAC,QAAQ,EAAC,OAAO,CAAC;EACzBC,UAAU,EAAE;IAACxB,kBAAkB;IAAED,oBAAoB;IAAEJ,eAAe;IAAED;EAAe,CAAC;EACxF+B,KAAK,CAACrB,KAAK,EAACC,GAAG,EAAC;IACd,MAAMqB,MAAK,GAAI7B,SAAS,EAAC;IACzBK,iBAAiB,CAACY,KAAI,GAAIY,MAAM,CAACC,YAAY,CAACb,KAAK,CAACc,MAAM,CAAC1B,iBAAgB;IAC3E,MAAM;MAAEI,UAAU;MAAEG,IAAI;MAAEC;IAAW,IAAIP,eAAe,CAACC,KAAK,EAACC,GAAG;IAClE,OAAO;MACLJ,SAAS;MAACK,UAAU;MAAEG,IAAI;MAAEC;IAC9B;EACF;AACF","names":["ref","watchEffect","ToolParamConfig","ToolStyleConfig","queryParameter","useRouter","message","ConditionParamConfig","ExtractParamConfig","activeKey","processInstanceId","useParamsEffect","props","ctx","deleteNode","node","emit","type","nodeParams","getToolParam","req","Number","value","id","then","res","code","data","error","visible","name","emits","components","setup","router","currentRoute","params"],"sourceRoot":"","sources":["/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/NodeConfigContainer.vue"],"sourcesContent":["<template>\n  <a-tabs v-model:activeKey=\"activeKey\" size=\"default\" v-if=\"type!='start'&&type!='end'\">\n    <a-tab-pane key=\"1\" tab=\"参数\">\n      <div style=\"height: 100%;width: 100%;overflow: auto\">\n        <a-row style=\"margin-bottom: 12px\">\n          <a-col :span=\"24\" style=\"text-align: right;\">\n            <a type=\"default\" @click=\"deleteNode(node)\">删除节点</a>\n          </a-col>\n        </a-row>\n        <tool-param-config v-if=\"type==='tool'\" :node=\"node\" :nodeParams=\"nodeParams\" :activeKey=\"activeKey\" :versionId=\"versionId\"  @close=\"$emit('close')\"></tool-param-config>\n        <extract-param-config v-else-if=\"type==='extract'\" :node=\"node\" :nodeParams=\"nodeParams\" :activeKey=\"activeKey\" :versionId=\"versionId\"  @close=\"$emit('close')\"></extract-param-config>\n        <condition-param-config v-else-if=\"type==='condition'\" :node=\"node\" :nodeParams=\"nodeParams\" :activeKey=\"activeKey\" :versionId=\"versionId\"  @close=\"$emit('close')\"></condition-param-config>\n      </div>\n    </a-tab-pane>\n    <a-tab-pane key=\"2\" tab=\"样式\">\n      <a-row style=\"margin-bottom: 12px\">\n        <a-col :span=\"24\" style=\"text-align: right;\">\n          <a type=\"default\" @click=\"deleteNode(node)\">删除节点</a>\n        </a-col>\n      </a-row>\n      <tool-style-config :node=\"node\" :versionId=\"versionId\" @close=\"$emit('close')\"></tool-style-config>\n    </a-tab-pane>\n  </a-tabs>\n</template>\n\n<script>\nimport {ref, watchEffect} from \"vue\";\nimport ToolParamConfig from \"@/views/flows/components/param/ToolParamConfig\";\nimport ToolStyleConfig from \"@/views/flows/components/ToolStyleConfig\";\nimport {queryParameter} from \"@/api/request\";\nimport {useRouter} from \"vue-router/dist/vue-router\";\nimport {message} from \"ant-design-vue\";\nimport ConditionParamConfig from \"@/views/flows/components/param/ConditionParamConfig\";\nimport ExtractParamConfig from \"@/views/flows/components/param/ExtractParamConfig\";\n\nconst activeKey = ref('1')\nconst processInstanceId = ref(0)\n\n// 右侧面板删除操作\nconst useParamsEffect = (props,ctx)=>{\n  // 删除节点\n  const deleteNode = (node)=>{\n    // node.remove()\n    ctx.emit('delete',node)\n  }\n  // 组件类型\n  const type = ref('')\n  // 参数数据\n  const nodeParams = ref()\n  // 获取参数tab数据\n  const getToolParam  = async (node)=>{\n    let req = {\n      \"processInstanceId\": Number(processInstanceId.value),\n      \"processNodeUuid\": node.id,\n      \"parameterType\": \"参数信息\"\n    }\n    await queryParameter(req).then(res=>{\n      if(res.code === 0){\n        type.value = res.data.type\n        nodeParams.value = res.data\n      } else {\n        message.error(\"参数获取失败;\"+res.message)\n      }\n    })\n  }\n  watchEffect(()=>{\n    if(props.visible){\n      activeKey.value = '1'\n      getToolParam(props.node)\n    }\n  })\n  watchEffect(()=>{\n    if (type.value ==='start' || type.value ==='end') {\n      activeKey.value = '2'\n    }\n  })\n  return {\n    deleteNode,\n    getToolParam,\n    type,\n    nodeParams\n  }\n}\n\nexport default {\n  name: 'NodeConfigContainer',\n  props: ['node','visible','versionId'],\n  emits: ['delete','close'],\n  components: {ExtractParamConfig, ConditionParamConfig, ToolStyleConfig, ToolParamConfig},\n  setup(props,ctx){\n    const router = useRouter()\n    processInstanceId.value = router.currentRoute.value.params.processInstanceId\n    const { deleteNode, type, nodeParams } = useParamsEffect(props,ctx)\n    return {\n      activeKey,deleteNode, type, nodeParams\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"]}]}