{"remainingRequest":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/FlowAddModal.vue?vue&type=template&id=f6a44f44","dependencies":[{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/FlowAddModal.vue","mtime":1689426286288},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/babel.config.js","mtime":1667046646049},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js","mtime":1689430342224},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1689430343293},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js","mtime":1689430342169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jayB9IGZyb20gInZ1ZSI7CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgY29uc3QgX2NvbXBvbmVudF9hX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImEtaW5wdXQiKTsKICBjb25zdCBfY29tcG9uZW50X2FfZm9ybV9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoImEtZm9ybS1pdGVtIik7CiAgY29uc3QgX2NvbXBvbmVudF9hX3RleHRhcmVhID0gX3Jlc29sdmVDb21wb25lbnQoImEtdGV4dGFyZWEiKTsKICBjb25zdCBfY29tcG9uZW50X2Ffc2VsZWN0ID0gX3Jlc29sdmVDb21wb25lbnQoImEtc2VsZWN0Iik7CiAgY29uc3QgX2NvbXBvbmVudF9hX2Zvcm0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiYS1mb3JtIik7CiAgY29uc3QgX2NvbXBvbmVudF9hX21vZGFsID0gX3Jlc29sdmVDb21wb25lbnQoImEtbW9kYWwiKTsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9hX21vZGFsLCB7CiAgICB2aXNpYmxlOiAkcHJvcHMudmlzaWJsZSwKICAgIHRpdGxlOiAi5paw5bu65rWB56iLIiwKICAgIG9rVGV4dDogIuaPkOS6pCIsCiAgICBjYW5jZWxUZXh0OiAi5Y+W5raIIiwKICAgIG9uT2s6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gJGV2ZW50ID0+ICRzZXR1cC5oYW5kbGVPayhfY3R4LiRzdG9yZS5zdGF0ZS51c2VyLmFjY291bnQpKSwKICAgIG9uQ2FuY2VsOiAkc2V0dXAuaGFuZGxlQ2FuY2VsLAogICAgd2lkdGg6ICI2ODBweCIKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV9mb3JtLCB7CiAgICAgIG1vZGVsOiAkc2V0dXAuZm9ybVN0YXRlLAogICAgICByZWY6ICJmb3JtUnVsZSIsCiAgICAgICJsYWJlbC1jb2wiOiB7CiAgICAgICAgc3BhbjogNAogICAgICB9LAogICAgICAid3JhcHBlci1jb2wiOiB7CiAgICAgICAgc3BhbjogMTgsCiAgICAgICAgb2Zmc2V0OiAxCiAgICAgIH0KICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2FfZm9ybV9pdGVtLCB7CiAgICAgICAgbGFiZWw6ICLmtYHnqIvlkI3np7AiLAogICAgICAgIG5hbWU6ICJuYW1lIiwKICAgICAgICBydWxlczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+a1geeoi+WQjeensOW/heWhq+mhuScKICAgICAgICB9XQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2FfaW5wdXQsIHsKICAgICAgICAgICJzaG93LWNvdW50IjogIiIsCiAgICAgICAgICBtYXhsZW5ndGg6IDUwLAogICAgICAgICAgImFsbG93LWNsZWFyIjogIiIsCiAgICAgICAgICB2YWx1ZTogJHNldHVwLmZvcm1TdGF0ZS5uYW1lLAogICAgICAgICAgIm9uVXBkYXRlOnZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAkZXZlbnQgPT4gJHNldHVwLmZvcm1TdGF0ZS5uYW1lID0gJGV2ZW50KSwKICAgICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36L6T5YWl5rWB56iL5ZCN56ewIgogICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsidmFsdWUiXSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV9mb3JtX2l0ZW0sIHsKICAgICAgICBsYWJlbDogIua1geeoi+aPj+i/sCIsCiAgICAgICAgbmFtZTogImRlc2NyaXB0aW9uIgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2FfdGV4dGFyZWEsIHsKICAgICAgICAgICJzaG93LWNvdW50IjogIiIsCiAgICAgICAgICBtYXhsZW5ndGg6IDEwMCwKICAgICAgICAgIHJvd3M6IDQsCiAgICAgICAgICB2YWx1ZTogJHNldHVwLmZvcm1TdGF0ZS5kZXNjcmlwdGlvbiwKICAgICAgICAgICJvblVwZGF0ZTp2YWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gJGV2ZW50ID0+ICRzZXR1cC5mb3JtU3RhdGUuZGVzY3JpcHRpb24gPSAkZXZlbnQpLAogICAgICAgICAgcGxhY2Vob2xkZXI6ICLor7fovpPlhaXmj4/ov7Dkv6Hmga8iCiAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJ2YWx1ZSJdKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2Zvcm1faXRlbSwgewogICAgICAgIGxhYmVsOiAi5Lia5Yqh57q/IiwKICAgICAgICBuYW1lOiAiYnVzaW5lc3NMaW5lIiwKICAgICAgICBydWxlczogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+S4muWKoee6v+W/heWhq+mhuScKICAgICAgICB9XQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2Ffc2VsZWN0LCB7CiAgICAgICAgICB2YWx1ZTogJHNldHVwLmZvcm1TdGF0ZS5idXNpbmVzc0xpbmUsCiAgICAgICAgICAib25VcGRhdGU6dmFsdWUiOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9ICRldmVudCA9PiAkc2V0dXAuZm9ybVN0YXRlLmJ1c2luZXNzTGluZSA9ICRldmVudCksCiAgICAgICAgICBvcHRpb25zOiAkc2V0dXAuYnVzaW5lc3NMaW5lcywKICAgICAgICAgIHBsYWNlaG9sZGVyOiAi6K+36YCJ5oup5Lia5Yqh57q/IgogICAgICAgIH0sIG51bGwsIDggLyogUFJPUFMgKi8sIFsidmFsdWUiLCAib3B0aW9ucyJdKV0pLAogICAgICAgIF86IDEgLyogU1RBQkxFICovCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2Zvcm1faXRlbSwgewogICAgICAgIGxhYmVsOiAi5omA5bGe57G75Z6LIiwKICAgICAgICBuYW1lOiAidHlwZSIsCiAgICAgICAgcnVsZXM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfmiYDlsZ7nsbvlnovlv4XloavpobknCiAgICAgICAgfV0KICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX3NlbGVjdCwgewogICAgICAgICAgdmFsdWU6ICRzZXR1cC5mb3JtU3RhdGUudHlwZSwKICAgICAgICAgICJvblVwZGF0ZTp2YWx1ZSI6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gJGV2ZW50ID0+ICRzZXR1cC5mb3JtU3RhdGUudHlwZSA9ICRldmVudCksCiAgICAgICAgICBvcHRpb25zOiAkc2V0dXAudHlwZXMsCiAgICAgICAgICBwbGFjZWhvbGRlcjogIuivt+mAieaLqea1geeoi+exu+WeiyIKICAgICAgICB9LCBudWxsLCA4IC8qIFBST1BTICovLCBbInZhbHVlIiwgIm9wdGlvbnMiXSldKSwKICAgICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgICB9KSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiICAgICAgPGEtZm9ybS1pdGVtIGxhYmVsPVwi54mI5pys5Y+3XCIgbmFtZT1cInZlcnNpb25cIj4iKSwgX2NyZWF0ZUNvbW1lbnRWTm9kZSgiICAgICAgICA8YS1pbnB1dCB2LW1vZGVsOnZhbHVlPVwiZm9ybVN0YXRlLnZlcnNpb25cIi8+IiksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiAgICAgIDwvYS1mb3JtLWl0ZW0+IildKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0sIDggLyogUFJPUFMgKi8sIFsibW9kZWwiXSldKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSwgOCAvKiBQUk9QUyAqLywgWyJ2aXNpYmxlIiwgIm9uQ2FuY2VsIl0pOwp9"},{"version":3,"mappings":";;;;;;;;uBACEA,aAyBUC;IAzBAC,OAAO,EAAEC,cAAO;IACjBC,KAAK,EAAC,MAAM;IACZC,MAAM,EAAC,IAAI;IACXC,UAAU,EAAC,IAAI;IACdC,IAAE,sCAAEC,eAAQ,CAACC,WAAM,CAACC,KAAK,CAACC,IAAI,CAACC,OAAO;IACtCC,QAAM,EAAEL,mBAAY;IACrBM,KAAK,EAAC;;sBAEb,MAgBS,CAhBTC,aAgBSC;MAhBAC,KAAK,EAAET,gBAAS;MAAEU,GAAG,EAAC,UAAU;MAAE,WAAS,EAAE;QAAAC;MAAA,CAAW;MAAG,aAAW,EAAE;QAAAA;QAAAC;MAAA;;wBAC/E,MAEc,CAFdL,aAEcM;QAFDC,KAAK,EAAC,MAAM;QAACC,IAAI,EAAC,MAAM;QAAEC,KAAK,EAAE;UAAAC;UAAAC;QAAA;;0BAC5C,MAAsG,CAAtGX,aAAsGY;UAA7F,YAAU,EAAV,EAAU;UAAEC,SAAS,EAAE,EAAE;UAAE,aAAW,EAAX,EAAW;UAASC,KAAK,EAAErB,gBAAS,CAACe,IAAI;gEAAdf,gBAAS,CAACe,IAAI;UAAEO,WAAW,EAAC;;;UAE7Ff,aAEcM;QAFDC,KAAK,EAAC,MAAM;QAACC,IAAI,EAAC;;0BAC7B,MAA+G,CAA/GR,aAA+GgB;UAAnG,YAAU,EAAV,EAAU;UAAEH,SAAS,EAAE,GAAG;UAAGI,IAAI,EAAE,CAAC;UAAUH,KAAK,EAAErB,gBAAS,CAACyB,WAAW;gEAArBzB,gBAAS,CAACyB,WAAW;UAAEH,WAAW,EAAC;;;UAEtGf,aAEcM;QAFDC,KAAK,EAAC,KAAK;QAACC,IAAI,EAAC,cAAc;QAAEC,KAAK,EAAE;UAAAC;UAAAC;QAAA;;0BACnD,MAA0G,CAA1GX,aAA0GmB;UAAxFL,KAAK,EAAErB,gBAAS,CAAC2B,YAAY;gEAAtB3B,gBAAS,CAAC2B,YAAY;UAAGC,OAAO,EAAE5B,oBAAa;UAAEsB,WAAW,EAAC;;;UAExFf,aAEcM;QAFDC,KAAK,EAAC,MAAM;QAACC,IAAI,EAAC,MAAM;QAAEC,KAAK,EAAE;UAAAC;UAAAC;QAAA;;0BAC5C,MAA2F,CAA3FX,aAA2FmB;UAAzEL,KAAK,EAAErB,gBAAS,CAAC6B,IAAI;gEAAd7B,gBAAS,CAAC6B,IAAI;UAAGD,OAAO,EAAE5B,YAAK;UAAEsB,WAAW,EAAC;;;UAE9EQ,yEAAqD,EACrDA,6EAA2D,EAC3DA,2CAA2B","names":["_createBlock","_component_a_modal","visible","$props","title","okText","cancelText","onOk","$setup","_ctx","state","user","account","onCancel","width","_createVNode","_component_a_form","model","ref","span","offset","_component_a_form_item","label","name","rules","required","message","_component_a_input","maxlength","value","placeholder","_component_a_textarea","rows","description","_component_a_select","businessLine","options","type","_createCommentVNode"],"sourceRoot":"","sources":["/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/FlowAddModal.vue"],"sourcesContent":["<template>\n  <a-modal :visible=\"visible\"\n           title=\"新建流程\"\n           okText=\"提交\"\n           cancelText=\"取消\"\n           @ok=\"handleOk($store.state.user.account)\"\n           @cancel=\"handleCancel\"\n           width=\"680px\"\n  >\n    <a-form :model=\"formState\" ref=\"formRule\" :label-col=\"{ span: 4 }\" :wrapper-col=\"{ span: 18 ,offset: 1}\">\n      <a-form-item label=\"流程名称\" name=\"name\" :rules=\"[{ required: true, message: '流程名称必填项'}]\">\n        <a-input show-count :maxlength=\"50\" allow-clear v-model:value=\"formState.name\" placeholder=\"请输入流程名称\"/>\n      </a-form-item>\n      <a-form-item label=\"流程描述\" name=\"description\">\n        <a-textarea show-count :maxlength=\"100\" :rows=\"4\" v-model:value=\"formState.description\" placeholder=\"请输入描述信息\"/>\n      </a-form-item>\n      <a-form-item label=\"业务线\" name=\"businessLine\" :rules=\"[{ required: true, message: '业务线必填项'}]\">\n        <a-select v-model:value=\"formState.businessLine\" :options=\"businessLines\" placeholder=\"请选择业务线\"></a-select>\n      </a-form-item>\n      <a-form-item label=\"所属类型\" name=\"type\" :rules=\"[{ required: true, message: '所属类型必填项'}]\">\n        <a-select v-model:value=\"formState.type\" :options=\"types\" placeholder=\"请选择流程类型\"></a-select>\n      </a-form-item>\n<!--      <a-form-item label=\"版本号\" name=\"version\">-->\n<!--        <a-input v-model:value=\"formState.version\"/>-->\n<!--      </a-form-item>-->\n    </a-form>\n  </a-modal>\n</template>\n\n<script>\nimport { reactive,ref} from 'vue'\nimport {message} from \"ant-design-vue\";\nimport {createFlow} from \"@/api/request\";\nconst useFormState = (props,ctx)=>{\n  const formRule = ref()\n  const formState = reactive({\n    name: '',\n    description: '',\n    businessLine: '',\n    type: '',\n    // version: 1\n  })\n  const businessLines = [\n    {label: '业务线1', value: '业务线1'},\n    {label: '业务线2', value: '业务线2'},\n    {label: '业务线3', value: '业务线3'}\n  ]\n  const types = [\n    {label: '工具组件', value: 'tool'},\n    {label: '流程组件', value: 'flow'},\n    {label: '自动化组件', value: 'autotest'}\n  ]\n  const handleOk = (userAccount) => {\n    formRule.value.validateFields().then(async ()=>{\n      let req = {\n        name: formState.name,\n        description: formState.description,\n        businessLine: formState.businessLine,\n        type: formState.type,\n        // version: formState.version,\n        status: 0,\n        createdBy: userAccount,\n        updatedBy: userAccount\n      }\n      //调后端接口添加\n      await createFlow(req).then(res=>{\n        if (res?.code === 0 && res.data>0) {\n          formRule.value.resetFields()\n          message.success('添加成功')\n          ctx.emit('confirm')\n        } else {\n          message.error('添加失败：'+res?.message)\n        }\n      })\n    }).catch(() => {\n      // console.log(error)\n      message.error('请填写完必填项')\n    })\n  }\n  const handleCancel = () => {\n    formRule.value.resetFields()\n    ctx.emit('close')\n  }\n  return {\n    formState,\n    formRule,\n    businessLines,\n    types,\n    handleOk,\n    handleCancel\n  }\n}\n\nexport default {\n  name: \"FlowAddModal\",\n  props:['visible'],\n  emits:['close','confirm'],\n  setup(props,ctx) {\n    const {formState,formRule,businessLines,types,handleOk,handleCancel} = useFormState(props,ctx)\n    return {\n      formState,\n      formRule,\n      businessLines,\n      types,\n      handleOk,\n      handleCancel\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}