{"remainingRequest":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/xuewei/Desktop/开源项目/arcade-x6/src/layouts/components/Menu.vue?vue&type=template&id=74da1289&scoped=true","dependencies":[{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/src/layouts/components/Menu.vue","mtime":1689495360703},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/babel.config.js","mtime":1667046646049},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js","mtime":1689430342224},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1689430343293},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js","mtime":1689430342169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZXNvbHZlRHluYW1pY0NvbXBvbmVudCBhcyBfcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQsIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4IH0gZnJvbSAidnVlIjsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICBjb25zdCBfY29tcG9uZW50X2FfbWVudV9pdGVtID0gX3Jlc29sdmVDb21wb25lbnQoImEtbWVudS1pdGVtIik7CiAgY29uc3QgX2NvbXBvbmVudF9hX3N1Yl9tZW51ID0gX3Jlc29sdmVDb21wb25lbnQoImEtc3ViLW1lbnUiKTsKICBjb25zdCBfY29tcG9uZW50X2FfbWVudSA9IF9yZXNvbHZlQ29tcG9uZW50KCJhLW1lbnUiKTsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9hX21lbnUsIHsKICAgIG1vZGU6ICJob3Jpem9udGFsIiwKICAgICJvcGVuLWtleXMiOiAkc2V0dXAub3BlbktleXMsCiAgICBzZWxlY3RlZEtleXM6ICRzZXR1cC5zZWxlY3RlZEtleXMsCiAgICBvbk9wZW5DaGFuZ2U6ICRzZXR1cC5vbk9wZW5DaGFuZ2UKICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAubWVudUxpc3QsIGl0ZW0gPT4gewogICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVDb21tZW50Vk5vZGUoIiDlrZjlnKhjaGlsZHJlbuWtkOiPnOWNleaDheWGtSAiKSwgaXRlbS5jaGlsZHJlbkxpc3QgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9hX3N1Yl9tZW51LCB7CiAgICAgICAga2V5OiBpdGVtLmlkCiAgICAgIH0sIHsKICAgICAgICBpY29uOiBfd2l0aEN0eCgoKSA9PiBbKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9yZXNvbHZlRHluYW1pY0NvbXBvbmVudChfY3R4LiRpY29uc1tpdGVtLmljb25dKSkpXSksCiAgICAgICAgdGl0bGU6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhpdGVtLm5hbWUpLCAxIC8qIFRFWFQgKi8pXSksCgogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KGl0ZW0uY2hpbGRyZW5MaXN0LCBjaGlsZCA9PiB7CiAgICAgICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9hX21lbnVfaXRlbSwgewogICAgICAgICAgICBrZXk6IGNoaWxkLmlkLAogICAgICAgICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gJHNldHVwLmhhbmRsZU1lbnVJdGVtKGNoaWxkLnBhdGgsIGNoaWxkLmlkKQogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9yZXNvbHZlRHluYW1pY0NvbXBvbmVudChfY3R4LiRpY29uc1tjaGlsZC5pY29uXSkpKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoY2hpbGQubmFtZSksIDEgLyogVEVYVCAqLyldKSwKCiAgICAgICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICAgICAgfSwgMTAzMiAvKiBQUk9QUywgRFlOQU1JQ19TTE9UUyAqLywgWyJvbkNsaWNrIl0pOwogICAgICAgIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0pLAoKICAgICAgICBfOiAyIC8qIERZTkFNSUMgKi8KICAgICAgfSwgMTAyNCAvKiBEWU5BTUlDX1NMT1RTICovKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgewogICAgICAgIGtleTogMQogICAgICB9LCBbX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOS4jeWtmOWcqOWtkOiPnOWNleaDheWGtSAiKSwgKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfYV9tZW51X2l0ZW0sIHsKICAgICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gJHNldHVwLmhhbmRsZU1lbnVJdGVtKGl0ZW0ucGF0aCwgaXRlbS5pZCksCiAgICAgICAga2V5OiBpdGVtLmlkCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9yZXNvbHZlRHluYW1pY0NvbXBvbmVudChfY3R4LiRpY29uc1tpdGVtLmljb25dKSkpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhpdGVtLm5hbWUpLCAxIC8qIFRFWFQgKi8pXSksCgogICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbIm9uQ2xpY2siXSkpXSwgMjExMiAvKiBTVEFCTEVfRlJBR01FTlQsIERFVl9ST09UX0ZSQUdNRU5UICovKSldLCA2NCAvKiBTVEFCTEVfRlJBR01FTlQgKi8pOwogICAgfSksIDI1NiAvKiBVTktFWUVEX0ZSQUdNRU5UICovKSldKSwKCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0sIDggLyogUFJPUFMgKi8sIFsib3Blbi1rZXlzIiwgInNlbGVjdGVkS2V5cyIsICJvbk9wZW5DaGFuZ2UiXSk7Cn0="},{"version":3,"mappings":";;;;;uBACEA,aA4BSC;IA5BDC,IAAI,EAAC,YAAY;IAChB,WAAS,EAAEC,eAAQ;IACnBC,YAAY,EAAED,mBAAY;IAC1BE,YAAU,EAAEF;;sBAET,MAAwB,oBAAlCG,oBAsBWC,6BAtBcJ,eAAQ,EAAhBK,IAAI;iEACnBC,wCAAwB,EACND,IAAI,CAACE,YAAY,kBAAnCV,aAcaW;QAdyBC,GAAG,EAAEJ,IAAI,CAACK;;QACnCC,IAAI,WACb,MAAqC,gBAArCd,aAAqCe,yBAArBC,WAAM,CAACR,IAAI,CAACM,IAAI;QAEvBG,KAAK,WACd,MAA4B,CAA5BC,oBAA4B,+BAAnBV,IAAI,CAACW,IAAI;;0BAGS,MAAkC,oBAA/Db,oBAKcC,6BAL+BC,IAAI,CAACE,YAAY,EAA1BU,KAAK;+BAAzCpB,aAKcqB;YALAT,GAAG,EAAEQ,KAAK,CAACP,EAAE;YACbS,OAAK,YAAEnB,qBAAc,CAACiB,KAAK,CAACG,IAAI,EAAEH,KAAK,CAACP,EAAE;;8BAEtD,MAAsC,gBAAtCb,aAAsCe,yBAAtBC,WAAM,CAACI,KAAK,CAACN,IAAI,MACjCI,oBAA6B,+BAApBE,KAAK,CAACD,IAAI;;;;;;;qDAIvBb,oBAGcC;QAAAK;MAAA,IAJdH,iCAAiB,iBACjBT,aAGcqB;QAHOC,OAAK,YAAEnB,qBAAc,CAACK,IAAI,CAACe,IAAI,EAAEf,IAAI,CAACK,EAAE;QAAID,GAAG,EAAEJ,IAAI,CAACK;;0BACzE,MAAqC,gBAArCb,aAAqCe,yBAArBC,WAAM,CAACR,IAAI,CAACM,IAAI,MAChCI,oBAA4B,+BAAnBV,IAAI,CAACW,IAAI","names":["_createBlock","_component_a_menu","mode","$setup","selectedKeys","onOpenChange","_createElementBlock","_Fragment","item","_createCommentVNode","childrenList","_component_a_sub_menu","key","id","icon","_resolveDynamicComponent","_ctx","title","_createElementVNode","name","child","_component_a_menu_item","onClick","path"],"sourceRoot":"","sources":["/Users/xuewei/Desktop/开源项目/arcade-x6/src/layouts/components/Menu.vue"],"sourcesContent":["<template>\n  <a-menu mode=\"horizontal\"\n          :open-keys=\"openKeys\"\n          :selectedKeys=\"selectedKeys\"\n          @openChange=\"onOpenChange\"\n  >\n    <template v-for=\"item of menuList\">\n      <!-- 存在children子菜单情况 -->\n      <a-sub-menu v-if=\"item.childrenList\" :key=\"item.id\">\n        <template #icon>\n          <component :is=\"$icons[item.icon]\" />\n        </template>\n        <template #title>\n          <span>{{ item.name }}</span>\n        </template>\n        <!-- 子菜单 -->\n        <a-menu-item :key=\"child.id\" v-for=\"child of item.childrenList\"\n                     @click=\"handleMenuItem(child.path, child.id)\"\n        >\n          <component :is=\"$icons[child.icon]\" />\n          <span>{{ child.name }}</span>\n        </a-menu-item>\n      </a-sub-menu>\n      <!-- 不存在子菜单情况 -->\n      <a-menu-item v-else @click=\"handleMenuItem(item.path, item.id)\" :key=\"item.id\" >\n        <component :is=\"$icons[item.icon]\" />\n        <span>{{ item.name }}</span>\n      </a-menu-item>\n    </template>\n  </a-menu>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter,useRoute } from 'vue-router'\n\n// 对menu的处理逻辑\nconst useMenuEffect = () =>{\n  const route = useRoute()\n  const router = useRouter()\n  const menuList = [\n    {\n      id: 1,\n      icon: 'ToolOutlined',\n      name: '组件列表',\n      path: '/tools'\n    },\n    {\n      id: 2,\n      icon: 'ClusterOutlined',\n      name: '流程列表',\n      path: '/flows'\n    },\n    {\n      id: 3,\n      icon: 'BarsOutlined',\n      name: '任务管理',\n      path: '/task',\n    },\n    // {\n    //   id: 3,\n    //   icon: 'QrcodeOutlined',\n    //   name: '流量管理',\n    //   childrenList:\n    //   [{\n    //     id: 31,\n    //     icon: 'PlaySquareOutlined',\n    //     name: '录制流量',\n    //     path: '/traffic/record'\n    //   },\n    //   {\n    //     id: 32,\n    //     icon: 'VideoCameraOutlined',\n    //     name: '回放流量',\n    //     path: '/traffic/playback'\n    //   }]\n    // }\n  ]\n  const selectedKeys = ref([])\n  const openKeys = ref([])\n  const rootSubmenuKeys = []\n  const handleMenuItem = (path, id) =>{\n    selectedKeys.value = [id]\n    router.push({path: path})\n  }\n  const curSelectKey = () =>{\n    let path = route.path.toString()\n    let id = 1\n    selectedKeys.value = [id]\n    menuList.forEach(obj => {\n      if (obj.path) {\n        if (path.indexOf(obj.path) != -1) {\n        // if (obj.path.includes(path)) {\n          id = obj.id\n          selectedKeys.value = [id]\n        }\n      } else {\n        obj.childrenList.forEach(child => {\n          if (path.indexOf(child.path) != -1) {\n          // if (child.path.includes(path)) {\n            id = child.id\n            selectedKeys.value = [id]\n          }\n        })\n      }\n    })\n\n  }\n  const curOpenKey = () => {\n    let path = route.path.toString().split('/')[1]\n    let id = 1\n    openKeys.value = []\n    menuList.forEach(obj => {\n      if (obj.path) {\n        if (path.indexOf(obj.path) != -1) {\n          id = obj.id\n          openKeys.value = [id]\n        }\n      } else {\n        obj.childrenList.forEach(child => {\n          if (path.indexOf(child.path) != -1) {\n            id = obj.id\n            openKeys.value = [id]\n          }\n        })\n      }\n    })\n  }\n  const onOpenChange = (openKeys) =>{\n    const latestOpenKey = openKeys.find(key => openKeys.indexOf(key) === -1)\n    if (rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n      openKeys.value = openKeys\n    } else {\n      openKeys.value = latestOpenKey ? [latestOpenKey] : []\n    }\n  }\n  return { menuList, openKeys,selectedKeys,handleMenuItem, onOpenChange,curSelectKey, curOpenKey }\n}\n\nexport default {\n  name: 'BaseMenu',\n  setup() {\n    const { menuList, openKeys,selectedKeys,handleMenuItem, onOpenChange,curSelectKey, curOpenKey } = useMenuEffect()\n    curSelectKey()\n    curOpenKey()\n    return { menuList, openKeys,selectedKeys,handleMenuItem, onOpenChange }\n  }\n}\n</script>\n\n<style scoped>\n/*.ant-menu-item-selected {*/\n/*  background-color: #ff6f22 !important;*/\n/*  color: white !important;*/\n/*}*/\n\n</style>\n"]}]}