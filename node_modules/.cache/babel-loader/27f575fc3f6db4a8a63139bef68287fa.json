{"remainingRequest":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/thread-loader/dist/cjs.js!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/param/ConditionParamConfig.vue?vue&type=template&id=2dad3654","dependencies":[{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/param/ConditionParamConfig.vue","mtime":1688896754253},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/babel.config.js","mtime":1667046646049},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/thread-loader/dist/cjs.js","mtime":1689430340741},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js","mtime":1689430342224},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1689430343293},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js","mtime":1689430342169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUgfSBmcm9tICJ2dWUiOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIGNvbnN0IF9jb21wb25lbnRfYV9jb2wgPSBfcmVzb2x2ZUNvbXBvbmVudCgiYS1jb2wiKTsKICBjb25zdCBfY29tcG9uZW50X01pbnVzQ2lyY2xlT3V0bGluZWQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiTWludXNDaXJjbGVPdXRsaW5lZCIpOwogIGNvbnN0IF9jb21wb25lbnRfYV9yb3cgPSBfcmVzb2x2ZUNvbXBvbmVudCgiYS1yb3ciKTsKICBjb25zdCBfY29tcG9uZW50X2Ffc2VsZWN0ID0gX3Jlc29sdmVDb21wb25lbnQoImEtc2VsZWN0Iik7CiAgY29uc3QgX2NvbXBvbmVudF9hX2Zvcm1faXRlbSA9IF9yZXNvbHZlQ29tcG9uZW50KCJhLWZvcm0taXRlbSIpOwogIGNvbnN0IF9jb21wb25lbnRfYV9pbnB1dCA9IF9yZXNvbHZlQ29tcG9uZW50KCJhLWlucHV0Iik7CiAgY29uc3QgX2NvbXBvbmVudF9hX2NhcmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiYS1jYXJkIik7CiAgY29uc3QgX2NvbXBvbmVudF9hX2Zvcm0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiYS1mb3JtIik7CiAgY29uc3QgX2NvbXBvbmVudF9QbHVzT3V0bGluZWQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiUGx1c091dGxpbmVkIik7CiAgY29uc3QgX2NvbXBvbmVudF9hX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJhLWJ1dHRvbiIpOwogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV9mb3JtLCB7CiAgICByZWY6ICJmb3JtUnVsZSIsCiAgICBtb2RlbDogJHNldHVwLmZvcm1Db25kaXRpb25QYXJhbSwKICAgICJsYWJlbC1jb2wiOiB7CiAgICAgIHNwYW46IDUKICAgIH0sCiAgICAid3JhcHBlci1jb2wiOiB7CiAgICAgIHNwYW46IDE4LAogICAgICBvZmZzZXQ6IDEKICAgIH0sCiAgICBzdHlsZTogewogICAgICAib3ZlcmZsb3ciOiAiYXV0byIKICAgIH0KICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAuZm9ybUNvbmRpdGlvblBhcmFtLmNvbmRpdGlvbkxpc3QsIChpdGVtLCBpbmRleCkgPT4gewogICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9hX2NhcmQsIHsKICAgICAgICBzdHlsZTogewogICAgICAgICAgIm1hcmdpbi1sZWZ0IjogIjEwcHgiLAogICAgICAgICAgIm1hcmdpbi1yaWdodCI6ICIxMHB4IiwKICAgICAgICAgICJtYXJnaW4tdG9wIjogIjE1cHgiCiAgICAgICAgfSwKICAgICAgICBrZXk6IGluZGV4CiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV9yb3csIHsKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICJ3aWR0aCI6ICIxMDAlIgogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2NvbCwgewogICAgICAgICAgICBzcGFuOiAyMwogICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2FfY29sLCB7CiAgICAgICAgICAgIHNwYW46IDEsCiAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgInRleHQtYWxpZ24iOiAicmlnaHQiLAogICAgICAgICAgICAgICJtYXJnaW4tYm90dG9tIjogIjEwcHgiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X01pbnVzQ2lyY2xlT3V0bGluZWQsIHsKICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgImNvbG9yIjogIiMxODkwZmYiCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBvbkNsaWNrOiAkZXZlbnQgPT4gJHNldHVwLnJlbW92ZUNvbmRpdGlvbihpdGVtKQogICAgICAgICAgICB9LCBudWxsLCA4LCBbIm9uQ2xpY2siXSldKSwKICAgICAgICAgICAgXzogMgogICAgICAgICAgfSwgMTAyNCldKSwKICAgICAgICAgIF86IDIKICAgICAgICB9LCAxMDI0KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV9mb3JtX2l0ZW0sIHsKICAgICAgICAgIGxhYmVsOiAi5YiG5pSv5p2h5Lu25Y+Y6YePIiwKICAgICAgICAgIG5hbWU6IFsnY29uZGl0aW9uTGlzdCcsIGluZGV4LCAnanNvbk5hbWUnXSwKICAgICAgICAgIHJ1bGVzOiB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAn5p2h5Lu25Y+Y6YeP5b+F5aGrJwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX3NlbGVjdCwgewogICAgICAgICAgICB2YWx1ZTogaXRlbS5qc29uTmFtZSwKICAgICAgICAgICAgIm9uVXBkYXRlOnZhbHVlIjogJGV2ZW50ID0+IGl0ZW0uanNvbk5hbWUgPSAkZXZlbnQsCiAgICAgICAgICAgIG9wdGlvbnM6ICRzZXR1cC5qc29uTmFtZU9wdGlvbgogICAgICAgICAgfSwgbnVsbCwgOCwgWyJ2YWx1ZSIsICJvblVwZGF0ZTp2YWx1ZSIsICJvcHRpb25zIl0pXSksCiAgICAgICAgICBfOiAyCiAgICAgICAgfSwgMTAzMiwgWyJuYW1lIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2Zvcm1faXRlbSwgewogICAgICAgICAgbGFiZWw6ICLliIbmlK/mnaHku7booajovr7lvI8iLAogICAgICAgICAgbmFtZTogWydjb25kaXRpb25MaXN0JywgaW5kZXgsICdleHByZXNzaW9uJ10sCiAgICAgICAgICBydWxlczogewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ+ihqOi+vuW8j+W/heWhqycKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV9pbnB1dCwgewogICAgICAgICAgICB2YWx1ZTogaXRlbS5leHByZXNzaW9uLAogICAgICAgICAgICAib25VcGRhdGU6dmFsdWUiOiAkZXZlbnQgPT4gaXRlbS5leHByZXNzaW9uID0gJGV2ZW50LAogICAgICAgICAgICBwbGFjZWhvbGRlcjogIkpzb25QYXRo6KGo6L6+5byPIiwKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAid2lkdGgiOiAiNjAlIiwKICAgICAgICAgICAgICAibWFyZ2luLXJpZ2h0IjogIjVweCIKICAgICAgICAgICAgfQogICAgICAgICAgfSwgbnVsbCwgOCwgWyJ2YWx1ZSIsICJvblVwZGF0ZTp2YWx1ZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYV9zZWxlY3QsIHsKICAgICAgICAgICAgdmFsdWU6IGl0ZW0ub3BlcmF0b3IsCiAgICAgICAgICAgICJvblVwZGF0ZTp2YWx1ZSI6ICRldmVudCA9PiBpdGVtLm9wZXJhdG9yID0gJGV2ZW50LAogICAgICAgICAgICBvcHRpb25zOiAkc2V0dXAub3BlcmF0b3JPcHRpb24sCiAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgIndpZHRoIjogIjE3JSIsCiAgICAgICAgICAgICAgInRleHQtYWxpZ24iOiAiY2VudGVyIiwKICAgICAgICAgICAgICAibWFyZ2luLXJpZ2h0IjogIjVweCIKICAgICAgICAgICAgfQogICAgICAgICAgfSwgbnVsbCwgOCwgWyJ2YWx1ZSIsICJvblVwZGF0ZTp2YWx1ZSIsICJvcHRpb25zIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2lucHV0LCB7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmV4cGVjdGVkVmFsdWUsCiAgICAgICAgICAgICJvblVwZGF0ZTp2YWx1ZSI6ICRldmVudCA9PiBpdGVtLmV4cGVjdGVkVmFsdWUgPSAkZXZlbnQsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAi5pyf5pyb5YC8IiwKICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAid2lkdGgiOiAiMjAlIgogICAgICAgICAgICB9CiAgICAgICAgICB9LCBudWxsLCA4LCBbInZhbHVlIiwgIm9uVXBkYXRlOnZhbHVlIl0pXSksCiAgICAgICAgICBfOiAyCiAgICAgICAgfSwgMTAzMiwgWyJuYW1lIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX2Zvcm1faXRlbSwgewogICAgICAgICAgbGFiZWw6ICLmiafooYznu4Tku7YiLAogICAgICAgICAgbmFtZTogWydjb25kaXRpb25MaXN0JywgaW5kZXgsICdjb21wb25lbnRJZCddLAogICAgICAgICAgcnVsZXM6IHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfmiafooYznu4Tku7blv4XloasnCiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2Ffc2VsZWN0LCB7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmNvbXBvbmVudElkLAogICAgICAgICAgICAib25VcGRhdGU6dmFsdWUiOiAkZXZlbnQgPT4gaXRlbS5jb21wb25lbnRJZCA9ICRldmVudCwKICAgICAgICAgICAgb3B0aW9uczogJHNldHVwLmNvbXBvbmVudE9wdGlvbnMKICAgICAgICAgIH0sIG51bGwsIDgsIFsidmFsdWUiLCAib25VcGRhdGU6dmFsdWUiLCAib3B0aW9ucyJdKV0pLAogICAgICAgICAgXzogMgogICAgICAgIH0sIDEwMzIsIFsibmFtZSJdKV0pLAogICAgICAgIF86IDIKICAgICAgfSwgMTAyNCk7CiAgICB9KSwgMTI4KSldKSwKICAgIF86IDEKICB9LCA4LCBbIm1vZGVsIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hX3JvdywgewogICAgc3R5bGU6IHsKICAgICAgIndpZHRoIjogIjEwMCUiLAogICAgICAibWFyZ2luLXRvcCI6ICIxNXB4IgogICAgfQogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFskc2V0dXAuZm9ybUNvbmRpdGlvblBhcmFtLmNvbmRpdGlvbkxpc3QubGVuZ3RoIDwgMyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2FfYnV0dG9uLCB7CiAgICAgIGtleTogMCwKICAgICAgdHlwZTogImRhc2hlZCIsCiAgICAgIGJsb2NrOiAiIiwKICAgICAgc3R5bGU6IHsKICAgICAgICAiY29sb3IiOiAiI2ZmNmEwMCIsCiAgICAgICAgIm1hcmdpbi1sZWZ0IjogIjEwcHgiLAogICAgICAgICJtYXJnaW4tcmlnaHQiOiAiMTBweCIKICAgICAgfSwKICAgICAgb25DbGljazogJHNldHVwLmFkZENvbmRpdGlvbgogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfUGx1c091dGxpbmVkKSwgX2NyZWF0ZVRleHRWTm9kZSgi5re75Yqg5p2h5Lu2IildKSwKICAgICAgXzogMQogICAgfSwgOCwgWyJvbkNsaWNrIl0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpXSksCiAgICBfOiAxCiAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2FfYnV0dG9uLCB7CiAgICB0eXBlOiAicHJpbWFyeSIsCiAgICBzdHlsZTogewogICAgICAiYm90dG9tIjogIjEwcHgiLAogICAgICAicmlnaHQiOiAiMjVweCIsCiAgICAgICJwb3NpdGlvbiI6ICJmaXhlZCIKICAgIH0sCiAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICRldmVudCA9PiAkc2V0dXAuc2F2ZVBhcmFtcygkcHJvcHMubm9kZSkpCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoKCkgPT4gW19jcmVhdGVUZXh0Vk5vZGUoIuS/neWtmCIpXSksCiAgICBfOiAxCiAgfSldLCA2NCk7Cn0="},{"version":3,"mappings":";;;;;;;;;;;;6DACEA,aAqBSC;IArBDC,GAAG,EAAC,UAAU;IAAEC,KAAK,EAAEC,yBAAkB;IAAG,WAAS,EAAE;MAAAC;IAAA,CAAS;IAAG,aAAW,EAAE;MAAAA;MAAAC;IAAA,CAAoB;IAAEC,KAAsB,EAAtB;MAAA;IAAA;;sBACtC,MAAwD,oBAA9HC,oBAmBSC,6BAnBoFL,yBAAkB,CAACM,aAAa,GAA/CC,IAAI,EAACC,KAAK;2BAAxFC,aAmBSC;QAnBDP,KAA6D,EAA7D;UAAA;UAAA;UAAA;QAAA,CAA6D;QAA2DQ,GAAG,EAAEH;;0BACnI,MAKQ,CALRZ,aAKQgB;UALDT,KAAoB,EAApB;YAAA;UAAA;QAAoB;4BACzB,MAA0B,CAA1BP,aAA0BiB;YAAlBZ,IAAI,EAAE;UAAE,IAChBL,aAEQiB;YAFAZ,IAAI,EAAE,CAAC;YAAEE,KAA6C,EAA7C;cAAA;cAAA;YAAA;;8BACf,MAA4E,CAA5EP,aAA4EkB;cAAvDX,KAAsB,EAAtB;gBAAA;cAAA,CAAsB;cAAEY,OAAK,YAAEf,sBAAe,CAACO,IAAI;;;;;kBAG5EX,aAEcoB;UAFDC,KAAK,EAAC,QAAQ;UAAEC,IAAI,oBAAmBV,KAAK;UAAeW,KAAK,EAAE;YAAAC;YAAAC;UAAA;;4BAC7E,MAA6E,CAA7EzB,aAA6E0B;YAA3DC,KAAK,EAAEhB,IAAI,CAACiB,QAAQ;wCAAbjB,IAAI,CAACiB,QAAQ;YAAGC,OAAO,EAAEzB;;;4BAEpDJ,aAIcoB;UAJDC,KAAK,EAAC,SAAS;UAAEC,IAAI,oBAAmBV,KAAK;UAAiBW,KAAK,EAAE;YAAAC;YAAAC;UAAA;;4BAChF,MAAkH,CAAlHzB,aAAkH8B;YAAjGH,KAAK,EAAEhB,IAAI,CAACoB,UAAU;wCAAfpB,IAAI,CAACoB,UAAU;YAAEC,WAAW,EAAC,aAAa;YAACzB,KAAoC,EAApC;cAAA;cAAA;YAAA;oDACnEP,aAAoI0B;YAAlHC,KAAK,EAAEhB,IAAI,CAACsB,QAAQ;wCAAbtB,IAAI,CAACsB,QAAQ;YAAGJ,OAAO,EAAEzB,qBAAc;YAAEG,KAAsD,EAAtD;cAAA;cAAA;cAAA;YAAA;+DAClEP,aAA2F8B;YAA1EH,KAAK,EAAEhB,IAAI,CAACuB,aAAa;wCAAlBvB,IAAI,CAACuB,aAAa;YAAEF,WAAW,EAAC,KAAK;YAACzB,KAAkB,EAAlB;cAAA;YAAA;;;4BAEhEP,aAGcoB;UAHDC,KAAK,EAAC,MAAM;UAAEC,IAAI,oBAAmBV,KAAK;UAAkBW,KAAK,EAAE;YAAAC;YAAAC;UAAA;;4BAE9E,MAAkF,CAAlFzB,aAAkF0B;YAAhEC,KAAK,EAAEhB,IAAI,CAACwB,WAAW;wCAAhBxB,IAAI,CAACwB,WAAW;YAAGN,OAAO,EAAEzB;;;;;;;;oBAI3DJ,aAEQgB;IAFDT,KAAqC,EAArC;MAAA;MAAA;IAAA;EAAqC;sBAC1C,MAA+L,CAA/KH,yBAAkB,CAACM,aAAa,CAAC0B,MAAM,sBAAvDvB,aAA+LwB;;MAApIC,IAAI,EAAC,QAAQ;MAACC,KAAK,EAAL,EAAK;MAAChC,KAA2D,EAA3D;QAAA;QAAA;QAAA;MAAA,CAA2D;MAAEY,OAAK,EAAEf;;wBAAc,MAAe,CAAfJ,aAAewC,iDAAI;;;;MAEtLxC,aAAgHqC;IAAtGC,IAAI,EAAC,SAAS;IAAC/B,KAA+C,EAA/C;MAAA;MAAA;MAAA;IAAA,CAA+C;IAAEY,OAAK,sCAAEf,iBAAU,CAACqC,WAAI;;sBAAG,MAAE,kBAAF,IAAE","names":["_createVNode","_component_a_form","ref","model","$setup","span","offset","style","_createElementBlock","_Fragment","conditionList","item","index","_createBlock","_component_a_card","key","_component_a_row","_component_a_col","_component_MinusCircleOutlined","onClick","_component_a_form_item","label","name","rules","required","message","_component_a_select","value","jsonName","options","_component_a_input","expression","placeholder","operator","expectedValue","componentId","length","_component_a_button","type","block","_component_PlusOutlined","$props"],"sourceRoot":"","sources":["/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/param/ConditionParamConfig.vue"],"sourcesContent":["<template>\n  <a-form ref=\"formRule\" :model=\"formConditionParam\" :label-col=\"{span: 5}\" :wrapper-col=\"{span: 18,offset: 1}\" style=\"overflow: auto\">\n    <a-card style=\"margin-left: 10px;margin-right: 10px;margin-top:15px;\" v-for=\"(item,index) in formConditionParam.conditionList\" :key=\"index\">\n      <a-row style=\"width: 100%;\">\n        <a-col :span=\"23\"></a-col>\n        <a-col :span=\"1\" style=\"text-align: right;margin-bottom: 10px\">\n          <MinusCircleOutlined style=\"color: #1890ff\" @click=\"removeCondition(item)\"/>\n        </a-col>\n      </a-row>\n      <a-form-item label=\"分支条件变量\" :name=\"['conditionList',index,'jsonName']\" :rules=\"{required: true,message: '条件变量必填'}\">\n        <a-select v-model:value=\"item.jsonName\" :options=\"jsonNameOption\"></a-select>\n      </a-form-item>\n      <a-form-item label=\"分支条件表达式\" :name=\"['conditionList',index,'expression']\" :rules=\"{required: true,message: '表达式必填'}\">\n        <a-input v-model:value=\"item.expression\" placeholder=\"JsonPath表达式\" style=\"width: 60%;margin-right: 5px\"></a-input>\n        <a-select v-model:value=\"item.operator\" :options=\"operatorOption\" style=\"width: 17%;text-align:center;margin-right: 5px\"></a-select>\n        <a-input v-model:value=\"item.expectedValue\" placeholder=\"期望值\" style=\"width: 20%\"></a-input>\n      </a-form-item>\n      <a-form-item label=\"执行组件\" :name=\"['conditionList',index,'componentId']\" :rules=\"{required: true,message: '执行组件必填'}\">\n<!--        <a-cascader v-model:value=\"item.component\" :options=\"componentOptions\" placeholder=\"请选择执行组件\"/>-->\n        <a-select v-model:value=\"item.componentId\" :options=\"componentOptions\"></a-select>\n      </a-form-item>\n    </a-card>\n  </a-form>\n  <a-row style=\"width: 100%;margin-top: 15px;\">\n    <a-button v-if=\"formConditionParam.conditionList.length<3\" type=\"dashed\" block style=\"color: #ff6a00;margin-left: 10px;margin-right: 10px\" @click=\"addCondition\"><PlusOutlined/>添加条件</a-button>\n  </a-row>\n  <a-button type=\"primary\" style=\"bottom: 10px;right:25px;position: fixed\" @click=\"saveParams(node)\">保存</a-button>\n</template>\n\n<script>\nimport {reactive, ref, watchEffect} from \"vue\";\nimport {message} from \"ant-design-vue\";\nimport {getAllComponent, queryNodes, queryVariables, updateNode} from \"@/api/request\";\nimport {useRouter} from \"vue-router/dist/vue-router\";\nimport {useStore} from \"vuex\";\n\nconst processInstanceId = ref(0)\nconst author = ref('')\n\n// 条件分支选择对应的组件\nconst useComponentEffect = (props)=>{\n  const componentOptions =  ref([])\n  const getOptions = async ()=>{\n    await queryNodes(props.versionId,processInstanceId.value).then(res=>{\n      if (res.code===0 && res.data) {\n        res.data.forEach(item=>{\n          componentOptions.value.push({\n            value: item.id,\n            label: item.name\n          })\n        })\n      }\n    })\n  }\n  const initOptions = async ()=>{\n    await getAllComponent().then(res=>{\n      if (res.code===0 && res.data){\n        res.data.forEach((item,index)=>{\n          componentOptions.value.push({\n            value: item.category,\n            label: item.category,\n            children: []\n          })\n          item.children.forEach((child,ind)=>{\n            componentOptions.value[index].children.push({\n              value: child.businessName,\n              label: child.businessName,\n              children: []\n            })\n            child.children.forEach(ch=>{\n              componentOptions.value[index].children[ind].children.push({...ch,\n                value: ch.id,\n                label: ch.toolName?ch.toolName:ch.name,\n              })\n            })\n          })\n        })\n      }\n    })\n  }\n  watchEffect(()=>{\n    if(props.activeKey == '1'){\n      getOptions()\n    }\n  })\n  return {componentOptions,initOptions,getOptions}\n\n}\n\n// 条件分支选择对应的变量\nconst useNamesEffect = (props)=>{\n  const jsonNameOption = ref([])\n  const queryVariablesList = async ()=>{\n    await queryVariables(props.versionId,processInstanceId.value).then(res=>{\n      if (res.code===0 && res.data){\n        res.data.forEach(item=>{\n          jsonNameOption.value.push({\n            value: item,\n            label: item\n          })\n        })\n      }\n    })\n  }\n  watchEffect(()=>{\n    if(props.activeKey == '1'){\n      queryVariablesList()\n    }\n  })\n  return {jsonNameOption,queryVariablesList}\n}\n\n// 分支条件组件\nconst useConditionEffect = (props,ctx)=>{\n  const formRule = ref({})\n  const formConditionParam = reactive({conditionList: [{jsonName:'',expression:'',operator:'==',expectedValue:'',componentId:''}]})\n  const operatorOption = [{\n    value: '==',\n    label: '=='\n  },{\n    value: '!=',\n    label: '!='\n  },{\n    value: '<',\n    label: '<'\n  },{\n    value: '<=',\n    label: '<='\n  },{\n    value: '>',\n    label: '>'\n  },{\n    value: '>=',\n    label: '>='\n  },{\n    value: 'contains',\n    label: 'contains'\n  },{\n    value: 'startsWith',\n    label: 'startsWith'\n  },{\n    value: 'endsWith',\n    label: 'endsWith'\n  }]\n  watchEffect(()=>{\n    if(props.activeKey == '1' && props.nodeParams){\n      let jsonParams = props.nodeParams.processInstanceParameter.parameterValue?JSON.parse(props.nodeParams.processInstanceParameter.parameterValue):null\n      formConditionParam.conditionList = jsonParams?jsonParams.conditionList:[{jsonName:'',expression:'',operator:'==',expectedValue:'',componentId:''}]\n    }\n  })\n  // const formConditionParam = reactive(props.nodeParams.processInstanceParameter.parameterValue?JSON.parse(props.nodeParams.processInstanceParameter.parameterValue) :{conditionList: [{expression:'',component:''}]})\n  const addCondition = ()=>{\n    if (formConditionParam.conditionList.length<3){\n      formConditionParam.conditionList.push({expression:'',component:''})\n    } else {\n      message.error('最多只能添加3个分支条件')\n    }\n  }\n  const removeCondition = (item)=>{\n    let index = formConditionParam.conditionList.indexOf(item)\n    if (index !== -1) {\n      formConditionParam.conditionList.splice(index, 1);\n    }\n  }\n  const saveParams = async(node)=>{\n    formRule.value.validateFields().then(async ()=>{\n      let req = {\n        \"processNode\": {\n          \"versionId\": props.versionId,\n          \"processInstanceId\": processInstanceId.value,\n          \"uuid\": node.id,\n          \"updatedBy\": author.value\n        },\n        \"processInstanceParameter\": [\n          {\n            \"versionId\": props.versionId,\n            \"parameterType\": \"参数信息\",\n            \"parameterName\": \"params\",\n            \"parameterValue\": JSON.stringify({\n              conditionList: formConditionParam.conditionList\n            }),\n            \"updatedBy\": author.value\n          }]\n      }\n      await updateNode(req).then(res=>{\n        if(res.code === 0){\n          message.success(\"参数更新成功;\"+\"id:\"+node.id)\n          ctx.emit('close')\n        } else {\n          message.error(\"参数更新失败:\"+res.message)\n        }\n      })\n    }).catch(()=>{\n      message.error('请填写完必填项')\n    })\n  }\n  return {formRule,formConditionParam,addCondition,removeCondition,saveParams,operatorOption}\n}\n\nexport default {\n  name: \"ConditionParamConfig\",\n  props: ['node','nodeParams','activeKey','versionId'],\n  emits:['close'],\n  setup(props,ctx){\n    const router = useRouter()\n    const store = useStore()\n    processInstanceId.value = router.currentRoute.value.params.processInstanceId\n    author.value = store.state.user.account\n    const {componentOptions} = useComponentEffect(props)\n    const {jsonNameOption} = useNamesEffect(props)\n    const {formRule,formConditionParam,addCondition,removeCondition,saveParams,operatorOption} = useConditionEffect(props,ctx)\n    // getOptions()\n    return {formRule,formConditionParam,componentOptions,addCondition,removeCondition,saveParams,operatorOption,jsonNameOption}\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}