{"remainingRequest":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/param/ToolParamConfig.vue?vue&type=template&id=f1505b06","dependencies":[{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/param/ToolParamConfig.vue","mtime":1689428251193},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/thread-loader/dist/cjs.js","mtime":1689430340741},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/babel-loader/lib/index.js","mtime":1689430342224},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1689430343293},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/cache-loader/dist/cjs.js","mtime":1689430340827},{"path":"/Users/xuewei/Desktop/开源项目/arcade-x6/node_modules/vue-loader-v16/dist/index.js","mtime":1689430342169}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGEtcm93IHN0eWxlPSJ3aWR0aDogMTAwJTt0ZXh0LWFsaWduOiByaWdodDtwYWRkaW5nLWJvdHRvbTogNXB4Ij4KICAgIDxhLWNvbCA6c3Bhbj0iMjQiPgogICAgICA8YS1idXR0b24gc2l6ZT0ic21hbGwiIHR5cGU9InByaW1hcnkiIEBjbGljaz0idGVzdFJlcXVlc3QiPua1i+ivleivt+axgjwvYS1idXR0b24+CiAgICA8L2EtY29sPgogIDwvYS1yb3c+CiAgPGEtZm9ybSByZWY9ImZvcm1SdWxlIiA6bW9kZWw9ImZvcm1Ob2RlUGFyYW0iIDpsYWJlbC1jb2w9Insgc3BhbjogMyB9IiA6d3JhcHBlci1jb2w9Insgc3BhbjogMjAsb2Zmc2V0OiAxICB9IiBzdHlsZT0ibWFyZ2luLXRvcDogNXB4OyI+CiAgICA8YS1mb3JtLWl0ZW0gbGFiZWw9IumDqOmXqCIgbmFtZT0iZGVwYXJ0bWVudCIgOnJ1bGVzPSJ7cmVxdWlyZWQ6IHRydWUsbWVzc2FnZTogJ+mDqOmXqOW/hemAiSd9Ij4KICAgICAgPGEtc2VsZWN0IHYtbW9kZWw6dmFsdWU9ImZvcm1Ob2RlUGFyYW0uZGVwYXJ0bWVudCIgOm9wdGlvbnM9ImRlcGFydG1lbnRPcHRpb25zIj48L2Etc2VsZWN0PgogICAgPC9hLWZvcm0taXRlbT4KICAgIDxhLWZvcm0taXRlbSBsYWJlbD0i5bel5YW35ZCNIiBuYW1lPSJ0b29sSWQiIDpydWxlcz0ie3JlcXVpcmVkOiB0cnVlLG1lc3NhZ2U6ICflt6Xlhbflv4XpgIknfSI+CiAgICAgIDxhLXNlbGVjdAogICAgICAgICAgdi1tb2RlbDp2YWx1ZT0iZm9ybU5vZGVQYXJhbS50b29sSWQiCiAgICAgICAgICA6b3B0aW9ucz0idG9vbE5hbWVPcHRpb25zIgogICAgICAgICAgc2hvdy1zZWFyY2gKICAgICAgICAgIGFsbG93LWNsZWFyCiAgICAgICAgICA6ZmlsdGVyT3B0aW9uPSJmaWx0ZXJPcHRpb24iCiAgICAgID4KICAgICAgPC9hLXNlbGVjdD4KICAgIDwvYS1mb3JtLWl0ZW0+CiAgICA8YS1mb3JtLWl0ZW0gbGFiZWw9Iuivt+axgmpzb24iIG5hbWU9InJlcXVlc3RKc29uIiA6cnVsZXM9IntyZXF1aXJlZDogdHJ1ZSxtZXNzYWdlOiAn6K+35rGCanNvbuW/heWhqyd9Ij4KICAgICAgPGNvZGVtaXJyb3Igdi1tb2RlbD0iZm9ybU5vZGVQYXJhbS5yZXF1ZXN0SnNvbiIgc3R5bGU9ImhlaWdodDogMjYwcHg7d2lkdGg6MTAwJTsiCiAgICAgICAgICAgICAgICAgIDphdXRvZm9jdXM9InRydWUiCiAgICAgICAgICAgICAgICAgIDppbmRlbnQtd2l0aC10YWI9InRydWUiCiAgICAgICAgICAgICAgICAgIDp0YWJTaXplPSIyIgogICAgICAgICAgICAgICAgICA6ZXh0ZW5zaW9ucz0iZXh0ZW5zaW9uc1JlcXVlc3QiLz4KICAgIDwvYS1mb3JtLWl0ZW0+CiAgICA8YS1mb3JtLWl0ZW0gbGFiZWw9Iui/lOWbnmpzb24iPgogICAgICA8Y29kZW1pcnJvciB2LW1vZGVsPSJmb3JtTm9kZVBhcmFtLnJlc3BvbnNlSnNvbiIgc3R5bGU9ImhlaWdodDogMjYwcHg7d2lkdGg6MTAwJTsiCiAgICAgICAgICAgICAgICAgIDphdXRvZm9jdXM9InRydWUiCiAgICAgICAgICAgICAgICAgIDppbmRlbnQtd2l0aC10YWI9InRydWUiCiAgICAgICAgICAgICAgICAgIDp0YWJTaXplPSIyIgogICAgICAgICAgICAgICAgICA6ZXh0ZW5zaW9ucz0iZXh0ZW5zaW9uc1Jlc3BvbnNlIi8+CiAgICA8L2EtZm9ybS1pdGVtPgogICAgPGEtZm9ybS1pdGVtIGxhYmVsPSLlk43lupTlj5jph4/lkI0iPgogICAgICA8YS1pbnB1dCB2LW1vZGVsOnZhbHVlPSJmb3JtTm9kZVBhcmFtLnJlc3BvbnNlUGFyYW1OYW1lIi8+CiAgICA8L2EtZm9ybS1pdGVtPgogIDwvYS1mb3JtPgogIDxhLWJ1dHRvbiB0eXBlPSJwcmltYXJ5IiBzdHlsZT0iYm90dG9tOiAxMHB4O3JpZ2h0OjI1cHg7cG9zaXRpb246IGZpeGVkIiBAY2xpY2s9InNhdmVQYXJhbXMobm9kZSkiPuS/neWtmDwvYS1idXR0b24+Cg=="},{"version":3,"sources":["/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/param/ToolParamConfig.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC9D,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACpI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5F,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9E,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/B;MACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1F,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;kBACpE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;kBAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;kBACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;kBACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;kBACrE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;kBAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;kBACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;kBACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/xuewei/Desktop/开源项目/arcade-x6/src/views/flows/components/param/ToolParamConfig.vue","sourceRoot":"","sourcesContent":["<template>\n  <a-row style=\"width: 100%;text-align: right;padding-bottom: 5px\">\n    <a-col :span=\"24\">\n      <a-button size=\"small\" type=\"primary\" @click=\"testRequest\">测试请求</a-button>\n    </a-col>\n  </a-row>\n  <a-form ref=\"formRule\" :model=\"formNodeParam\" :label-col=\"{ span: 3 }\" :wrapper-col=\"{ span: 20,offset: 1  }\" style=\"margin-top: 5px;\">\n    <a-form-item label=\"部门\" name=\"department\" :rules=\"{required: true,message: '部门必选'}\">\n      <a-select v-model:value=\"formNodeParam.department\" :options=\"departmentOptions\"></a-select>\n    </a-form-item>\n    <a-form-item label=\"工具名\" name=\"toolId\" :rules=\"{required: true,message: '工具必选'}\">\n      <a-select\n          v-model:value=\"formNodeParam.toolId\"\n          :options=\"toolNameOptions\"\n          show-search\n          allow-clear\n          :filterOption=\"filterOption\"\n      >\n      </a-select>\n    </a-form-item>\n    <a-form-item label=\"请求json\" name=\"requestJson\" :rules=\"{required: true,message: '请求json必填'}\">\n      <codemirror v-model=\"formNodeParam.requestJson\" style=\"height: 260px;width:100%;\"\n                  :autofocus=\"true\"\n                  :indent-with-tab=\"true\"\n                  :tabSize=\"2\"\n                  :extensions=\"extensionsRequest\"/>\n    </a-form-item>\n    <a-form-item label=\"返回json\">\n      <codemirror v-model=\"formNodeParam.responseJson\" style=\"height: 260px;width:100%;\"\n                  :autofocus=\"true\"\n                  :indent-with-tab=\"true\"\n                  :tabSize=\"2\"\n                  :extensions=\"extensionsResponse\"/>\n    </a-form-item>\n    <a-form-item label=\"响应变量名\">\n      <a-input v-model:value=\"formNodeParam.responseParamName\"/>\n    </a-form-item>\n  </a-form>\n  <a-button type=\"primary\" style=\"bottom: 10px;right:25px;position: fixed\" @click=\"saveParams(node)\">保存</a-button>\n</template>\n\n<script>\n// 参数tab页\nimport {reactive, ref, watchEffect} from \"vue\";\nimport {getToolDetail, getToolNames, runTool, updateNode} from \"@/api/request\";\nimport {message} from \"ant-design-vue\";\nimport {json} from \"@codemirror/lang-json\";\nimport {Codemirror} from \"vue-codemirror/dist/vue-codemirror.esm\";\nimport {useStore} from \"vuex\";\nimport {useRouter} from \"vue-router/dist/vue-router\";\nconst processInstanceId = ref(0)\nconst author = ref('')\n\nconst useParamsPanelEffect = (props,ctx)=>{\n  const formRule = ref({})\n  const formNodeParam = reactive({\n    department: null,\n    toolId: null,\n    requestJson: null,\n    responseParamName: null,\n    responseJson: null\n  })\n  const departmentOptions = [\n    {value:'MiddlewareTool',label:'中间件'},\n    {value:'FontTool',label:'前台'},\n    {value:'MiddleTool',label:'中台'},\n    {value:'UserTool',label:'用户'},\n    {value:'UtilTool',label:'公共'}\n  ]\n  const toolNameOptions = ref([])\n  const getNames = async ()=>{\n    let req = {\n      department: formNodeParam.department\n    }\n    await getToolNames(req).then(res=>{\n      if(res.code === 0 && res.data){\n        toolNameOptions.value = res.data.map(item=>{\n          return {\n            value: item.id,\n            label: item.toolName.trim()\n          }\n        })\n      }\n    })\n  }\n  const filterOption = (input, option) => {\n    return option.label.toLowerCase().indexOf(input.toLowerCase()) >= 0\n    // return option.value.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n  }\n  const getRequestJson = async ()=>{\n    let req = {toolId: formNodeParam.toolId}\n    getToolDetail(req).then(res=>{\n      if(res.code === 0 && res.data?.testToolDetail) {\n        let obj = JSON.parse(res.data?.testToolDetail?.requestParam)\n        let requestJson = {}\n        obj.forEach(item=>{\n          requestJson[item.name] = item?.defaultValue\n        })\n        formNodeParam.requestJson = JSON.stringify(requestJson,null,'\\t')\n      }else{\n        message.error(res.message)\n      }\n    })\n  }\n  const extensionsRequest = [json()]\n  const extensionsResponse = [json()]\n  // 测试请求，获取结果\n  const testRequest = async()=>{\n    // 先判断一下入参报文不为空在调用接口\n    if (formNodeParam.requestJson && formNodeParam.toolId){\n      // 调后端接口运行工具\n      let req = {\n        toolId: formNodeParam.toolId,\n        requestParam: formNodeParam.requestJson.toString().replaceAll('\\t','').replaceAll('\\n',''),\n        operator: \"amy.xue\" // todo 当前登录用户\n      }\n      await runTool(req).then(res=>{\n        if (res.code === 0) {\n          formNodeParam.responseJson = JSON.stringify(res.data.responseParam,null, '\\t')\n        } else {\n          message.error('工具执行失败：'+res.message)\n        }\n      })\n    }\n  }\n  const saveParams = async(node)=>{\n    formRule.value.validateFields().then(async ()=>{\n      let req = {\n        \"processNode\": {\n          \"versionId\": props.versionId,\n          \"processInstanceId\": processInstanceId.value,\n          \"uuid\": node.id,\n          \"updatedBy\": author.value\n        },\n        \"processInstanceParameter\": [\n          {\n            \"versionId\": props.versionId,\n            \"parameterType\": \"参数信息\",\n            \"parameterName\": \"params\",\n            \"parameterValue\": JSON.stringify({\n              department: formNodeParam?.department,\n              toolId: formNodeParam?.toolId,\n              requestJson: formNodeParam?.requestJson.toString().replaceAll('\\t','').replaceAll('\\n',''),\n              responseParamName: formNodeParam?.responseParamName,\n            }),\n            \"updatedBy\": author.value\n          }]\n      }\n      await updateNode(req).then(res=>{\n        if(res.code === 0){\n          message.success(\"参数更新成功;\"+\"id:\"+node.id)\n          ctx.emit('close')\n        } else {\n          message.error(\"参数更新失败：\"+res.message)\n        }\n      })\n    }).catch(() => {\n      // console.log(error)\n      message.error('请填写完必填项')\n    })\n  }\n  watchEffect(()=>{\n    if(props.activeKey == '1' && props.nodeParams){\n      let jsonParams = props.nodeParams.processInstanceParameter?.parameterValue?JSON.parse(props.nodeParams.processInstanceParameter.parameterValue):null\n      formNodeParam.department = jsonParams?jsonParams?.department:null\n      formNodeParam.toolId = jsonParams?jsonParams?.toolId:null\n      formNodeParam.requestJson = jsonParams?JSON.stringify(JSON.parse(jsonParams?.requestJson),null, '\\t'):null\n      formNodeParam.responseParamName = jsonParams?jsonParams?.responseParamName:null\n      formNodeParam.responseJson = null\n    }\n  })\n  watchEffect(()=>{\n    if (props.activeKey == '1' && formNodeParam.department) {\n      getNames()\n    }\n    if (props.activeKey == '1' && formNodeParam.toolId) {\n      getRequestJson()\n    }\n  })\n  return {\n    formRule,\n    formNodeParam,\n    departmentOptions,\n    toolNameOptions,\n    extensionsRequest,\n    extensionsResponse,\n    filterOption,\n    saveParams,\n    testRequest\n  }\n}\nexport default {\n  name: \"ToolParamConfig\",\n  props: ['node','activeKey','nodeParams','versionId'],\n  emits: ['close'],\n  components: {Codemirror},\n  setup(props,ctx){\n    const router = useRouter()\n    const store = useStore()\n    processInstanceId.value = router.currentRoute.value.params.processInstanceId\n    author.value = store.state.user.account\n    const {formRule,formNodeParam, departmentOptions, toolNameOptions, extensionsRequest,filterOption,saveParams,extensionsResponse,testRequest} = useParamsPanelEffect(props,ctx)\n    return {formRule,formNodeParam, departmentOptions, toolNameOptions, extensionsRequest,filterOption,saveParams,extensionsResponse,testRequest}\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"]}]}